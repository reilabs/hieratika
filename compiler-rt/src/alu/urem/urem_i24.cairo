use crate::alu::urem::urem;
use crate::integer::u24::u24;

pub fn __llvm_urem_x_x_x(lhs: u128, rhs: u128) -> u128 {
    urem::<u24>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_urem_x_x_x;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 242] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 863783, rhs: 12267509, expected: 863783},
        TestCaseTwoArgs{lhs: 14860191, rhs: 8004943, expected: 6855248},
        TestCaseTwoArgs{lhs: 11646455, rhs: 6360599, expected: 5285856},
        TestCaseTwoArgs{lhs: 6019955, rhs: 10759108, expected: 6019955},
        TestCaseTwoArgs{lhs: 2355296, rhs: 13584694, expected: 2355296},
        TestCaseTwoArgs{lhs: 10696059, rhs: 12173913, expected: 10696059},
        TestCaseTwoArgs{lhs: 10069641, rhs: 5856330, expected: 4213311},
        TestCaseTwoArgs{lhs: 8231864, rhs: 14627779, expected: 8231864},
        TestCaseTwoArgs{lhs: 15478348, rhs: 16312054, expected: 15478348},
        TestCaseTwoArgs{lhs: 15479219, rhs: 295451, expected: 115767},
        TestCaseTwoArgs{lhs: 5836088, rhs: 7264886, expected: 5836088},
        TestCaseTwoArgs{lhs: 1364684, rhs: 6923807, expected: 1364684},
        TestCaseTwoArgs{lhs: 2156655, rhs: 10063515, expected: 2156655},
        TestCaseTwoArgs{lhs: 13399766, rhs: 6826123, expected: 6573643},
        TestCaseTwoArgs{lhs: 2989058, rhs: 1554029, expected: 1435029},
        TestCaseTwoArgs{lhs: 14112364, rhs: 3757773, expected: 2839045},
        TestCaseTwoArgs{lhs: 10868198, rhs: 389599, expected: 349025},
        TestCaseTwoArgs{lhs: 1842247, rhs: 11533628, expected: 1842247},
        TestCaseTwoArgs{lhs: 8127410, rhs: 1780068, expected: 1007138},
        TestCaseTwoArgs{lhs: 1100872, rhs: 9809489, expected: 1100872},
        TestCaseTwoArgs{lhs: 16228413, rhs: 5404974, expected: 13491},
        TestCaseTwoArgs{lhs: 6666855, rhs: 8183912, expected: 6666855},
        TestCaseTwoArgs{lhs: 10453589, rhs: 5739048, expected: 4714541},
        TestCaseTwoArgs{lhs: 5157869, rhs: 7700871, expected: 5157869},
        TestCaseTwoArgs{lhs: 3718809, rhs: 7744713, expected: 3718809},
        TestCaseTwoArgs{lhs: 15903195, rhs: 13880268, expected: 2022927},
        TestCaseTwoArgs{lhs: 15208786, rhs: 11896696, expected: 3312090},
        TestCaseTwoArgs{lhs: 5915459, rhs: 15445992, expected: 5915459},
        TestCaseTwoArgs{lhs: 407404, rhs: 10842988, expected: 407404},
        TestCaseTwoArgs{lhs: 6823118, rhs: 11798290, expected: 6823118},
        TestCaseTwoArgs{lhs: 3556615, rhs: 2426147, expected: 1130468},
        TestCaseTwoArgs{lhs: 1398751, rhs: 5605436, expected: 1398751},
        TestCaseTwoArgs{lhs: 13404287, rhs: 3510709, expected: 2872160},
        TestCaseTwoArgs{lhs: 7439887, rhs: 15282471, expected: 7439887},
        TestCaseTwoArgs{lhs: 13156216, rhs: 16226637, expected: 13156216},
        TestCaseTwoArgs{lhs: 7561590, rhs: 4928693, expected: 2632897},
        TestCaseTwoArgs{lhs: 15751781, rhs: 13996185, expected: 1755596},
        TestCaseTwoArgs{lhs: 10487905, rhs: 15921032, expected: 10487905},
        TestCaseTwoArgs{lhs: 7682949, rhs: 5900093, expected: 1782856},
        TestCaseTwoArgs{lhs: 15691632, rhs: 9930872, expected: 5760760},
        TestCaseTwoArgs{lhs: 3358774, rhs: 2614498, expected: 744276},
        TestCaseTwoArgs{lhs: 15067067, rhs: 1267785, expected: 1121432},
        TestCaseTwoArgs{lhs: 9183060, rhs: 14358200, expected: 9183060},
        TestCaseTwoArgs{lhs: 16291050, rhs: 8903002, expected: 7388048},
        TestCaseTwoArgs{lhs: 7078909, rhs: 5731133, expected: 1347776},
        TestCaseTwoArgs{lhs: 4878209, rhs: 11315347, expected: 4878209},
        TestCaseTwoArgs{lhs: 4862336, rhs: 11209382, expected: 4862336},
        TestCaseTwoArgs{lhs: 1199630, rhs: 1050859, expected: 148771},
        TestCaseTwoArgs{lhs: 5231542, rhs: 13273400, expected: 5231542},
        TestCaseTwoArgs{lhs: 14884791, rhs: 6905299, expected: 1074193},
        TestCaseTwoArgs{lhs: 7018041, rhs: 2130658, expected: 626067},
        TestCaseTwoArgs{lhs: 12772750, rhs: 15448066, expected: 12772750},
        TestCaseTwoArgs{lhs: 12451549, rhs: 8643531, expected: 3808018},
        TestCaseTwoArgs{lhs: 8059866, rhs: 8246471, expected: 8059866},
        TestCaseTwoArgs{lhs: 11715374, rhs: 9728682, expected: 1986692},
        TestCaseTwoArgs{lhs: 3248761, rhs: 12099301, expected: 3248761},
        TestCaseTwoArgs{lhs: 11555217, rhs: 1115936, expected: 395857},
        TestCaseTwoArgs{lhs: 4233078, rhs: 14562746, expected: 4233078},
        TestCaseTwoArgs{lhs: 1994164, rhs: 15842573, expected: 1994164},
        TestCaseTwoArgs{lhs: 4270237, rhs: 10751661, expected: 4270237},
        TestCaseTwoArgs{lhs: 299391, rhs: 16451855, expected: 299391},
        TestCaseTwoArgs{lhs: 16626394, rhs: 1730174, expected: 1054828},
        TestCaseTwoArgs{lhs: 9634304, rhs: 4831926, expected: 4802378},
        TestCaseTwoArgs{lhs: 3538370, rhs: 12539442, expected: 3538370},
        TestCaseTwoArgs{lhs: 8221097, rhs: 6797715, expected: 1423382},
        TestCaseTwoArgs{lhs: 10718264, rhs: 2424920, expected: 1018584},
        TestCaseTwoArgs{lhs: 753861, rhs: 15026424, expected: 753861},
        TestCaseTwoArgs{lhs: 5652652, rhs: 13464794, expected: 5652652},
        TestCaseTwoArgs{lhs: 8554208, rhs: 4002637, expected: 548934},
        TestCaseTwoArgs{lhs: 11288739, rhs: 10775365, expected: 513374},
        TestCaseTwoArgs{lhs: 15342098, rhs: 15739075, expected: 15342098},
        TestCaseTwoArgs{lhs: 12377168, rhs: 7178673, expected: 5198495},
        TestCaseTwoArgs{lhs: 7380982, rhs: 2906034, expected: 1568914},
        TestCaseTwoArgs{lhs: 2552075, rhs: 7058846, expected: 2552075},
        TestCaseTwoArgs{lhs: 7409370, rhs: 7980317, expected: 7409370},
        TestCaseTwoArgs{lhs: 7478050, rhs: 8567911, expected: 7478050},
        TestCaseTwoArgs{lhs: 12042434, rhs: 2100959, expected: 1537639},
        TestCaseTwoArgs{lhs: 16109418, rhs: 8811446, expected: 7297972},
        TestCaseTwoArgs{lhs: 5067207, rhs: 6620451, expected: 5067207},
        TestCaseTwoArgs{lhs: 3068499, rhs: 16056625, expected: 3068499},
        TestCaseTwoArgs{lhs: 6351586, rhs: 9332435, expected: 6351586},
        TestCaseTwoArgs{lhs: 3989061, rhs: 67145, expected: 27506},
        TestCaseTwoArgs{lhs: 10399550, rhs: 4316361, expected: 1766828},
        TestCaseTwoArgs{lhs: 16118716, rhs: 15011727, expected: 1106989},
        TestCaseTwoArgs{lhs: 3275946, rhs: 15030558, expected: 3275946},
        TestCaseTwoArgs{lhs: 7248905, rhs: 8736009, expected: 7248905},
        TestCaseTwoArgs{lhs: 13163946, rhs: 7966756, expected: 5197190},
        TestCaseTwoArgs{lhs: 12794528, rhs: 8369390, expected: 4425138},
        TestCaseTwoArgs{lhs: 8311459, rhs: 1174275, expected: 91534},
        TestCaseTwoArgs{lhs: 267255, rhs: 4187127, expected: 267255},
        TestCaseTwoArgs{lhs: 13241912, rhs: 6143984, expected: 953944},
        TestCaseTwoArgs{lhs: 16069072, rhs: 13767898, expected: 2301174},
        TestCaseTwoArgs{lhs: 7029578, rhs: 557780, expected: 336218},
        TestCaseTwoArgs{lhs: 16150237, rhs: 15897124, expected: 253113},
        TestCaseTwoArgs{lhs: 13799186, rhs: 1416798, expected: 1048004},
        TestCaseTwoArgs{lhs: 5240797, rhs: 11541956, expected: 5240797},
        TestCaseTwoArgs{lhs: 7811597, rhs: 5851854, expected: 1959743},
        TestCaseTwoArgs{lhs: 3713028, rhs: 12027615, expected: 3713028},
        TestCaseTwoArgs{lhs: 15679207, rhs: 2210377, expected: 206568},
        TestCaseTwoArgs{lhs: 3272861, rhs: 4589122, expected: 3272861},
        TestCaseTwoArgs{lhs: 2993566, rhs: 9014795, expected: 2993566},
        TestCaseTwoArgs{lhs: 11055380, rhs: 9791892, expected: 1263488},
        TestCaseTwoArgs{lhs: 7378161, rhs: 12795512, expected: 7378161},
        TestCaseTwoArgs{lhs: 9749209, rhs: 61871, expected: 35462},
        TestCaseTwoArgs{lhs: 4191169, rhs: 3343002, expected: 848167},
        TestCaseTwoArgs{lhs: 7864292, rhs: 10309477, expected: 7864292},
        TestCaseTwoArgs{lhs: 1409428, rhs: 7670126, expected: 1409428},
        TestCaseTwoArgs{lhs: 7270613, rhs: 856379, expected: 419581},
        TestCaseTwoArgs{lhs: 8998977, rhs: 9501919, expected: 8998977},
        TestCaseTwoArgs{lhs: 8517876, rhs: 333609, expected: 177651},
        TestCaseTwoArgs{lhs: 10166449, rhs: 13173786, expected: 10166449},
        TestCaseTwoArgs{lhs: 532656, rhs: 6929273, expected: 532656},
        TestCaseTwoArgs{lhs: 3040409, rhs: 7803563, expected: 3040409},
        TestCaseTwoArgs{lhs: 2307913, rhs: 12177718, expected: 2307913},
        TestCaseTwoArgs{lhs: 11074117, rhs: 753231, expected: 528883},
        TestCaseTwoArgs{lhs: 8817851, rhs: 2527841, expected: 1234328},
        TestCaseTwoArgs{lhs: 11211690, rhs: 12387684, expected: 11211690},
        TestCaseTwoArgs{lhs: 9373911, rhs: 1048400, expected: 986711},
        TestCaseTwoArgs{lhs: 721801, rhs: 10659409, expected: 721801},
        TestCaseTwoArgs{lhs: 8843340, rhs: 2284939, expected: 1988523},
        TestCaseTwoArgs{lhs: 3241263, rhs: 6560923, expected: 3241263},
        TestCaseTwoArgs{lhs: 16423383, rhs: 15492020, expected: 931363},
        TestCaseTwoArgs{lhs: 11616316, rhs: 14865321, expected: 11616316},
        TestCaseTwoArgs{lhs: 9993621, rhs: 8635208, expected: 1358413},
        TestCaseTwoArgs{lhs: 3263527, rhs: 4924893, expected: 3263527},
        TestCaseTwoArgs{lhs: 2993876, rhs: 15729392, expected: 2993876},
        TestCaseTwoArgs{lhs: 8072429, rhs: 13625590, expected: 8072429},
        TestCaseTwoArgs{lhs: 376093, rhs: 4335828, expected: 376093},
        TestCaseTwoArgs{lhs: 13068759, rhs: 134469, expected: 25266},
        TestCaseTwoArgs{lhs: 16583041, rhs: 1194249, expected: 1057804},
        TestCaseTwoArgs{lhs: 2980883, rhs: 13709352, expected: 2980883},
        TestCaseTwoArgs{lhs: 7798324, rhs: 3820996, expected: 156332},
        TestCaseTwoArgs{lhs: 4313612, rhs: 1431151, expected: 20159},
        TestCaseTwoArgs{lhs: 16735085, rhs: 14652212, expected: 2082873},
        TestCaseTwoArgs{lhs: 4419190, rhs: 771989, expected: 559245},
        TestCaseTwoArgs{lhs: 3981463, rhs: 3550224, expected: 431239},
        TestCaseTwoArgs{lhs: 3203058, rhs: 10196668, expected: 3203058},
        TestCaseTwoArgs{lhs: 8817503, rhs: 2966858, expected: 2883787},
        TestCaseTwoArgs{lhs: 15567860, rhs: 12721147, expected: 2846713},
        TestCaseTwoArgs{lhs: 13745970, rhs: 215472, expected: 171234},
        TestCaseTwoArgs{lhs: 16630037, rhs: 8975805, expected: 7654232},
        TestCaseTwoArgs{lhs: 15812464, rhs: 13720800, expected: 2091664},
        TestCaseTwoArgs{lhs: 15772670, rhs: 15913814, expected: 15772670},
        TestCaseTwoArgs{lhs: 14749636, rhs: 14255472, expected: 494164},
        TestCaseTwoArgs{lhs: 9476770, rhs: 5637254, expected: 3839516},
        TestCaseTwoArgs{lhs: 13954915, rhs: 15223225, expected: 13954915},
        TestCaseTwoArgs{lhs: 5001674, rhs: 7774699, expected: 5001674},
        TestCaseTwoArgs{lhs: 7694164, rhs: 14630756, expected: 7694164},
        TestCaseTwoArgs{lhs: 14951169, rhs: 5403223, expected: 4144723},
        TestCaseTwoArgs{lhs: 13938179, rhs: 16370963, expected: 13938179},
        TestCaseTwoArgs{lhs: 15814392, rhs: 11071349, expected: 4743043},
        TestCaseTwoArgs{lhs: 1357544, rhs: 1636512, expected: 1357544},
        TestCaseTwoArgs{lhs: 16676801, rhs: 9432476, expected: 7244325},
        TestCaseTwoArgs{lhs: 9450088, rhs: 1270841, expected: 554201},
        TestCaseTwoArgs{lhs: 6300113, rhs: 16247758, expected: 6300113},
        TestCaseTwoArgs{lhs: 3336835, rhs: 9519249, expected: 3336835},
        TestCaseTwoArgs{lhs: 12712867, rhs: 16281386, expected: 12712867},
        TestCaseTwoArgs{lhs: 9721851, rhs: 1814384, expected: 649931},
        TestCaseTwoArgs{lhs: 9041352, rhs: 7328730, expected: 1712622},
        TestCaseTwoArgs{lhs: 7338752, rhs: 3061637, expected: 1215478},
        TestCaseTwoArgs{lhs: 5451303, rhs: 8761136, expected: 5451303},
        TestCaseTwoArgs{lhs: 8177474, rhs: 1151793, expected: 114923},
        TestCaseTwoArgs{lhs: 13634056, rhs: 15865636, expected: 13634056},
        TestCaseTwoArgs{lhs: 11491328, rhs: 12260117, expected: 11491328},
        TestCaseTwoArgs{lhs: 7807575, rhs: 4515217, expected: 3292358},
        TestCaseTwoArgs{lhs: 9362726, rhs: 15742803, expected: 9362726},
        TestCaseTwoArgs{lhs: 13076046, rhs: 7405979, expected: 5670067},
        TestCaseTwoArgs{lhs: 3862315, rhs: 5637126, expected: 3862315},
        TestCaseTwoArgs{lhs: 4764415, rhs: 4968950, expected: 4764415},
        TestCaseTwoArgs{lhs: 859664, rhs: 2861268, expected: 859664},
        TestCaseTwoArgs{lhs: 5473943, rhs: 9628, expected: 5239},
        TestCaseTwoArgs{lhs: 8831647, rhs: 10239506, expected: 8831647},
        TestCaseTwoArgs{lhs: 9468210, rhs: 12726505, expected: 9468210},
        TestCaseTwoArgs{lhs: 3232759, rhs: 4380453, expected: 3232759},
        TestCaseTwoArgs{lhs: 6059285, rhs: 10455468, expected: 6059285},
        TestCaseTwoArgs{lhs: 7232589, rhs: 6712931, expected: 519658},
        TestCaseTwoArgs{lhs: 5690342, rhs: 13919830, expected: 5690342},
        TestCaseTwoArgs{lhs: 1723054, rhs: 9050637, expected: 1723054},
        TestCaseTwoArgs{lhs: 11670982, rhs: 16535733, expected: 11670982},
        TestCaseTwoArgs{lhs: 16501643, rhs: 11549238, expected: 4952405},
        TestCaseTwoArgs{lhs: 13999368, rhs: 15255351, expected: 13999368},
        TestCaseTwoArgs{lhs: 9364852, rhs: 14881107, expected: 9364852},
        TestCaseTwoArgs{lhs: 589642, rhs: 2939482, expected: 589642},
        TestCaseTwoArgs{lhs: 1686373, rhs: 6751570, expected: 1686373},
        TestCaseTwoArgs{lhs: 1412248, rhs: 2713979, expected: 1412248},
        TestCaseTwoArgs{lhs: 10364448, rhs: 8931412, expected: 1433036},
        TestCaseTwoArgs{lhs: 4096364, rhs: 8629193, expected: 4096364},
        TestCaseTwoArgs{lhs: 14270967, rhs: 14756409, expected: 14270967},
        TestCaseTwoArgs{lhs: 6384681, rhs: 2248993, expected: 1886695},
        TestCaseTwoArgs{lhs: 14440415, rhs: 1399897, expected: 441445},
        TestCaseTwoArgs{lhs: 15696493, rhs: 12858931, expected: 2837562},
        TestCaseTwoArgs{lhs: 346257, rhs: 104745, expected: 32022},
        TestCaseTwoArgs{lhs: 12128790, rhs: 5875828, expected: 377134},
        TestCaseTwoArgs{lhs: 15606861, rhs: 1270133, expected: 365265},
        TestCaseTwoArgs{lhs: 13497514, rhs: 2165017, expected: 507412},
        TestCaseTwoArgs{lhs: 2155858, rhs: 9743467, expected: 2155858},
        TestCaseTwoArgs{lhs: 2909368, rhs: 4752361, expected: 2909368},
        TestCaseTwoArgs{lhs: 9657770, rhs: 13860090, expected: 9657770},
        TestCaseTwoArgs{lhs: 7510919, rhs: 11036545, expected: 7510919},
        TestCaseTwoArgs{lhs: 2589897, rhs: 183919, expected: 15031},
        TestCaseTwoArgs{lhs: 153475, rhs: 7075039, expected: 153475},
        TestCaseTwoArgs{lhs: 2845498, rhs: 4940142, expected: 2845498},
        TestCaseTwoArgs{lhs: 3347226, rhs: 16472026, expected: 3347226},
        TestCaseTwoArgs{lhs: 2436301, rhs: 15562864, expected: 2436301},
        TestCaseTwoArgs{lhs: 15386780, rhs: 13807876, expected: 1578904},
        TestCaseTwoArgs{lhs: 12926621, rhs: 7639001, expected: 5287620},
        TestCaseTwoArgs{lhs: 5645833, rhs: 2692703, expected: 260427},
        TestCaseTwoArgs{lhs: 6324463, rhs: 6926359, expected: 6324463},
        TestCaseTwoArgs{lhs: 10721427, rhs: 10755215, expected: 10721427},
        TestCaseTwoArgs{lhs: 4929796, rhs: 14478960, expected: 4929796},
        TestCaseTwoArgs{lhs: 8114250, rhs: 12740191, expected: 8114250},
        TestCaseTwoArgs{lhs: 2307349, rhs: 11028125, expected: 2307349},
        TestCaseTwoArgs{lhs: 13840777, rhs: 14387299, expected: 13840777},
        TestCaseTwoArgs{lhs: 15904349, rhs: 946611, expected: 758573},
        TestCaseTwoArgs{lhs: 6710705, rhs: 3520413, expected: 3190292},
        TestCaseTwoArgs{lhs: 8193768, rhs: 12160323, expected: 8193768},
        TestCaseTwoArgs{lhs: 8285518, rhs: 11258259, expected: 8285518},
        TestCaseTwoArgs{lhs: 3752249, rhs: 9978100, expected: 3752249},
        TestCaseTwoArgs{lhs: 10829270, rhs: 7353856, expected: 3475414},
        TestCaseTwoArgs{lhs: 2184654, rhs: 5617027, expected: 2184654},
        TestCaseTwoArgs{lhs: 13593873, rhs: 13474164, expected: 119709},
        TestCaseTwoArgs{lhs: 15639014, rhs: 3484757, expected: 1699986},
        TestCaseTwoArgs{lhs: 7274888, rhs: 1195958, expected: 99140},
        TestCaseTwoArgs{lhs: 777853, rhs: 10277306, expected: 777853},
        TestCaseTwoArgs{lhs: 16531920, rhs: 13136504, expected: 3395416},
        TestCaseTwoArgs{lhs: 13698167, rhs: 5887301, expected: 1923565},
        TestCaseTwoArgs{lhs: 5670134, rhs: 8811864, expected: 5670134},
        TestCaseTwoArgs{lhs: 7276069, rhs: 6330164, expected: 945905},
        TestCaseTwoArgs{lhs: 6213009, rhs: 16485594, expected: 6213009},
        TestCaseTwoArgs{lhs: 12613256, rhs: 14714569, expected: 12613256},
        TestCaseTwoArgs{lhs: 1022910, rhs: 8913416, expected: 1022910},
        TestCaseTwoArgs{lhs: 8280319, rhs: 12308318, expected: 8280319},
        TestCaseTwoArgs{lhs: 7346778, rhs: 10419239, expected: 7346778},
        TestCaseTwoArgs{lhs: 7428299, rhs: 1109305, expected: 772469},
        TestCaseTwoArgs{lhs: 13199780, rhs: 272607, expected: 114644},
        TestCaseTwoArgs{lhs: 10340262, rhs: 282210, expected: 180702},
        TestCaseTwoArgs{lhs: 4861087, rhs: 13267734, expected: 4861087},
        TestCaseTwoArgs{lhs: 8694570, rhs: 16155992, expected: 8694570},
        TestCaseTwoArgs{lhs: 15626720, rhs: 2581899, expected: 135326},
        TestCaseTwoArgs{lhs: 3297493, rhs: 12484190, expected: 3297493},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 16777215, expected: 0},
        TestCaseTwoArgs{lhs: 16777215, rhs: 16777215, expected: 0},
    ];

    #[test]
    fn test_i24() {
        for case in test_cases.span() {
            assert_eq!(__llvm_urem_x_x_x(*case.lhs, *case.rhs), *case.expected);
        }
    }

    #[test]
    #[should_panic(expected: ('Division by 0',))]
    fn test_div_by_zero() {
        __llvm_urem_x_x_x(1, 0);
    }
}
