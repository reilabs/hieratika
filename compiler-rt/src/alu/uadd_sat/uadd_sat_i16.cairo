use crate::alu::uadd_sat::uadd_sat;

pub fn __llvm_uadd_sat_z_z_z(lhs: u128, rhs: u128) -> u128 {
    uadd_sat::<u16>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_uadd_sat_z_z_z;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 244] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 36831, rhs: 38814, expected: 65535},
        TestCaseTwoArgs{lhs: 23697, rhs: 55803, expected: 65535},
        TestCaseTwoArgs{lhs: 49435, rhs: 8903, expected: 58338},
        TestCaseTwoArgs{lhs: 13752, rhs: 3428, expected: 17180},
        TestCaseTwoArgs{lhs: 17064, rhs: 55431, expected: 65535},
        TestCaseTwoArgs{lhs: 35652, rhs: 50729, expected: 65535},
        TestCaseTwoArgs{lhs: 20510, rhs: 51894, expected: 65535},
        TestCaseTwoArgs{lhs: 16321, rhs: 8257, expected: 24578},
        TestCaseTwoArgs{lhs: 6606, rhs: 25223, expected: 31829},
        TestCaseTwoArgs{lhs: 54377, rhs: 49569, expected: 65535},
        TestCaseTwoArgs{lhs: 21124, rhs: 53066, expected: 65535},
        TestCaseTwoArgs{lhs: 63126, rhs: 36939, expected: 65535},
        TestCaseTwoArgs{lhs: 61265, rhs: 51339, expected: 65535},
        TestCaseTwoArgs{lhs: 60056, rhs: 15792, expected: 65535},
        TestCaseTwoArgs{lhs: 27647, rhs: 9180, expected: 36827},
        TestCaseTwoArgs{lhs: 41447, rhs: 41499, expected: 65535},
        TestCaseTwoArgs{lhs: 33792, rhs: 59154, expected: 65535},
        TestCaseTwoArgs{lhs: 2634, rhs: 2251, expected: 4885},
        TestCaseTwoArgs{lhs: 26531, rhs: 35664, expected: 62195},
        TestCaseTwoArgs{lhs: 29582, rhs: 60663, expected: 65535},
        TestCaseTwoArgs{lhs: 2604, rhs: 61636, expected: 64240},
        TestCaseTwoArgs{lhs: 29696, rhs: 25460, expected: 55156},
        TestCaseTwoArgs{lhs: 43735, rhs: 41248, expected: 65535},
        TestCaseTwoArgs{lhs: 821, rhs: 46168, expected: 46989},
        TestCaseTwoArgs{lhs: 42631, rhs: 28393, expected: 65535},
        TestCaseTwoArgs{lhs: 6921, rhs: 20942, expected: 27863},
        TestCaseTwoArgs{lhs: 27193, rhs: 34688, expected: 61881},
        TestCaseTwoArgs{lhs: 44520, rhs: 4716, expected: 49236},
        TestCaseTwoArgs{lhs: 62396, rhs: 51305, expected: 65535},
        TestCaseTwoArgs{lhs: 43353, rhs: 37087, expected: 65535},
        TestCaseTwoArgs{lhs: 49565, rhs: 11734, expected: 61299},
        TestCaseTwoArgs{lhs: 45603, rhs: 49398, expected: 65535},
        TestCaseTwoArgs{lhs: 47159, rhs: 63557, expected: 65535},
        TestCaseTwoArgs{lhs: 21768, rhs: 42482, expected: 64250},
        TestCaseTwoArgs{lhs: 24873, rhs: 22808, expected: 47681},
        TestCaseTwoArgs{lhs: 43992, rhs: 47997, expected: 65535},
        TestCaseTwoArgs{lhs: 27410, rhs: 46314, expected: 65535},
        TestCaseTwoArgs{lhs: 30530, rhs: 33331, expected: 63861},
        TestCaseTwoArgs{lhs: 35125, rhs: 27899, expected: 63024},
        TestCaseTwoArgs{lhs: 20785, rhs: 26706, expected: 47491},
        TestCaseTwoArgs{lhs: 27023, rhs: 47260, expected: 65535},
        TestCaseTwoArgs{lhs: 53511, rhs: 37318, expected: 65535},
        TestCaseTwoArgs{lhs: 5790, rhs: 13147, expected: 18937},
        TestCaseTwoArgs{lhs: 17895, rhs: 57666, expected: 65535},
        TestCaseTwoArgs{lhs: 17782, rhs: 63589, expected: 65535},
        TestCaseTwoArgs{lhs: 14126, rhs: 65001, expected: 65535},
        TestCaseTwoArgs{lhs: 18591, rhs: 51509, expected: 65535},
        TestCaseTwoArgs{lhs: 23541, rhs: 59651, expected: 65535},
        TestCaseTwoArgs{lhs: 27030, rhs: 46534, expected: 65535},
        TestCaseTwoArgs{lhs: 47979, rhs: 27898, expected: 65535},
        TestCaseTwoArgs{lhs: 26357, rhs: 12329, expected: 38686},
        TestCaseTwoArgs{lhs: 61321, rhs: 3332, expected: 64653},
        TestCaseTwoArgs{lhs: 28165, rhs: 53478, expected: 65535},
        TestCaseTwoArgs{lhs: 25885, rhs: 50965, expected: 65535},
        TestCaseTwoArgs{lhs: 35104, rhs: 39871, expected: 65535},
        TestCaseTwoArgs{lhs: 45916, rhs: 3873, expected: 49789},
        TestCaseTwoArgs{lhs: 25155, rhs: 25343, expected: 50498},
        TestCaseTwoArgs{lhs: 21075, rhs: 29032, expected: 50107},
        TestCaseTwoArgs{lhs: 57951, rhs: 25893, expected: 65535},
        TestCaseTwoArgs{lhs: 50925, rhs: 31360, expected: 65535},
        TestCaseTwoArgs{lhs: 42666, rhs: 38527, expected: 65535},
        TestCaseTwoArgs{lhs: 7868, rhs: 2692, expected: 10560},
        TestCaseTwoArgs{lhs: 8410, rhs: 53095, expected: 61505},
        TestCaseTwoArgs{lhs: 11530, rhs: 33651, expected: 45181},
        TestCaseTwoArgs{lhs: 16064, rhs: 19338, expected: 35402},
        TestCaseTwoArgs{lhs: 7786, rhs: 32763, expected: 40549},
        TestCaseTwoArgs{lhs: 15572, rhs: 32829, expected: 48401},
        TestCaseTwoArgs{lhs: 22558, rhs: 1096, expected: 23654},
        TestCaseTwoArgs{lhs: 27095, rhs: 36702, expected: 63797},
        TestCaseTwoArgs{lhs: 49724, rhs: 19915, expected: 65535},
        TestCaseTwoArgs{lhs: 31265, rhs: 44503, expected: 65535},
        TestCaseTwoArgs{lhs: 6992, rhs: 48537, expected: 55529},
        TestCaseTwoArgs{lhs: 64562, rhs: 33617, expected: 65535},
        TestCaseTwoArgs{lhs: 26994, rhs: 41121, expected: 65535},
        TestCaseTwoArgs{lhs: 5967, rhs: 33597, expected: 39564},
        TestCaseTwoArgs{lhs: 22828, rhs: 12532, expected: 35360},
        TestCaseTwoArgs{lhs: 16710, rhs: 42242, expected: 58952},
        TestCaseTwoArgs{lhs: 18500, rhs: 9822, expected: 28322},
        TestCaseTwoArgs{lhs: 12399, rhs: 54560, expected: 65535},
        TestCaseTwoArgs{lhs: 45133, rhs: 15705, expected: 60838},
        TestCaseTwoArgs{lhs: 53567, rhs: 40687, expected: 65535},
        TestCaseTwoArgs{lhs: 54464, rhs: 34228, expected: 65535},
        TestCaseTwoArgs{lhs: 44389, rhs: 7436, expected: 51825},
        TestCaseTwoArgs{lhs: 50989, rhs: 55189, expected: 65535},
        TestCaseTwoArgs{lhs: 62648, rhs: 33832, expected: 65535},
        TestCaseTwoArgs{lhs: 28951, rhs: 62448, expected: 65535},
        TestCaseTwoArgs{lhs: 47059, rhs: 54213, expected: 65535},
        TestCaseTwoArgs{lhs: 13600, rhs: 13483, expected: 27083},
        TestCaseTwoArgs{lhs: 22571, rhs: 38018, expected: 60589},
        TestCaseTwoArgs{lhs: 64325, rhs: 34786, expected: 65535},
        TestCaseTwoArgs{lhs: 17933, rhs: 33743, expected: 51676},
        TestCaseTwoArgs{lhs: 61960, rhs: 19850, expected: 65535},
        TestCaseTwoArgs{lhs: 54341, rhs: 58063, expected: 65535},
        TestCaseTwoArgs{lhs: 33361, rhs: 2220, expected: 35581},
        TestCaseTwoArgs{lhs: 52313, rhs: 20978, expected: 65535},
        TestCaseTwoArgs{lhs: 9023, rhs: 17590, expected: 26613},
        TestCaseTwoArgs{lhs: 52908, rhs: 3329, expected: 56237},
        TestCaseTwoArgs{lhs: 42330, rhs: 1983, expected: 44313},
        TestCaseTwoArgs{lhs: 27603, rhs: 51927, expected: 65535},
        TestCaseTwoArgs{lhs: 60060, rhs: 64170, expected: 65535},
        TestCaseTwoArgs{lhs: 41298, rhs: 52299, expected: 65535},
        TestCaseTwoArgs{lhs: 30297, rhs: 63156, expected: 65535},
        TestCaseTwoArgs{lhs: 49636, rhs: 26896, expected: 65535},
        TestCaseTwoArgs{lhs: 7151, rhs: 50054, expected: 57205},
        TestCaseTwoArgs{lhs: 11273, rhs: 54102, expected: 65375},
        TestCaseTwoArgs{lhs: 2447, rhs: 56111, expected: 58558},
        TestCaseTwoArgs{lhs: 47988, rhs: 65178, expected: 65535},
        TestCaseTwoArgs{lhs: 37339, rhs: 64400, expected: 65535},
        TestCaseTwoArgs{lhs: 49732, rhs: 38045, expected: 65535},
        TestCaseTwoArgs{lhs: 53321, rhs: 2797, expected: 56118},
        TestCaseTwoArgs{lhs: 62304, rhs: 64239, expected: 65535},
        TestCaseTwoArgs{lhs: 41444, rhs: 33303, expected: 65535},
        TestCaseTwoArgs{lhs: 28883, rhs: 8583, expected: 37466},
        TestCaseTwoArgs{lhs: 2489, rhs: 61506, expected: 63995},
        TestCaseTwoArgs{lhs: 56156, rhs: 52178, expected: 65535},
        TestCaseTwoArgs{lhs: 20153, rhs: 33723, expected: 53876},
        TestCaseTwoArgs{lhs: 7130, rhs: 27195, expected: 34325},
        TestCaseTwoArgs{lhs: 25609, rhs: 53837, expected: 65535},
        TestCaseTwoArgs{lhs: 57161, rhs: 14130, expected: 65535},
        TestCaseTwoArgs{lhs: 42606, rhs: 29313, expected: 65535},
        TestCaseTwoArgs{lhs: 41327, rhs: 39011, expected: 65535},
        TestCaseTwoArgs{lhs: 19029, rhs: 63954, expected: 65535},
        TestCaseTwoArgs{lhs: 2801, rhs: 39372, expected: 42173},
        TestCaseTwoArgs{lhs: 37596, rhs: 61926, expected: 65535},
        TestCaseTwoArgs{lhs: 1515, rhs: 55604, expected: 57119},
        TestCaseTwoArgs{lhs: 43171, rhs: 63961, expected: 65535},
        TestCaseTwoArgs{lhs: 29322, rhs: 58592, expected: 65535},
        TestCaseTwoArgs{lhs: 26296, rhs: 12467, expected: 38763},
        TestCaseTwoArgs{lhs: 15655, rhs: 44505, expected: 60160},
        TestCaseTwoArgs{lhs: 1427, rhs: 13477, expected: 14904},
        TestCaseTwoArgs{lhs: 62026, rhs: 16114, expected: 65535},
        TestCaseTwoArgs{lhs: 33884, rhs: 7529, expected: 41413},
        TestCaseTwoArgs{lhs: 13796, rhs: 59830, expected: 65535},
        TestCaseTwoArgs{lhs: 10377, rhs: 52116, expected: 62493},
        TestCaseTwoArgs{lhs: 28440, rhs: 4649, expected: 33089},
        TestCaseTwoArgs{lhs: 1688, rhs: 55999, expected: 57687},
        TestCaseTwoArgs{lhs: 34363, rhs: 14041, expected: 48404},
        TestCaseTwoArgs{lhs: 25601, rhs: 45267, expected: 65535},
        TestCaseTwoArgs{lhs: 39941, rhs: 6148, expected: 46089},
        TestCaseTwoArgs{lhs: 33349, rhs: 46996, expected: 65535},
        TestCaseTwoArgs{lhs: 65459, rhs: 21949, expected: 65535},
        TestCaseTwoArgs{lhs: 18648, rhs: 13955, expected: 32603},
        TestCaseTwoArgs{lhs: 31929, rhs: 17005, expected: 48934},
        TestCaseTwoArgs{lhs: 25193, rhs: 52437, expected: 65535},
        TestCaseTwoArgs{lhs: 2137, rhs: 29725, expected: 31862},
        TestCaseTwoArgs{lhs: 2171, rhs: 30471, expected: 32642},
        TestCaseTwoArgs{lhs: 16890, rhs: 24346, expected: 41236},
        TestCaseTwoArgs{lhs: 26063, rhs: 4719, expected: 30782},
        TestCaseTwoArgs{lhs: 45094, rhs: 6005, expected: 51099},
        TestCaseTwoArgs{lhs: 49607, rhs: 7675, expected: 57282},
        TestCaseTwoArgs{lhs: 13014, rhs: 3800, expected: 16814},
        TestCaseTwoArgs{lhs: 34570, rhs: 15250, expected: 49820},
        TestCaseTwoArgs{lhs: 46434, rhs: 53220, expected: 65535},
        TestCaseTwoArgs{lhs: 33127, rhs: 64112, expected: 65535},
        TestCaseTwoArgs{lhs: 43271, rhs: 63523, expected: 65535},
        TestCaseTwoArgs{lhs: 10385, rhs: 39724, expected: 50109},
        TestCaseTwoArgs{lhs: 32810, rhs: 38954, expected: 65535},
        TestCaseTwoArgs{lhs: 283, rhs: 50619, expected: 50902},
        TestCaseTwoArgs{lhs: 9598, rhs: 62624, expected: 65535},
        TestCaseTwoArgs{lhs: 24969, rhs: 55583, expected: 65535},
        TestCaseTwoArgs{lhs: 14651, rhs: 9712, expected: 24363},
        TestCaseTwoArgs{lhs: 19690, rhs: 10950, expected: 30640},
        TestCaseTwoArgs{lhs: 59589, rhs: 24067, expected: 65535},
        TestCaseTwoArgs{lhs: 37005, rhs: 43893, expected: 65535},
        TestCaseTwoArgs{lhs: 3250, rhs: 27232, expected: 30482},
        TestCaseTwoArgs{lhs: 59291, rhs: 16213, expected: 65535},
        TestCaseTwoArgs{lhs: 63019, rhs: 17661, expected: 65535},
        TestCaseTwoArgs{lhs: 24589, rhs: 54797, expected: 65535},
        TestCaseTwoArgs{lhs: 22369, rhs: 14196, expected: 36565},
        TestCaseTwoArgs{lhs: 39172, rhs: 3800, expected: 42972},
        TestCaseTwoArgs{lhs: 11622, rhs: 266, expected: 11888},
        TestCaseTwoArgs{lhs: 15362, rhs: 19393, expected: 34755},
        TestCaseTwoArgs{lhs: 54606, rhs: 24198, expected: 65535},
        TestCaseTwoArgs{lhs: 29101, rhs: 46499, expected: 65535},
        TestCaseTwoArgs{lhs: 3287, rhs: 36326, expected: 39613},
        TestCaseTwoArgs{lhs: 11025, rhs: 44692, expected: 55717},
        TestCaseTwoArgs{lhs: 36404, rhs: 11296, expected: 47700},
        TestCaseTwoArgs{lhs: 40728, rhs: 50562, expected: 65535},
        TestCaseTwoArgs{lhs: 18462, rhs: 63198, expected: 65535},
        TestCaseTwoArgs{lhs: 16616, rhs: 39861, expected: 56477},
        TestCaseTwoArgs{lhs: 53720, rhs: 54294, expected: 65535},
        TestCaseTwoArgs{lhs: 1977, rhs: 48660, expected: 50637},
        TestCaseTwoArgs{lhs: 50052, rhs: 40463, expected: 65535},
        TestCaseTwoArgs{lhs: 24944, rhs: 4583, expected: 29527},
        TestCaseTwoArgs{lhs: 9306, rhs: 33106, expected: 42412},
        TestCaseTwoArgs{lhs: 34038, rhs: 54430, expected: 65535},
        TestCaseTwoArgs{lhs: 13866, rhs: 17390, expected: 31256},
        TestCaseTwoArgs{lhs: 836, rhs: 65143, expected: 65535},
        TestCaseTwoArgs{lhs: 54726, rhs: 51385, expected: 65535},
        TestCaseTwoArgs{lhs: 27124, rhs: 2973, expected: 30097},
        TestCaseTwoArgs{lhs: 12931, rhs: 61237, expected: 65535},
        TestCaseTwoArgs{lhs: 5772, rhs: 51178, expected: 56950},
        TestCaseTwoArgs{lhs: 6333, rhs: 45304, expected: 51637},
        TestCaseTwoArgs{lhs: 32494, rhs: 27976, expected: 60470},
        TestCaseTwoArgs{lhs: 65503, rhs: 30411, expected: 65535},
        TestCaseTwoArgs{lhs: 1953, rhs: 33970, expected: 35923},
        TestCaseTwoArgs{lhs: 31392, rhs: 44717, expected: 65535},
        TestCaseTwoArgs{lhs: 31601, rhs: 28855, expected: 60456},
        TestCaseTwoArgs{lhs: 19403, rhs: 13972, expected: 33375},
        TestCaseTwoArgs{lhs: 39611, rhs: 43139, expected: 65535},
        TestCaseTwoArgs{lhs: 8328, rhs: 39249, expected: 47577},
        TestCaseTwoArgs{lhs: 57701, rhs: 12827, expected: 65535},
        TestCaseTwoArgs{lhs: 34540, rhs: 53283, expected: 65535},
        TestCaseTwoArgs{lhs: 43766, rhs: 44568, expected: 65535},
        TestCaseTwoArgs{lhs: 23768, rhs: 57488, expected: 65535},
        TestCaseTwoArgs{lhs: 10336, rhs: 18530, expected: 28866},
        TestCaseTwoArgs{lhs: 56914, rhs: 50119, expected: 65535},
        TestCaseTwoArgs{lhs: 9309, rhs: 40200, expected: 49509},
        TestCaseTwoArgs{lhs: 15738, rhs: 39716, expected: 55454},
        TestCaseTwoArgs{lhs: 6914, rhs: 43545, expected: 50459},
        TestCaseTwoArgs{lhs: 4367, rhs: 45478, expected: 49845},
        TestCaseTwoArgs{lhs: 3226, rhs: 19846, expected: 23072},
        TestCaseTwoArgs{lhs: 17466, rhs: 13943, expected: 31409},
        TestCaseTwoArgs{lhs: 41211, rhs: 19203, expected: 60414},
        TestCaseTwoArgs{lhs: 24930, rhs: 17218, expected: 42148},
        TestCaseTwoArgs{lhs: 1657, rhs: 16379, expected: 18036},
        TestCaseTwoArgs{lhs: 49999, rhs: 51826, expected: 65535},
        TestCaseTwoArgs{lhs: 43253, rhs: 664, expected: 43917},
        TestCaseTwoArgs{lhs: 35616, rhs: 1079, expected: 36695},
        TestCaseTwoArgs{lhs: 45313, rhs: 15084, expected: 60397},
        TestCaseTwoArgs{lhs: 4735, rhs: 5933, expected: 10668},
        TestCaseTwoArgs{lhs: 35000, rhs: 17143, expected: 52143},
        TestCaseTwoArgs{lhs: 33453, rhs: 39606, expected: 65535},
        TestCaseTwoArgs{lhs: 10120, rhs: 43229, expected: 53349},
        TestCaseTwoArgs{lhs: 37817, rhs: 32451, expected: 65535},
        TestCaseTwoArgs{lhs: 54394, rhs: 943, expected: 55337},
        TestCaseTwoArgs{lhs: 22205, rhs: 62671, expected: 65535},
        TestCaseTwoArgs{lhs: 252, rhs: 12338, expected: 12590},
        TestCaseTwoArgs{lhs: 37196, rhs: 10547, expected: 47743},
        TestCaseTwoArgs{lhs: 62650, rhs: 35493, expected: 65535},
        TestCaseTwoArgs{lhs: 37180, rhs: 53273, expected: 65535},
        TestCaseTwoArgs{lhs: 31700, rhs: 28089, expected: 59789},
        TestCaseTwoArgs{lhs: 45413, rhs: 30840, expected: 65535},
        TestCaseTwoArgs{lhs: 30836, rhs: 55021, expected: 65535},
        TestCaseTwoArgs{lhs: 27731, rhs: 54118, expected: 65535},
        TestCaseTwoArgs{lhs: 25649, rhs: 63377, expected: 65535},
        TestCaseTwoArgs{lhs: 38725, rhs: 56934, expected: 65535},
        TestCaseTwoArgs{lhs: 63160, rhs: 35570, expected: 65535},
        TestCaseTwoArgs{lhs: 58129, rhs: 45354, expected: 65535},
        TestCaseTwoArgs{lhs: 21315, rhs: 57557, expected: 65535},

        // Edge cases
        TestCaseTwoArgs{lhs: 65535, rhs: 0, expected: 65535},
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 65535, rhs: 65535, expected: 65535},
        TestCaseTwoArgs{lhs: 0, rhs: 65535, expected: 65535},
    ];

    #[test]
    fn test_i16() {
        for case in test_cases.span() {
            assert_eq!(__llvm_uadd_sat_z_z_z(*case.lhs, *case.rhs), *case.expected);
        }
    }
}

