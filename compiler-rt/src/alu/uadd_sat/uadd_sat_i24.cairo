use crate::alu::uadd_sat::uadd_sat;
use crate::integer::u24::u24;

pub fn __llvm_uadd_sat_x_x_x(lhs: u128, rhs: u128) -> u128 {
    uadd_sat::<u24>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_uadd_sat_x_x_x;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 244] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 14534486, rhs: 5473758, expected: 16777215},
        TestCaseTwoArgs{lhs: 254244, rhs: 6329428, expected: 6583672},
        TestCaseTwoArgs{lhs: 10195128, rhs: 13581547, expected: 16777215},
        TestCaseTwoArgs{lhs: 12948113, rhs: 6585844, expected: 16777215},
        TestCaseTwoArgs{lhs: 117373, rhs: 7508410, expected: 7625783},
        TestCaseTwoArgs{lhs: 16726055, rhs: 6845474, expected: 16777215},
        TestCaseTwoArgs{lhs: 16600422, rhs: 2195855, expected: 16777215},
        TestCaseTwoArgs{lhs: 3979159, rhs: 12733176, expected: 16712335},
        TestCaseTwoArgs{lhs: 13862782, rhs: 13428026, expected: 16777215},
        TestCaseTwoArgs{lhs: 15846016, rhs: 6327340, expected: 16777215},
        TestCaseTwoArgs{lhs: 15569006, rhs: 1446629, expected: 16777215},
        TestCaseTwoArgs{lhs: 6626062, rhs: 9748879, expected: 16374941},
        TestCaseTwoArgs{lhs: 1588244, rhs: 9845247, expected: 11433491},
        TestCaseTwoArgs{lhs: 6568222, rhs: 9114473, expected: 15682695},
        TestCaseTwoArgs{lhs: 12217117, rhs: 16000388, expected: 16777215},
        TestCaseTwoArgs{lhs: 3577112, rhs: 15533488, expected: 16777215},
        TestCaseTwoArgs{lhs: 16110276, rhs: 492663, expected: 16602939},
        TestCaseTwoArgs{lhs: 13591828, rhs: 11697132, expected: 16777215},
        TestCaseTwoArgs{lhs: 10230252, rhs: 10329998, expected: 16777215},
        TestCaseTwoArgs{lhs: 8109357, rhs: 7902824, expected: 16012181},
        TestCaseTwoArgs{lhs: 617203, rhs: 13721175, expected: 14338378},
        TestCaseTwoArgs{lhs: 10885671, rhs: 6677119, expected: 16777215},
        TestCaseTwoArgs{lhs: 1725980, rhs: 4489462, expected: 6215442},
        TestCaseTwoArgs{lhs: 16469241, rhs: 901507, expected: 16777215},
        TestCaseTwoArgs{lhs: 3697852, rhs: 16203038, expected: 16777215},
        TestCaseTwoArgs{lhs: 2652728, rhs: 4514668, expected: 7167396},
        TestCaseTwoArgs{lhs: 9849836, rhs: 6599055, expected: 16448891},
        TestCaseTwoArgs{lhs: 12978705, rhs: 8576566, expected: 16777215},
        TestCaseTwoArgs{lhs: 1795766, rhs: 1298919, expected: 3094685},
        TestCaseTwoArgs{lhs: 14765163, rhs: 12623788, expected: 16777215},
        TestCaseTwoArgs{lhs: 3033727, rhs: 5084533, expected: 8118260},
        TestCaseTwoArgs{lhs: 12858589, rhs: 2230924, expected: 15089513},
        TestCaseTwoArgs{lhs: 10844525, rhs: 4633577, expected: 15478102},
        TestCaseTwoArgs{lhs: 2522464, rhs: 7370039, expected: 9892503},
        TestCaseTwoArgs{lhs: 7845401, rhs: 12629105, expected: 16777215},
        TestCaseTwoArgs{lhs: 9878477, rhs: 10567824, expected: 16777215},
        TestCaseTwoArgs{lhs: 16733160, rhs: 11032865, expected: 16777215},
        TestCaseTwoArgs{lhs: 2607840, rhs: 9276243, expected: 11884083},
        TestCaseTwoArgs{lhs: 1947717, rhs: 10921315, expected: 12869032},
        TestCaseTwoArgs{lhs: 6581182, rhs: 12120937, expected: 16777215},
        TestCaseTwoArgs{lhs: 1326178, rhs: 2043417, expected: 3369595},
        TestCaseTwoArgs{lhs: 13790405, rhs: 8488819, expected: 16777215},
        TestCaseTwoArgs{lhs: 589480, rhs: 1429952, expected: 2019432},
        TestCaseTwoArgs{lhs: 5971142, rhs: 15286127, expected: 16777215},
        TestCaseTwoArgs{lhs: 10780517, rhs: 826296, expected: 11606813},
        TestCaseTwoArgs{lhs: 4272450, rhs: 430921, expected: 4703371},
        TestCaseTwoArgs{lhs: 750795, rhs: 2219610, expected: 2970405},
        TestCaseTwoArgs{lhs: 11018730, rhs: 2362725, expected: 13381455},
        TestCaseTwoArgs{lhs: 1799966, rhs: 13558197, expected: 15358163},
        TestCaseTwoArgs{lhs: 10391462, rhs: 11382495, expected: 16777215},
        TestCaseTwoArgs{lhs: 7332206, rhs: 7157764, expected: 14489970},
        TestCaseTwoArgs{lhs: 11036238, rhs: 8597428, expected: 16777215},
        TestCaseTwoArgs{lhs: 10639232, rhs: 3191373, expected: 13830605},
        TestCaseTwoArgs{lhs: 12011558, rhs: 11623643, expected: 16777215},
        TestCaseTwoArgs{lhs: 8504450, rhs: 16270780, expected: 16777215},
        TestCaseTwoArgs{lhs: 16189512, rhs: 5938664, expected: 16777215},
        TestCaseTwoArgs{lhs: 6420479, rhs: 14328017, expected: 16777215},
        TestCaseTwoArgs{lhs: 1855525, rhs: 8430387, expected: 10285912},
        TestCaseTwoArgs{lhs: 2891943, rhs: 16575742, expected: 16777215},
        TestCaseTwoArgs{lhs: 3390530, rhs: 12753994, expected: 16144524},
        TestCaseTwoArgs{lhs: 3926771, rhs: 4112865, expected: 8039636},
        TestCaseTwoArgs{lhs: 10385039, rhs: 14751826, expected: 16777215},
        TestCaseTwoArgs{lhs: 1241701, rhs: 9089526, expected: 10331227},
        TestCaseTwoArgs{lhs: 10031977, rhs: 10722013, expected: 16777215},
        TestCaseTwoArgs{lhs: 4298648, rhs: 8079525, expected: 12378173},
        TestCaseTwoArgs{lhs: 4789230, rhs: 6461009, expected: 11250239},
        TestCaseTwoArgs{lhs: 7898823, rhs: 9192467, expected: 16777215},
        TestCaseTwoArgs{lhs: 3033197, rhs: 15600384, expected: 16777215},
        TestCaseTwoArgs{lhs: 16123538, rhs: 802524, expected: 16777215},
        TestCaseTwoArgs{lhs: 12029521, rhs: 9080443, expected: 16777215},
        TestCaseTwoArgs{lhs: 107122, rhs: 14464267, expected: 14571389},
        TestCaseTwoArgs{lhs: 10438746, rhs: 11000262, expected: 16777215},
        TestCaseTwoArgs{lhs: 11942131, rhs: 10512388, expected: 16777215},
        TestCaseTwoArgs{lhs: 7029146, rhs: 1407822, expected: 8436968},
        TestCaseTwoArgs{lhs: 12288430, rhs: 1073361, expected: 13361791},
        TestCaseTwoArgs{lhs: 5263159, rhs: 12483688, expected: 16777215},
        TestCaseTwoArgs{lhs: 5660536, rhs: 7641325, expected: 13301861},
        TestCaseTwoArgs{lhs: 13047159, rhs: 10674800, expected: 16777215},
        TestCaseTwoArgs{lhs: 2219431, rhs: 10350260, expected: 12569691},
        TestCaseTwoArgs{lhs: 10232275, rhs: 10320378, expected: 16777215},
        TestCaseTwoArgs{lhs: 13871566, rhs: 13115577, expected: 16777215},
        TestCaseTwoArgs{lhs: 1237743, rhs: 9076159, expected: 10313902},
        TestCaseTwoArgs{lhs: 473864, rhs: 1280835, expected: 1754699},
        TestCaseTwoArgs{lhs: 11047004, rhs: 6534405, expected: 16777215},
        TestCaseTwoArgs{lhs: 4280037, rhs: 8611969, expected: 12892006},
        TestCaseTwoArgs{lhs: 9845340, rhs: 4044403, expected: 13889743},
        TestCaseTwoArgs{lhs: 4530415, rhs: 16633610, expected: 16777215},
        TestCaseTwoArgs{lhs: 7272303, rhs: 3481344, expected: 10753647},
        TestCaseTwoArgs{lhs: 1447217, rhs: 16179166, expected: 16777215},
        TestCaseTwoArgs{lhs: 10118844, rhs: 14266796, expected: 16777215},
        TestCaseTwoArgs{lhs: 13743407, rhs: 3185831, expected: 16777215},
        TestCaseTwoArgs{lhs: 16699269, rhs: 13860889, expected: 16777215},
        TestCaseTwoArgs{lhs: 2502331, rhs: 8739786, expected: 11242117},
        TestCaseTwoArgs{lhs: 8299440, rhs: 11460703, expected: 16777215},
        TestCaseTwoArgs{lhs: 9950392, rhs: 10192022, expected: 16777215},
        TestCaseTwoArgs{lhs: 13604431, rhs: 6374384, expected: 16777215},
        TestCaseTwoArgs{lhs: 8988126, rhs: 6745164, expected: 15733290},
        TestCaseTwoArgs{lhs: 15017465, rhs: 3292961, expected: 16777215},
        TestCaseTwoArgs{lhs: 12971740, rhs: 6828741, expected: 16777215},
        TestCaseTwoArgs{lhs: 11778164, rhs: 448235, expected: 12226399},
        TestCaseTwoArgs{lhs: 2998915, rhs: 12543080, expected: 15541995},
        TestCaseTwoArgs{lhs: 2822371, rhs: 4690657, expected: 7513028},
        TestCaseTwoArgs{lhs: 234227, rhs: 4735428, expected: 4969655},
        TestCaseTwoArgs{lhs: 12113910, rhs: 3221108, expected: 15335018},
        TestCaseTwoArgs{lhs: 16192406, rhs: 2344297, expected: 16777215},
        TestCaseTwoArgs{lhs: 2709039, rhs: 14317031, expected: 16777215},
        TestCaseTwoArgs{lhs: 11946538, rhs: 15322444, expected: 16777215},
        TestCaseTwoArgs{lhs: 7401140, rhs: 9006344, expected: 16407484},
        TestCaseTwoArgs{lhs: 11295543, rhs: 10313132, expected: 16777215},
        TestCaseTwoArgs{lhs: 6583725, rhs: 1261855, expected: 7845580},
        TestCaseTwoArgs{lhs: 8593559, rhs: 5246436, expected: 13839995},
        TestCaseTwoArgs{lhs: 7089032, rhs: 1626194, expected: 8715226},
        TestCaseTwoArgs{lhs: 144385, rhs: 7359026, expected: 7503411},
        TestCaseTwoArgs{lhs: 14287527, rhs: 5329861, expected: 16777215},
        TestCaseTwoArgs{lhs: 14695693, rhs: 14525720, expected: 16777215},
        TestCaseTwoArgs{lhs: 9026784, rhs: 15506815, expected: 16777215},
        TestCaseTwoArgs{lhs: 14668636, rhs: 1622313, expected: 16290949},
        TestCaseTwoArgs{lhs: 457931, rhs: 2069200, expected: 2527131},
        TestCaseTwoArgs{lhs: 4995276, rhs: 8046970, expected: 13042246},
        TestCaseTwoArgs{lhs: 9957437, rhs: 8923893, expected: 16777215},
        TestCaseTwoArgs{lhs: 689078, rhs: 13701589, expected: 14390667},
        TestCaseTwoArgs{lhs: 3937917, rhs: 5003370, expected: 8941287},
        TestCaseTwoArgs{lhs: 5485145, rhs: 2507977, expected: 7993122},
        TestCaseTwoArgs{lhs: 4492489, rhs: 2608061, expected: 7100550},
        TestCaseTwoArgs{lhs: 14213965, rhs: 12614724, expected: 16777215},
        TestCaseTwoArgs{lhs: 8965717, rhs: 9096413, expected: 16777215},
        TestCaseTwoArgs{lhs: 1539994, rhs: 878718, expected: 2418712},
        TestCaseTwoArgs{lhs: 117118, rhs: 10609640, expected: 10726758},
        TestCaseTwoArgs{lhs: 7657706, rhs: 10103861, expected: 16777215},
        TestCaseTwoArgs{lhs: 14656536, rhs: 16059607, expected: 16777215},
        TestCaseTwoArgs{lhs: 1673335, rhs: 3746212, expected: 5419547},
        TestCaseTwoArgs{lhs: 9538588, rhs: 15761214, expected: 16777215},
        TestCaseTwoArgs{lhs: 6821513, rhs: 7959466, expected: 14780979},
        TestCaseTwoArgs{lhs: 8147850, rhs: 5004725, expected: 13152575},
        TestCaseTwoArgs{lhs: 8544001, rhs: 224274, expected: 8768275},
        TestCaseTwoArgs{lhs: 14743247, rhs: 5782641, expected: 16777215},
        TestCaseTwoArgs{lhs: 4476461, rhs: 14008447, expected: 16777215},
        TestCaseTwoArgs{lhs: 8958196, rhs: 3945471, expected: 12903667},
        TestCaseTwoArgs{lhs: 8265364, rhs: 3039583, expected: 11304947},
        TestCaseTwoArgs{lhs: 7250326, rhs: 10284815, expected: 16777215},
        TestCaseTwoArgs{lhs: 4175228, rhs: 10811202, expected: 14986430},
        TestCaseTwoArgs{lhs: 9449166, rhs: 7039175, expected: 16488341},
        TestCaseTwoArgs{lhs: 12316321, rhs: 1076886, expected: 13393207},
        TestCaseTwoArgs{lhs: 5322576, rhs: 5183373, expected: 10505949},
        TestCaseTwoArgs{lhs: 12735069, rhs: 14047455, expected: 16777215},
        TestCaseTwoArgs{lhs: 4805107, rhs: 3188222, expected: 7993329},
        TestCaseTwoArgs{lhs: 12079732, rhs: 1297383, expected: 13377115},
        TestCaseTwoArgs{lhs: 6671898, rhs: 4641547, expected: 11313445},
        TestCaseTwoArgs{lhs: 13398660, rhs: 5263348, expected: 16777215},
        TestCaseTwoArgs{lhs: 5632715, rhs: 5283108, expected: 10915823},
        TestCaseTwoArgs{lhs: 5609654, rhs: 8846891, expected: 14456545},
        TestCaseTwoArgs{lhs: 8332048, rhs: 750237, expected: 9082285},
        TestCaseTwoArgs{lhs: 5486796, rhs: 1125325, expected: 6612121},
        TestCaseTwoArgs{lhs: 12824752, rhs: 671427, expected: 13496179},
        TestCaseTwoArgs{lhs: 15119014, rhs: 904411, expected: 16023425},
        TestCaseTwoArgs{lhs: 15567999, rhs: 15709248, expected: 16777215},
        TestCaseTwoArgs{lhs: 8771491, rhs: 2353250, expected: 11124741},
        TestCaseTwoArgs{lhs: 259239, rhs: 6971162, expected: 7230401},
        TestCaseTwoArgs{lhs: 3609497, rhs: 12221838, expected: 15831335},
        TestCaseTwoArgs{lhs: 12082666, rhs: 10182675, expected: 16777215},
        TestCaseTwoArgs{lhs: 5396078, rhs: 11308717, expected: 16704795},
        TestCaseTwoArgs{lhs: 6878634, rhs: 472204, expected: 7350838},
        TestCaseTwoArgs{lhs: 15693363, rhs: 15395459, expected: 16777215},
        TestCaseTwoArgs{lhs: 8370058, rhs: 4204426, expected: 12574484},
        TestCaseTwoArgs{lhs: 1934268, rhs: 3889765, expected: 5824033},
        TestCaseTwoArgs{lhs: 2841880, rhs: 8406923, expected: 11248803},
        TestCaseTwoArgs{lhs: 16437585, rhs: 3947467, expected: 16777215},
        TestCaseTwoArgs{lhs: 412713, rhs: 10059635, expected: 10472348},
        TestCaseTwoArgs{lhs: 11407222, rhs: 5555172, expected: 16777215},
        TestCaseTwoArgs{lhs: 2399118, rhs: 9723801, expected: 12122919},
        TestCaseTwoArgs{lhs: 3472400, rhs: 16770746, expected: 16777215},
        TestCaseTwoArgs{lhs: 14389935, rhs: 9551580, expected: 16777215},
        TestCaseTwoArgs{lhs: 3240680, rhs: 5848698, expected: 9089378},
        TestCaseTwoArgs{lhs: 15925789, rhs: 2823491, expected: 16777215},
        TestCaseTwoArgs{lhs: 15344461, rhs: 5628894, expected: 16777215},
        TestCaseTwoArgs{lhs: 10743504, rhs: 16125923, expected: 16777215},
        TestCaseTwoArgs{lhs: 16167767, rhs: 1735921, expected: 16777215},
        TestCaseTwoArgs{lhs: 4409237, rhs: 16532323, expected: 16777215},
        TestCaseTwoArgs{lhs: 14494515, rhs: 7612472, expected: 16777215},
        TestCaseTwoArgs{lhs: 4844328, rhs: 6292739, expected: 11137067},
        TestCaseTwoArgs{lhs: 10505501, rhs: 15151772, expected: 16777215},
        TestCaseTwoArgs{lhs: 1617545, rhs: 10571695, expected: 12189240},
        TestCaseTwoArgs{lhs: 12265587, rhs: 14310110, expected: 16777215},
        TestCaseTwoArgs{lhs: 6006967, rhs: 16714627, expected: 16777215},
        TestCaseTwoArgs{lhs: 4702859, rhs: 4199525, expected: 8902384},
        TestCaseTwoArgs{lhs: 10252569, rhs: 6248183, expected: 16500752},
        TestCaseTwoArgs{lhs: 9233913, rhs: 10323716, expected: 16777215},
        TestCaseTwoArgs{lhs: 13995930, rhs: 14314050, expected: 16777215},
        TestCaseTwoArgs{lhs: 3340767, rhs: 503004, expected: 3843771},
        TestCaseTwoArgs{lhs: 12946675, rhs: 6993056, expected: 16777215},
        TestCaseTwoArgs{lhs: 4799136, rhs: 9403742, expected: 14202878},
        TestCaseTwoArgs{lhs: 2303079, rhs: 14096411, expected: 16399490},
        TestCaseTwoArgs{lhs: 6390506, rhs: 9803949, expected: 16194455},
        TestCaseTwoArgs{lhs: 6331442, rhs: 11154445, expected: 16777215},
        TestCaseTwoArgs{lhs: 9345995, rhs: 9847518, expected: 16777215},
        TestCaseTwoArgs{lhs: 12825387, rhs: 11459394, expected: 16777215},
        TestCaseTwoArgs{lhs: 7404497, rhs: 11153324, expected: 16777215},
        TestCaseTwoArgs{lhs: 6761893, rhs: 9551986, expected: 16313879},
        TestCaseTwoArgs{lhs: 5078772, rhs: 4055490, expected: 9134262},
        TestCaseTwoArgs{lhs: 16355397, rhs: 7386872, expected: 16777215},
        TestCaseTwoArgs{lhs: 14311751, rhs: 6652179, expected: 16777215},
        TestCaseTwoArgs{lhs: 15317079, rhs: 15664347, expected: 16777215},
        TestCaseTwoArgs{lhs: 6687161, rhs: 665836, expected: 7352997},
        TestCaseTwoArgs{lhs: 480282, rhs: 3636982, expected: 4117264},
        TestCaseTwoArgs{lhs: 12847100, rhs: 10031726, expected: 16777215},
        TestCaseTwoArgs{lhs: 7483365, rhs: 14670919, expected: 16777215},
        TestCaseTwoArgs{lhs: 12765914, rhs: 14647922, expected: 16777215},
        TestCaseTwoArgs{lhs: 16660543, rhs: 15647193, expected: 16777215},
        TestCaseTwoArgs{lhs: 7359411, rhs: 12116202, expected: 16777215},
        TestCaseTwoArgs{lhs: 7100355, rhs: 3911299, expected: 11011654},
        TestCaseTwoArgs{lhs: 12883212, rhs: 15407563, expected: 16777215},
        TestCaseTwoArgs{lhs: 11650295, rhs: 424833, expected: 12075128},
        TestCaseTwoArgs{lhs: 3683094, rhs: 9461188, expected: 13144282},
        TestCaseTwoArgs{lhs: 13959367, rhs: 14955839, expected: 16777215},
        TestCaseTwoArgs{lhs: 1216233, rhs: 1733863, expected: 2950096},
        TestCaseTwoArgs{lhs: 1007476, rhs: 9782466, expected: 10789942},
        TestCaseTwoArgs{lhs: 2607919, rhs: 1216561, expected: 3824480},
        TestCaseTwoArgs{lhs: 5711467, rhs: 15459820, expected: 16777215},
        TestCaseTwoArgs{lhs: 12800202, rhs: 8515183, expected: 16777215},
        TestCaseTwoArgs{lhs: 4247700, rhs: 8247788, expected: 12495488},
        TestCaseTwoArgs{lhs: 741110, rhs: 12050266, expected: 12791376},
        TestCaseTwoArgs{lhs: 6697869, rhs: 7037781, expected: 13735650},
        TestCaseTwoArgs{lhs: 9181525, rhs: 5166814, expected: 14348339},
        TestCaseTwoArgs{lhs: 14124397, rhs: 11295380, expected: 16777215},
        TestCaseTwoArgs{lhs: 10120159, rhs: 6423356, expected: 16543515},
        TestCaseTwoArgs{lhs: 9615434, rhs: 16711378, expected: 16777215},
        TestCaseTwoArgs{lhs: 9177624, rhs: 10540402, expected: 16777215},
        TestCaseTwoArgs{lhs: 12109255, rhs: 11792508, expected: 16777215},
        TestCaseTwoArgs{lhs: 13994421, rhs: 9238610, expected: 16777215},
        TestCaseTwoArgs{lhs: 5938460, rhs: 11596681, expected: 16777215},
        TestCaseTwoArgs{lhs: 4988163, rhs: 14198950, expected: 16777215},
        TestCaseTwoArgs{lhs: 15512823, rhs: 2136019, expected: 16777215},
        TestCaseTwoArgs{lhs: 12882928, rhs: 16649353, expected: 16777215},
        TestCaseTwoArgs{lhs: 16006677, rhs: 13811801, expected: 16777215},
        TestCaseTwoArgs{lhs: 9641806, rhs: 15779933, expected: 16777215},
        TestCaseTwoArgs{lhs: 76208, rhs: 13536682, expected: 13612890},
        TestCaseTwoArgs{lhs: 4224840, rhs: 11419759, expected: 15644599},
        TestCaseTwoArgs{lhs: 15473700, rhs: 15114432, expected: 16777215},
        TestCaseTwoArgs{lhs: 4720058, rhs: 3570398, expected: 8290456},
        TestCaseTwoArgs{lhs: 334097, rhs: 8928651, expected: 9262748},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 16777215, rhs: 16777215, expected: 16777215},
        TestCaseTwoArgs{lhs: 0, rhs: 16777215, expected: 16777215},
        TestCaseTwoArgs{lhs: 16777215, rhs: 0, expected: 16777215},
    ];

    #[test]
    fn test_i24() {
        for case in test_cases.span() {
            assert_eq!(__llvm_uadd_sat_x_x_x(*case.lhs, *case.rhs), *case.expected);
        }
    }
}

