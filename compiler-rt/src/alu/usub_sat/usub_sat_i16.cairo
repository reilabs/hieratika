use crate::alu::usub_sat::usub_sat;

pub fn __llvm_usub_sat_z_z_z(lhs: u128, rhs: u128) -> u128 {
    usub_sat::<u16>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_usub_sat_z_z_z;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 244] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 3277, rhs: 20134, expected: 0},
        TestCaseTwoArgs{lhs: 13924, rhs: 63053, expected: 0},
        TestCaseTwoArgs{lhs: 29780, rhs: 21811, expected: 7969},
        TestCaseTwoArgs{lhs: 19716, rhs: 24148, expected: 0},
        TestCaseTwoArgs{lhs: 61229, rhs: 64289, expected: 0},
        TestCaseTwoArgs{lhs: 57744, rhs: 9117, expected: 48627},
        TestCaseTwoArgs{lhs: 18761, rhs: 12450, expected: 6311},
        TestCaseTwoArgs{lhs: 60816, rhs: 16707, expected: 44109},
        TestCaseTwoArgs{lhs: 33148, rhs: 36203, expected: 0},
        TestCaseTwoArgs{lhs: 38430, rhs: 12468, expected: 25962},
        TestCaseTwoArgs{lhs: 17267, rhs: 54095, expected: 0},
        TestCaseTwoArgs{lhs: 29122, rhs: 9735, expected: 19387},
        TestCaseTwoArgs{lhs: 4914, rhs: 39051, expected: 0},
        TestCaseTwoArgs{lhs: 5774, rhs: 9606, expected: 0},
        TestCaseTwoArgs{lhs: 12753, rhs: 29585, expected: 0},
        TestCaseTwoArgs{lhs: 30507, rhs: 26708, expected: 3799},
        TestCaseTwoArgs{lhs: 55856, rhs: 55433, expected: 423},
        TestCaseTwoArgs{lhs: 40377, rhs: 39311, expected: 1066},
        TestCaseTwoArgs{lhs: 47188, rhs: 31609, expected: 15579},
        TestCaseTwoArgs{lhs: 11074, rhs: 36942, expected: 0},
        TestCaseTwoArgs{lhs: 35303, rhs: 62295, expected: 0},
        TestCaseTwoArgs{lhs: 26485, rhs: 56627, expected: 0},
        TestCaseTwoArgs{lhs: 27505, rhs: 24290, expected: 3215},
        TestCaseTwoArgs{lhs: 35074, rhs: 41569, expected: 0},
        TestCaseTwoArgs{lhs: 33837, rhs: 46565, expected: 0},
        TestCaseTwoArgs{lhs: 21414, rhs: 21713, expected: 0},
        TestCaseTwoArgs{lhs: 47442, rhs: 27025, expected: 20417},
        TestCaseTwoArgs{lhs: 28676, rhs: 10502, expected: 18174},
        TestCaseTwoArgs{lhs: 22982, rhs: 28949, expected: 0},
        TestCaseTwoArgs{lhs: 51926, rhs: 15103, expected: 36823},
        TestCaseTwoArgs{lhs: 32517, rhs: 32405, expected: 112},
        TestCaseTwoArgs{lhs: 22621, rhs: 46456, expected: 0},
        TestCaseTwoArgs{lhs: 49022, rhs: 2459, expected: 46563},
        TestCaseTwoArgs{lhs: 55282, rhs: 45890, expected: 9392},
        TestCaseTwoArgs{lhs: 56950, rhs: 25036, expected: 31914},
        TestCaseTwoArgs{lhs: 53521, rhs: 9086, expected: 44435},
        TestCaseTwoArgs{lhs: 30466, rhs: 50519, expected: 0},
        TestCaseTwoArgs{lhs: 35588, rhs: 62798, expected: 0},
        TestCaseTwoArgs{lhs: 20156, rhs: 11673, expected: 8483},
        TestCaseTwoArgs{lhs: 52570, rhs: 26206, expected: 26364},
        TestCaseTwoArgs{lhs: 1412, rhs: 18620, expected: 0},
        TestCaseTwoArgs{lhs: 61217, rhs: 35684, expected: 25533},
        TestCaseTwoArgs{lhs: 29551, rhs: 6877, expected: 22674},
        TestCaseTwoArgs{lhs: 18422, rhs: 37814, expected: 0},
        TestCaseTwoArgs{lhs: 28708, rhs: 39410, expected: 0},
        TestCaseTwoArgs{lhs: 50487, rhs: 33885, expected: 16602},
        TestCaseTwoArgs{lhs: 38225, rhs: 34674, expected: 3551},
        TestCaseTwoArgs{lhs: 41596, rhs: 41369, expected: 227},
        TestCaseTwoArgs{lhs: 37839, rhs: 56944, expected: 0},
        TestCaseTwoArgs{lhs: 17347, rhs: 23568, expected: 0},
        TestCaseTwoArgs{lhs: 52317, rhs: 30194, expected: 22123},
        TestCaseTwoArgs{lhs: 56995, rhs: 14109, expected: 42886},
        TestCaseTwoArgs{lhs: 16719, rhs: 11037, expected: 5682},
        TestCaseTwoArgs{lhs: 31408, rhs: 54155, expected: 0},
        TestCaseTwoArgs{lhs: 30474, rhs: 54916, expected: 0},
        TestCaseTwoArgs{lhs: 4131, rhs: 53220, expected: 0},
        TestCaseTwoArgs{lhs: 39987, rhs: 15889, expected: 24098},
        TestCaseTwoArgs{lhs: 47816, rhs: 61472, expected: 0},
        TestCaseTwoArgs{lhs: 38495, rhs: 51798, expected: 0},
        TestCaseTwoArgs{lhs: 18946, rhs: 49272, expected: 0},
        TestCaseTwoArgs{lhs: 53077, rhs: 34309, expected: 18768},
        TestCaseTwoArgs{lhs: 50905, rhs: 52381, expected: 0},
        TestCaseTwoArgs{lhs: 26989, rhs: 29485, expected: 0},
        TestCaseTwoArgs{lhs: 60568, rhs: 24149, expected: 36419},
        TestCaseTwoArgs{lhs: 11905, rhs: 18478, expected: 0},
        TestCaseTwoArgs{lhs: 40747, rhs: 16391, expected: 24356},
        TestCaseTwoArgs{lhs: 13629, rhs: 16294, expected: 0},
        TestCaseTwoArgs{lhs: 30993, rhs: 5485, expected: 25508},
        TestCaseTwoArgs{lhs: 3962, rhs: 15497, expected: 0},
        TestCaseTwoArgs{lhs: 62569, rhs: 16816, expected: 45753},
        TestCaseTwoArgs{lhs: 65096, rhs: 34570, expected: 30526},
        TestCaseTwoArgs{lhs: 9127, rhs: 24646, expected: 0},
        TestCaseTwoArgs{lhs: 46947, rhs: 22865, expected: 24082},
        TestCaseTwoArgs{lhs: 6442, rhs: 47871, expected: 0},
        TestCaseTwoArgs{lhs: 30582, rhs: 10067, expected: 20515},
        TestCaseTwoArgs{lhs: 19416, rhs: 62643, expected: 0},
        TestCaseTwoArgs{lhs: 47248, rhs: 36520, expected: 10728},
        TestCaseTwoArgs{lhs: 41165, rhs: 38320, expected: 2845},
        TestCaseTwoArgs{lhs: 55212, rhs: 21310, expected: 33902},
        TestCaseTwoArgs{lhs: 63457, rhs: 61029, expected: 2428},
        TestCaseTwoArgs{lhs: 34295, rhs: 40211, expected: 0},
        TestCaseTwoArgs{lhs: 30806, rhs: 43720, expected: 0},
        TestCaseTwoArgs{lhs: 41984, rhs: 53045, expected: 0},
        TestCaseTwoArgs{lhs: 30396, rhs: 21581, expected: 8815},
        TestCaseTwoArgs{lhs: 59130, rhs: 7694, expected: 51436},
        TestCaseTwoArgs{lhs: 30407, rhs: 11555, expected: 18852},
        TestCaseTwoArgs{lhs: 42852, rhs: 35025, expected: 7827},
        TestCaseTwoArgs{lhs: 9079, rhs: 30407, expected: 0},
        TestCaseTwoArgs{lhs: 47499, rhs: 48713, expected: 0},
        TestCaseTwoArgs{lhs: 7844, rhs: 50592, expected: 0},
        TestCaseTwoArgs{lhs: 39266, rhs: 35098, expected: 4168},
        TestCaseTwoArgs{lhs: 63831, rhs: 56202, expected: 7629},
        TestCaseTwoArgs{lhs: 18988, rhs: 25979, expected: 0},
        TestCaseTwoArgs{lhs: 11690, rhs: 8041, expected: 3649},
        TestCaseTwoArgs{lhs: 15160, rhs: 65381, expected: 0},
        TestCaseTwoArgs{lhs: 7358, rhs: 39379, expected: 0},
        TestCaseTwoArgs{lhs: 49606, rhs: 64736, expected: 0},
        TestCaseTwoArgs{lhs: 61430, rhs: 13444, expected: 47986},
        TestCaseTwoArgs{lhs: 20258, rhs: 32265, expected: 0},
        TestCaseTwoArgs{lhs: 28413, rhs: 33162, expected: 0},
        TestCaseTwoArgs{lhs: 38097, rhs: 162, expected: 37935},
        TestCaseTwoArgs{lhs: 48621, rhs: 62142, expected: 0},
        TestCaseTwoArgs{lhs: 28413, rhs: 47354, expected: 0},
        TestCaseTwoArgs{lhs: 4564, rhs: 59655, expected: 0},
        TestCaseTwoArgs{lhs: 3578, rhs: 29652, expected: 0},
        TestCaseTwoArgs{lhs: 64423, rhs: 58645, expected: 5778},
        TestCaseTwoArgs{lhs: 10853, rhs: 28888, expected: 0},
        TestCaseTwoArgs{lhs: 64775, rhs: 36154, expected: 28621},
        TestCaseTwoArgs{lhs: 4199, rhs: 26986, expected: 0},
        TestCaseTwoArgs{lhs: 10702, rhs: 50203, expected: 0},
        TestCaseTwoArgs{lhs: 27863, rhs: 20644, expected: 7219},
        TestCaseTwoArgs{lhs: 4737, rhs: 53846, expected: 0},
        TestCaseTwoArgs{lhs: 22893, rhs: 28864, expected: 0},
        TestCaseTwoArgs{lhs: 3055, rhs: 48334, expected: 0},
        TestCaseTwoArgs{lhs: 19956, rhs: 48422, expected: 0},
        TestCaseTwoArgs{lhs: 193, rhs: 17608, expected: 0},
        TestCaseTwoArgs{lhs: 37982, rhs: 32584, expected: 5398},
        TestCaseTwoArgs{lhs: 23808, rhs: 4854, expected: 18954},
        TestCaseTwoArgs{lhs: 8976, rhs: 43876, expected: 0},
        TestCaseTwoArgs{lhs: 1081, rhs: 18083, expected: 0},
        TestCaseTwoArgs{lhs: 33203, rhs: 8608, expected: 24595},
        TestCaseTwoArgs{lhs: 5481, rhs: 17090, expected: 0},
        TestCaseTwoArgs{lhs: 28835, rhs: 36024, expected: 0},
        TestCaseTwoArgs{lhs: 6531, rhs: 62313, expected: 0},
        TestCaseTwoArgs{lhs: 13522, rhs: 21987, expected: 0},
        TestCaseTwoArgs{lhs: 41744, rhs: 46956, expected: 0},
        TestCaseTwoArgs{lhs: 578, rhs: 54482, expected: 0},
        TestCaseTwoArgs{lhs: 63702, rhs: 38251, expected: 25451},
        TestCaseTwoArgs{lhs: 54238, rhs: 57636, expected: 0},
        TestCaseTwoArgs{lhs: 19783, rhs: 58021, expected: 0},
        TestCaseTwoArgs{lhs: 59669, rhs: 54942, expected: 4727},
        TestCaseTwoArgs{lhs: 57719, rhs: 11252, expected: 46467},
        TestCaseTwoArgs{lhs: 40738, rhs: 61409, expected: 0},
        TestCaseTwoArgs{lhs: 45746, rhs: 6548, expected: 39198},
        TestCaseTwoArgs{lhs: 61338, rhs: 42151, expected: 19187},
        TestCaseTwoArgs{lhs: 22735, rhs: 25141, expected: 0},
        TestCaseTwoArgs{lhs: 25123, rhs: 20690, expected: 4433},
        TestCaseTwoArgs{lhs: 31272, rhs: 59756, expected: 0},
        TestCaseTwoArgs{lhs: 17254, rhs: 2084, expected: 15170},
        TestCaseTwoArgs{lhs: 53970, rhs: 10087, expected: 43883},
        TestCaseTwoArgs{lhs: 13418, rhs: 46602, expected: 0},
        TestCaseTwoArgs{lhs: 11452, rhs: 35631, expected: 0},
        TestCaseTwoArgs{lhs: 51450, rhs: 63111, expected: 0},
        TestCaseTwoArgs{lhs: 58970, rhs: 53508, expected: 5462},
        TestCaseTwoArgs{lhs: 3552, rhs: 33621, expected: 0},
        TestCaseTwoArgs{lhs: 15497, rhs: 13544, expected: 1953},
        TestCaseTwoArgs{lhs: 41481, rhs: 44465, expected: 0},
        TestCaseTwoArgs{lhs: 38146, rhs: 41280, expected: 0},
        TestCaseTwoArgs{lhs: 39198, rhs: 47134, expected: 0},
        TestCaseTwoArgs{lhs: 1095, rhs: 6485, expected: 0},
        TestCaseTwoArgs{lhs: 6926, rhs: 30303, expected: 0},
        TestCaseTwoArgs{lhs: 36648, rhs: 44896, expected: 0},
        TestCaseTwoArgs{lhs: 50387, rhs: 23379, expected: 27008},
        TestCaseTwoArgs{lhs: 52898, rhs: 64595, expected: 0},
        TestCaseTwoArgs{lhs: 35575, rhs: 48440, expected: 0},
        TestCaseTwoArgs{lhs: 65197, rhs: 32525, expected: 32672},
        TestCaseTwoArgs{lhs: 13063, rhs: 63805, expected: 0},
        TestCaseTwoArgs{lhs: 5742, rhs: 44976, expected: 0},
        TestCaseTwoArgs{lhs: 54387, rhs: 47018, expected: 7369},
        TestCaseTwoArgs{lhs: 36591, rhs: 15237, expected: 21354},
        TestCaseTwoArgs{lhs: 40800, rhs: 60693, expected: 0},
        TestCaseTwoArgs{lhs: 54926, rhs: 27071, expected: 27855},
        TestCaseTwoArgs{lhs: 50234, rhs: 38303, expected: 11931},
        TestCaseTwoArgs{lhs: 25379, rhs: 37010, expected: 0},
        TestCaseTwoArgs{lhs: 39183, rhs: 26838, expected: 12345},
        TestCaseTwoArgs{lhs: 36409, rhs: 43076, expected: 0},
        TestCaseTwoArgs{lhs: 8884, rhs: 46169, expected: 0},
        TestCaseTwoArgs{lhs: 5325, rhs: 62685, expected: 0},
        TestCaseTwoArgs{lhs: 58947, rhs: 42084, expected: 16863},
        TestCaseTwoArgs{lhs: 35954, rhs: 17928, expected: 18026},
        TestCaseTwoArgs{lhs: 4348, rhs: 48928, expected: 0},
        TestCaseTwoArgs{lhs: 51277, rhs: 1864, expected: 49413},
        TestCaseTwoArgs{lhs: 19712, rhs: 25878, expected: 0},
        TestCaseTwoArgs{lhs: 7912, rhs: 943, expected: 6969},
        TestCaseTwoArgs{lhs: 59166, rhs: 58111, expected: 1055},
        TestCaseTwoArgs{lhs: 38059, rhs: 18711, expected: 19348},
        TestCaseTwoArgs{lhs: 63823, rhs: 8192, expected: 55631},
        TestCaseTwoArgs{lhs: 35922, rhs: 25188, expected: 10734},
        TestCaseTwoArgs{lhs: 7515, rhs: 21402, expected: 0},
        TestCaseTwoArgs{lhs: 41429, rhs: 1981, expected: 39448},
        TestCaseTwoArgs{lhs: 53421, rhs: 53702, expected: 0},
        TestCaseTwoArgs{lhs: 4857, rhs: 55628, expected: 0},
        TestCaseTwoArgs{lhs: 4, rhs: 16518, expected: 0},
        TestCaseTwoArgs{lhs: 58267, rhs: 26105, expected: 32162},
        TestCaseTwoArgs{lhs: 30215, rhs: 13185, expected: 17030},
        TestCaseTwoArgs{lhs: 63398, rhs: 64, expected: 63334},
        TestCaseTwoArgs{lhs: 10959, rhs: 15699, expected: 0},
        TestCaseTwoArgs{lhs: 26015, rhs: 9421, expected: 16594},
        TestCaseTwoArgs{lhs: 37858, rhs: 61620, expected: 0},
        TestCaseTwoArgs{lhs: 2433, rhs: 35078, expected: 0},
        TestCaseTwoArgs{lhs: 50325, rhs: 51072, expected: 0},
        TestCaseTwoArgs{lhs: 15118, rhs: 20886, expected: 0},
        TestCaseTwoArgs{lhs: 6247, rhs: 58329, expected: 0},
        TestCaseTwoArgs{lhs: 47528, rhs: 22177, expected: 25351},
        TestCaseTwoArgs{lhs: 30959, rhs: 37533, expected: 0},
        TestCaseTwoArgs{lhs: 45135, rhs: 42583, expected: 2552},
        TestCaseTwoArgs{lhs: 25425, rhs: 1950, expected: 23475},
        TestCaseTwoArgs{lhs: 35766, rhs: 7053, expected: 28713},
        TestCaseTwoArgs{lhs: 8838, rhs: 36758, expected: 0},
        TestCaseTwoArgs{lhs: 34403, rhs: 47411, expected: 0},
        TestCaseTwoArgs{lhs: 26198, rhs: 38919, expected: 0},
        TestCaseTwoArgs{lhs: 10221, rhs: 4062, expected: 6159},
        TestCaseTwoArgs{lhs: 15842, rhs: 56071, expected: 0},
        TestCaseTwoArgs{lhs: 12165, rhs: 23758, expected: 0},
        TestCaseTwoArgs{lhs: 49943, rhs: 29312, expected: 20631},
        TestCaseTwoArgs{lhs: 55921, rhs: 59558, expected: 0},
        TestCaseTwoArgs{lhs: 58567, rhs: 12225, expected: 46342},
        TestCaseTwoArgs{lhs: 59705, rhs: 43378, expected: 16327},
        TestCaseTwoArgs{lhs: 39097, rhs: 48477, expected: 0},
        TestCaseTwoArgs{lhs: 63460, rhs: 47016, expected: 16444},
        TestCaseTwoArgs{lhs: 15740, rhs: 40933, expected: 0},
        TestCaseTwoArgs{lhs: 23172, rhs: 40321, expected: 0},
        TestCaseTwoArgs{lhs: 9187, rhs: 33289, expected: 0},
        TestCaseTwoArgs{lhs: 34889, rhs: 40435, expected: 0},
        TestCaseTwoArgs{lhs: 19938, rhs: 21984, expected: 0},
        TestCaseTwoArgs{lhs: 2389, rhs: 25868, expected: 0},
        TestCaseTwoArgs{lhs: 40591, rhs: 3288, expected: 37303},
        TestCaseTwoArgs{lhs: 56278, rhs: 39535, expected: 16743},
        TestCaseTwoArgs{lhs: 28441, rhs: 4880, expected: 23561},
        TestCaseTwoArgs{lhs: 58225, rhs: 61495, expected: 0},
        TestCaseTwoArgs{lhs: 48674, rhs: 52799, expected: 0},
        TestCaseTwoArgs{lhs: 64245, rhs: 19253, expected: 44992},
        TestCaseTwoArgs{lhs: 5292, rhs: 19393, expected: 0},
        TestCaseTwoArgs{lhs: 14960, rhs: 50329, expected: 0},
        TestCaseTwoArgs{lhs: 65179, rhs: 46395, expected: 18784},
        TestCaseTwoArgs{lhs: 56569, rhs: 62922, expected: 0},
        TestCaseTwoArgs{lhs: 53190, rhs: 3496, expected: 49694},
        TestCaseTwoArgs{lhs: 57476, rhs: 21610, expected: 35866},
        TestCaseTwoArgs{lhs: 59189, rhs: 50751, expected: 8438},
        TestCaseTwoArgs{lhs: 21465, rhs: 50327, expected: 0},
        TestCaseTwoArgs{lhs: 3120, rhs: 31452, expected: 0},
        TestCaseTwoArgs{lhs: 26165, rhs: 33725, expected: 0},
        TestCaseTwoArgs{lhs: 35783, rhs: 27542, expected: 8241},
        TestCaseTwoArgs{lhs: 33558, rhs: 60366, expected: 0},
        TestCaseTwoArgs{lhs: 24681, rhs: 5560, expected: 19121},
        TestCaseTwoArgs{lhs: 45775, rhs: 58400, expected: 0},
        TestCaseTwoArgs{lhs: 17576, rhs: 28790, expected: 0},
        TestCaseTwoArgs{lhs: 62353, rhs: 52715, expected: 9638},
        TestCaseTwoArgs{lhs: 40574, rhs: 3318, expected: 37256},
        TestCaseTwoArgs{lhs: 45915, rhs: 37916, expected: 7999},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 65535, rhs: 65535, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 65535, expected: 0},
        TestCaseTwoArgs{lhs: 65535, rhs: 0, expected: 65535},
    ];

    #[test]
    fn test_i16() {
        for case in test_cases.span() {
            assert_eq!(__llvm_usub_sat_z_z_z(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
