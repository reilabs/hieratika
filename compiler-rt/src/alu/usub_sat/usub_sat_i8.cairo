use crate::alu::usub_sat::usub_sat;

pub fn __llvm_usub_sat_b_b_b(lhs: u128, rhs: u128) -> u128 {
    usub_sat::<u8>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_usub_sat_b_b_b;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 260] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 191, rhs: 221, expected: 0},
        TestCaseTwoArgs{lhs: 231, rhs: 90, expected: 141},
        TestCaseTwoArgs{lhs: 145, rhs: 192, expected: 0},
        TestCaseTwoArgs{lhs: 123, rhs: 184, expected: 0},
        TestCaseTwoArgs{lhs: 67, rhs: 241, expected: 0},
        TestCaseTwoArgs{lhs: 208, rhs: 149, expected: 59},
        TestCaseTwoArgs{lhs: 228, rhs: 227, expected: 1},
        TestCaseTwoArgs{lhs: 196, rhs: 71, expected: 125},
        TestCaseTwoArgs{lhs: 162, rhs: 11, expected: 151},
        TestCaseTwoArgs{lhs: 32, rhs: 93, expected: 0},
        TestCaseTwoArgs{lhs: 16, rhs: 0, expected: 16},
        TestCaseTwoArgs{lhs: 129, rhs: 58, expected: 71},
        TestCaseTwoArgs{lhs: 124, rhs: 246, expected: 0},
        TestCaseTwoArgs{lhs: 114, rhs: 130, expected: 0},
        TestCaseTwoArgs{lhs: 164, rhs: 51, expected: 113},
        TestCaseTwoArgs{lhs: 172, rhs: 137, expected: 35},
        TestCaseTwoArgs{lhs: 94, rhs: 181, expected: 0},
        TestCaseTwoArgs{lhs: 235, rhs: 221, expected: 14},
        TestCaseTwoArgs{lhs: 100, rhs: 5, expected: 95},
        TestCaseTwoArgs{lhs: 140, rhs: 17, expected: 123},
        TestCaseTwoArgs{lhs: 186, rhs: 157, expected: 29},
        TestCaseTwoArgs{lhs: 55, rhs: 203, expected: 0},
        TestCaseTwoArgs{lhs: 113, rhs: 242, expected: 0},
        TestCaseTwoArgs{lhs: 11, rhs: 254, expected: 0},
        TestCaseTwoArgs{lhs: 248, rhs: 34, expected: 214},
        TestCaseTwoArgs{lhs: 13, rhs: 36, expected: 0},
        TestCaseTwoArgs{lhs: 164, rhs: 84, expected: 80},
        TestCaseTwoArgs{lhs: 94, rhs: 13, expected: 81},
        TestCaseTwoArgs{lhs: 4, rhs: 113, expected: 0},
        TestCaseTwoArgs{lhs: 201, rhs: 243, expected: 0},
        TestCaseTwoArgs{lhs: 5, rhs: 68, expected: 0},
        TestCaseTwoArgs{lhs: 183, rhs: 95, expected: 88},
        TestCaseTwoArgs{lhs: 192, rhs: 33, expected: 159},
        TestCaseTwoArgs{lhs: 253, rhs: 40, expected: 213},
        TestCaseTwoArgs{lhs: 214, rhs: 30, expected: 184},
        TestCaseTwoArgs{lhs: 15, rhs: 43, expected: 0},
        TestCaseTwoArgs{lhs: 121, rhs: 241, expected: 0},
        TestCaseTwoArgs{lhs: 102, rhs: 231, expected: 0},
        TestCaseTwoArgs{lhs: 227, rhs: 132, expected: 95},
        TestCaseTwoArgs{lhs: 93, rhs: 149, expected: 0},
        TestCaseTwoArgs{lhs: 235, rhs: 177, expected: 58},
        TestCaseTwoArgs{lhs: 170, rhs: 10, expected: 160},
        TestCaseTwoArgs{lhs: 59, rhs: 81, expected: 0},
        TestCaseTwoArgs{lhs: 240, rhs: 198, expected: 42},
        TestCaseTwoArgs{lhs: 175, rhs: 229, expected: 0},
        TestCaseTwoArgs{lhs: 178, rhs: 65, expected: 113},
        TestCaseTwoArgs{lhs: 200, rhs: 224, expected: 0},
        TestCaseTwoArgs{lhs: 136, rhs: 35, expected: 101},
        TestCaseTwoArgs{lhs: 166, rhs: 134, expected: 32},
        TestCaseTwoArgs{lhs: 218, rhs: 205, expected: 13},
        TestCaseTwoArgs{lhs: 241, rhs: 112, expected: 129},
        TestCaseTwoArgs{lhs: 230, rhs: 114, expected: 116},
        TestCaseTwoArgs{lhs: 246, rhs: 196, expected: 50},
        TestCaseTwoArgs{lhs: 70, rhs: 136, expected: 0},
        TestCaseTwoArgs{lhs: 73, rhs: 78, expected: 0},
        TestCaseTwoArgs{lhs: 54, rhs: 242, expected: 0},
        TestCaseTwoArgs{lhs: 15, rhs: 84, expected: 0},
        TestCaseTwoArgs{lhs: 251, rhs: 50, expected: 201},
        TestCaseTwoArgs{lhs: 184, rhs: 46, expected: 138},
        TestCaseTwoArgs{lhs: 156, rhs: 23, expected: 133},
        TestCaseTwoArgs{lhs: 39, rhs: 147, expected: 0},
        TestCaseTwoArgs{lhs: 189, rhs: 112, expected: 77},
        TestCaseTwoArgs{lhs: 88, rhs: 106, expected: 0},
        TestCaseTwoArgs{lhs: 135, rhs: 142, expected: 0},
        TestCaseTwoArgs{lhs: 179, rhs: 61, expected: 118},
        TestCaseTwoArgs{lhs: 119, rhs: 89, expected: 30},
        TestCaseTwoArgs{lhs: 66, rhs: 15, expected: 51},
        TestCaseTwoArgs{lhs: 84, rhs: 121, expected: 0},
        TestCaseTwoArgs{lhs: 68, rhs: 121, expected: 0},
        TestCaseTwoArgs{lhs: 65, rhs: 74, expected: 0},
        TestCaseTwoArgs{lhs: 254, rhs: 1, expected: 253},
        TestCaseTwoArgs{lhs: 197, rhs: 245, expected: 0},
        TestCaseTwoArgs{lhs: 191, rhs: 225, expected: 0},
        TestCaseTwoArgs{lhs: 101, rhs: 116, expected: 0},
        TestCaseTwoArgs{lhs: 120, rhs: 190, expected: 0},
        TestCaseTwoArgs{lhs: 80, rhs: 83, expected: 0},
        TestCaseTwoArgs{lhs: 151, rhs: 41, expected: 110},
        TestCaseTwoArgs{lhs: 130, rhs: 231, expected: 0},
        TestCaseTwoArgs{lhs: 170, rhs: 182, expected: 0},
        TestCaseTwoArgs{lhs: 126, rhs: 186, expected: 0},
        TestCaseTwoArgs{lhs: 189, rhs: 244, expected: 0},
        TestCaseTwoArgs{lhs: 155, rhs: 11, expected: 144},
        TestCaseTwoArgs{lhs: 66, rhs: 92, expected: 0},
        TestCaseTwoArgs{lhs: 100, rhs: 145, expected: 0},
        TestCaseTwoArgs{lhs: 163, rhs: 245, expected: 0},
        TestCaseTwoArgs{lhs: 94, rhs: 135, expected: 0},
        TestCaseTwoArgs{lhs: 123, rhs: 85, expected: 38},
        TestCaseTwoArgs{lhs: 210, rhs: 130, expected: 80},
        TestCaseTwoArgs{lhs: 70, rhs: 112, expected: 0},
        TestCaseTwoArgs{lhs: 89, rhs: 82, expected: 7},
        TestCaseTwoArgs{lhs: 210, rhs: 82, expected: 128},
        TestCaseTwoArgs{lhs: 85, rhs: 10, expected: 75},
        TestCaseTwoArgs{lhs: 205, rhs: 71, expected: 134},
        TestCaseTwoArgs{lhs: 56, rhs: 7, expected: 49},
        TestCaseTwoArgs{lhs: 188, rhs: 105, expected: 83},
        TestCaseTwoArgs{lhs: 123, rhs: 75, expected: 48},
        TestCaseTwoArgs{lhs: 66, rhs: 26, expected: 40},
        TestCaseTwoArgs{lhs: 135, rhs: 210, expected: 0},
        TestCaseTwoArgs{lhs: 210, rhs: 96, expected: 114},
        TestCaseTwoArgs{lhs: 96, rhs: 87, expected: 9},
        TestCaseTwoArgs{lhs: 82, rhs: 164, expected: 0},
        TestCaseTwoArgs{lhs: 230, rhs: 123, expected: 107},
        TestCaseTwoArgs{lhs: 244, rhs: 193, expected: 51},
        TestCaseTwoArgs{lhs: 29, rhs: 147, expected: 0},
        TestCaseTwoArgs{lhs: 22, rhs: 164, expected: 0},
        TestCaseTwoArgs{lhs: 244, rhs: 44, expected: 200},
        TestCaseTwoArgs{lhs: 241, rhs: 16, expected: 225},
        TestCaseTwoArgs{lhs: 33, rhs: 74, expected: 0},
        TestCaseTwoArgs{lhs: 188, rhs: 194, expected: 0},
        TestCaseTwoArgs{lhs: 112, rhs: 108, expected: 4},
        TestCaseTwoArgs{lhs: 113, rhs: 139, expected: 0},
        TestCaseTwoArgs{lhs: 20, rhs: 45, expected: 0},
        TestCaseTwoArgs{lhs: 202, rhs: 56, expected: 146},
        TestCaseTwoArgs{lhs: 206, rhs: 11, expected: 195},
        TestCaseTwoArgs{lhs: 10, rhs: 91, expected: 0},
        TestCaseTwoArgs{lhs: 210, rhs: 172, expected: 38},
        TestCaseTwoArgs{lhs: 154, rhs: 90, expected: 64},
        TestCaseTwoArgs{lhs: 175, rhs: 109, expected: 66},
        TestCaseTwoArgs{lhs: 96, rhs: 85, expected: 11},
        TestCaseTwoArgs{lhs: 25, rhs: 87, expected: 0},
        TestCaseTwoArgs{lhs: 137, rhs: 4, expected: 133},
        TestCaseTwoArgs{lhs: 114, rhs: 254, expected: 0},
        TestCaseTwoArgs{lhs: 212, rhs: 167, expected: 45},
        TestCaseTwoArgs{lhs: 106, rhs: 178, expected: 0},
        TestCaseTwoArgs{lhs: 167, rhs: 112, expected: 55},
        TestCaseTwoArgs{lhs: 153, rhs: 178, expected: 0},
        TestCaseTwoArgs{lhs: 211, rhs: 66, expected: 145},
        TestCaseTwoArgs{lhs: 130, rhs: 217, expected: 0},
        TestCaseTwoArgs{lhs: 52, rhs: 54, expected: 0},
        TestCaseTwoArgs{lhs: 64, rhs: 250, expected: 0},
        TestCaseTwoArgs{lhs: 32, rhs: 244, expected: 0},
        TestCaseTwoArgs{lhs: 77, rhs: 229, expected: 0},
        TestCaseTwoArgs{lhs: 131, rhs: 98, expected: 33},
        TestCaseTwoArgs{lhs: 59, rhs: 203, expected: 0},
        TestCaseTwoArgs{lhs: 140, rhs: 165, expected: 0},
        TestCaseTwoArgs{lhs: 67, rhs: 110, expected: 0},
        TestCaseTwoArgs{lhs: 162, rhs: 35, expected: 127},
        TestCaseTwoArgs{lhs: 123, rhs: 210, expected: 0},
        TestCaseTwoArgs{lhs: 113, rhs: 78, expected: 35},
        TestCaseTwoArgs{lhs: 62, rhs: 197, expected: 0},
        TestCaseTwoArgs{lhs: 192, rhs: 122, expected: 70},
        TestCaseTwoArgs{lhs: 255, rhs: 240, expected: 15},
        TestCaseTwoArgs{lhs: 48, rhs: 41, expected: 7},
        TestCaseTwoArgs{lhs: 254, rhs: 184, expected: 70},
        TestCaseTwoArgs{lhs: 102, rhs: 194, expected: 0},
        TestCaseTwoArgs{lhs: 175, rhs: 63, expected: 112},
        TestCaseTwoArgs{lhs: 29, rhs: 59, expected: 0},
        TestCaseTwoArgs{lhs: 187, rhs: 238, expected: 0},
        TestCaseTwoArgs{lhs: 85, rhs: 79, expected: 6},
        TestCaseTwoArgs{lhs: 222, rhs: 69, expected: 153},
        TestCaseTwoArgs{lhs: 18, rhs: 197, expected: 0},
        TestCaseTwoArgs{lhs: 187, rhs: 122, expected: 65},
        TestCaseTwoArgs{lhs: 237, rhs: 206, expected: 31},
        TestCaseTwoArgs{lhs: 246, rhs: 75, expected: 171},
        TestCaseTwoArgs{lhs: 20, rhs: 145, expected: 0},
        TestCaseTwoArgs{lhs: 147, rhs: 167, expected: 0},
        TestCaseTwoArgs{lhs: 186, rhs: 246, expected: 0},
        TestCaseTwoArgs{lhs: 15, rhs: 198, expected: 0},
        TestCaseTwoArgs{lhs: 26, rhs: 143, expected: 0},
        TestCaseTwoArgs{lhs: 246, rhs: 138, expected: 108},
        TestCaseTwoArgs{lhs: 88, rhs: 49, expected: 39},
        TestCaseTwoArgs{lhs: 198, rhs: 104, expected: 94},
        TestCaseTwoArgs{lhs: 236, rhs: 185, expected: 51},
        TestCaseTwoArgs{lhs: 141, rhs: 118, expected: 23},
        TestCaseTwoArgs{lhs: 139, rhs: 2, expected: 137},
        TestCaseTwoArgs{lhs: 6, rhs: 44, expected: 0},
        TestCaseTwoArgs{lhs: 135, rhs: 52, expected: 83},
        TestCaseTwoArgs{lhs: 161, rhs: 73, expected: 88},
        TestCaseTwoArgs{lhs: 20, rhs: 148, expected: 0},
        TestCaseTwoArgs{lhs: 36, rhs: 155, expected: 0},
        TestCaseTwoArgs{lhs: 251, rhs: 194, expected: 57},
        TestCaseTwoArgs{lhs: 72, rhs: 165, expected: 0},
        TestCaseTwoArgs{lhs: 7, rhs: 8, expected: 0},
        TestCaseTwoArgs{lhs: 112, rhs: 225, expected: 0},
        TestCaseTwoArgs{lhs: 9, rhs: 189, expected: 0},
        TestCaseTwoArgs{lhs: 38, rhs: 154, expected: 0},
        TestCaseTwoArgs{lhs: 124, rhs: 79, expected: 45},
        TestCaseTwoArgs{lhs: 182, rhs: 62, expected: 120},
        TestCaseTwoArgs{lhs: 84, rhs: 38, expected: 46},
        TestCaseTwoArgs{lhs: 87, rhs: 233, expected: 0},
        TestCaseTwoArgs{lhs: 152, rhs: 130, expected: 22},
        TestCaseTwoArgs{lhs: 255, rhs: 48, expected: 207},
        TestCaseTwoArgs{lhs: 34, rhs: 141, expected: 0},
        TestCaseTwoArgs{lhs: 204, rhs: 36, expected: 168},
        TestCaseTwoArgs{lhs: 191, rhs: 223, expected: 0},
        TestCaseTwoArgs{lhs: 90, rhs: 78, expected: 12},
        TestCaseTwoArgs{lhs: 113, rhs: 253, expected: 0},
        TestCaseTwoArgs{lhs: 31, rhs: 215, expected: 0},
        TestCaseTwoArgs{lhs: 34, rhs: 87, expected: 0},
        TestCaseTwoArgs{lhs: 96, rhs: 87, expected: 9},
        TestCaseTwoArgs{lhs: 154, rhs: 165, expected: 0},
        TestCaseTwoArgs{lhs: 167, rhs: 228, expected: 0},
        TestCaseTwoArgs{lhs: 127, rhs: 57, expected: 70},
        TestCaseTwoArgs{lhs: 83, rhs: 184, expected: 0},
        TestCaseTwoArgs{lhs: 253, rhs: 40, expected: 213},
        TestCaseTwoArgs{lhs: 40, rhs: 179, expected: 0},
        TestCaseTwoArgs{lhs: 173, rhs: 102, expected: 71},
        TestCaseTwoArgs{lhs: 231, rhs: 166, expected: 65},
        TestCaseTwoArgs{lhs: 235, rhs: 45, expected: 190},
        TestCaseTwoArgs{lhs: 248, rhs: 228, expected: 20},
        TestCaseTwoArgs{lhs: 176, rhs: 48, expected: 128},
        TestCaseTwoArgs{lhs: 64, rhs: 197, expected: 0},
        TestCaseTwoArgs{lhs: 50, rhs: 221, expected: 0},
        TestCaseTwoArgs{lhs: 216, rhs: 83, expected: 133},
        TestCaseTwoArgs{lhs: 215, rhs: 70, expected: 145},
        TestCaseTwoArgs{lhs: 241, rhs: 120, expected: 121},
        TestCaseTwoArgs{lhs: 41, rhs: 7, expected: 34},
        TestCaseTwoArgs{lhs: 177, rhs: 33, expected: 144},
        TestCaseTwoArgs{lhs: 224, rhs: 218, expected: 6},
        TestCaseTwoArgs{lhs: 48, rhs: 94, expected: 0},
        TestCaseTwoArgs{lhs: 53, rhs: 85, expected: 0},
        TestCaseTwoArgs{lhs: 3, rhs: 200, expected: 0},
        TestCaseTwoArgs{lhs: 248, rhs: 214, expected: 34},
        TestCaseTwoArgs{lhs: 217, rhs: 60, expected: 157},
        TestCaseTwoArgs{lhs: 128, rhs: 113, expected: 15},
        TestCaseTwoArgs{lhs: 45, rhs: 25, expected: 20},
        TestCaseTwoArgs{lhs: 29, rhs: 81, expected: 0},
        TestCaseTwoArgs{lhs: 4, rhs: 187, expected: 0},
        TestCaseTwoArgs{lhs: 115, rhs: 146, expected: 0},
        TestCaseTwoArgs{lhs: 192, rhs: 228, expected: 0},
        TestCaseTwoArgs{lhs: 225, rhs: 240, expected: 0},
        TestCaseTwoArgs{lhs: 127, rhs: 202, expected: 0},
        TestCaseTwoArgs{lhs: 44, rhs: 216, expected: 0},
        TestCaseTwoArgs{lhs: 170, rhs: 71, expected: 99},
        TestCaseTwoArgs{lhs: 36, rhs: 163, expected: 0},
        TestCaseTwoArgs{lhs: 33, rhs: 0, expected: 33},
        TestCaseTwoArgs{lhs: 96, rhs: 85, expected: 11},
        TestCaseTwoArgs{lhs: 66, rhs: 85, expected: 0},
        TestCaseTwoArgs{lhs: 173, rhs: 107, expected: 66},
        TestCaseTwoArgs{lhs: 211, rhs: 215, expected: 0},
        TestCaseTwoArgs{lhs: 142, rhs: 41, expected: 101},
        TestCaseTwoArgs{lhs: 24, rhs: 180, expected: 0},
        TestCaseTwoArgs{lhs: 182, rhs: 161, expected: 21},
        TestCaseTwoArgs{lhs: 7, rhs: 2, expected: 5},
        TestCaseTwoArgs{lhs: 220, rhs: 33, expected: 187},
        TestCaseTwoArgs{lhs: 17, rhs: 152, expected: 0},
        TestCaseTwoArgs{lhs: 176, rhs: 218, expected: 0},
        TestCaseTwoArgs{lhs: 144, rhs: 194, expected: 0},
        TestCaseTwoArgs{lhs: 118, rhs: 229, expected: 0},
        TestCaseTwoArgs{lhs: 92, rhs: 143, expected: 0},
        TestCaseTwoArgs{lhs: 202, rhs: 56, expected: 146},
        TestCaseTwoArgs{lhs: 166, rhs: 16, expected: 150},
        TestCaseTwoArgs{lhs: 76, rhs: 186, expected: 0},
        TestCaseTwoArgs{lhs: 254, rhs: 29, expected: 225},
        TestCaseTwoArgs{lhs: 31, rhs: 111, expected: 0},
        TestCaseTwoArgs{lhs: 125, rhs: 239, expected: 0},
        TestCaseTwoArgs{lhs: 89, rhs: 188, expected: 0},
        TestCaseTwoArgs{lhs: 188, rhs: 26, expected: 162},
        TestCaseTwoArgs{lhs: 201, rhs: 218, expected: 0},
        TestCaseTwoArgs{lhs: 200, rhs: 139, expected: 61},
        TestCaseTwoArgs{lhs: 189, rhs: 21, expected: 168},
        TestCaseTwoArgs{lhs: 232, rhs: 173, expected: 59},
        TestCaseTwoArgs{lhs: 105, rhs: 93, expected: 12},
        TestCaseTwoArgs{lhs: 62, rhs: 52, expected: 10},
        TestCaseTwoArgs{lhs: 74, rhs: 153, expected: 0},
        TestCaseTwoArgs{lhs: 102, rhs: 162, expected: 0},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 255, expected: 0},
        TestCaseTwoArgs{lhs: 255, rhs: 0, expected: 255},
        TestCaseTwoArgs{lhs: 255, rhs: 255, expected: 0},
       ];

    #[test]
    fn test_i8() {
        for case in test_cases.span() {
            assert_eq!(__llvm_usub_sat_b_b_b(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
