use crate::rtstate::RTState;
use crate::alu::ssub_with_overflow::ssub_with_overflow;
use crate::integer::u48::u48;

pub fn __llvm_ssub_with_overflow_k_k_Skcs(
    ref state: RTState, lhs: u128, rhs: u128,
) -> (u128, bool) {
    ssub_with_overflow::<u48>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_ssub_with_overflow_k_k_Skcs;
    use crate::alu::test_case::TestCaseTwoArgsTwoExpected;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgsTwoExpected; 249] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgsTwoExpected{lhs: 0b100000010110101000100101110100111101101100000101, rhs: 0b110110111010001011010001001001100010101000110110, expected: (182275537744079, false)}, // lhs = -139182075553019 rhs = -39982636586442
        TestCaseTwoArgsTwoExpected{lhs: 96431076239507, rhs: 0b110111011010101010101001011100101010101010011001, expected: (134180995907066, false)}, // rhs = -37749919667559
        TestCaseTwoArgsTwoExpected{lhs: 127165987935742, rhs: 11410396418200, expected: (115755591517542, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100000110000110111001001001010001111011001101000, rhs: 0b101101110011110110101000110010100001111101010011, expected: (224094756722453, false)}, // lhs = -137379743992216 rhs = -79999524004013
        TestCaseTwoArgsTwoExpected{lhs: 7381789225746, rhs: 92733235486132, expected: (196123530450270, false)},
        TestCaseTwoArgsTwoExpected{lhs: 138350236279722, rhs: 0b101010100100100111110100010111010110101111000111, expected: (232590603892707, true)}, // rhs = -94240367612985
        TestCaseTwoArgsTwoExpected{lhs: 129702853144763, rhs: 85544619708755, expected: (44158233436008, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101100011100111101110011000110110111100001101, rhs: 37414836769419, expected: (127760720026754, true)}, // lhs = -116299419914483
        TestCaseTwoArgsTwoExpected{lhs: 107055523854334, rhs: 0b111001000000110010110101010111111001111101101100, expected: (137787266881682, false)}, // rhs = -30731743027348
        TestCaseTwoArgsTwoExpected{lhs: 19446984009435, rhs: 66693344170643, expected: (234228616549448, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101000101001111001111111010010001101001001000101, rhs: 0b111010010110010110011110110011011101000010100111, expected: (203653935464862, false)}, // lhs = -102673352699323 rhs = -24852311453529
        TestCaseTwoArgsTwoExpected{lhs: 0b111010010000101010011001001110101110011110111100, rhs: 0b111000001100100000000101101000100000011000001100, expected: (9082037133744, false)}, // lhs = -25243246991428 rhs = -34325284125172
        TestCaseTwoArgsTwoExpected{lhs: 1448060023143, rhs: 25456329625859, expected: (257466707107940, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101110000000101000001111100111101001000111011000, rhs: 35259705436460, expected: (167093645797548, false)}, // lhs = -79121625476648
        TestCaseTwoArgsTwoExpected{lhs: 0b110011011000101000010000110001000100010101000111, rhs: 0b110001000000011101010101111010001001111111010111, expected: (10457085355376, false)}, // lhs = -55482106231481 rhs = -65939191586857
        TestCaseTwoArgsTwoExpected{lhs: 6185761673069, rhs: 35304036081755, expected: (252356702301970, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100000011011000111011111011010100001100001110110, rhs: 26494666002013, expected: (116106291464729, true)}, // lhs = -138874019243914
        TestCaseTwoArgsTwoExpected{lhs: 0b110000000110000100101011010101010111000000110011, rhs: 75248343088499, expected: (136275228291776, true)}, // lhs = -69951405330381
        TestCaseTwoArgsTwoExpected{lhs: 135379948393733, rhs: 0b100100000011001010110110100101100110000101001010, expected: (258307439031227, true)}, // rhs = -122927490637494
        TestCaseTwoArgsTwoExpected{lhs: 0b100011101101100100001110100010110000111011001101, rhs: 0b100000010110101011101010100010011001001101100110, expected: (14766701640551, false)}, // lhs = -124412073668915 rhs = -139178775309466
        TestCaseTwoArgsTwoExpected{lhs: 88031056519918, rhs: 0b111100111111111101111011011101011111100010010000, expected: (101227419691614, false)}, // rhs = -13196363171696
        TestCaseTwoArgsTwoExpected{lhs: 118156794356606, rhs: 0b101001001111011111001010110001001010110010011010, expected: (218247605303012, true)}, // rhs = -100090810946406
        TestCaseTwoArgsTwoExpected{lhs: 33730176491950, rhs: 42853811860342, expected: (272351341342264, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101101001110001010100010011001000101010001101010, rhs: 0b101101011111011011110011100010101100001000001110, expected: (280288204264028, false)}, // lhs = -82589496617878 rhs = -81402724171250
        TestCaseTwoArgsTwoExpected{lhs: 108788603170609, rhs: 0b110101010011100000011001100110101100100011100111, expected: (155826655422026, true)}, // rhs = -47038052251417
        TestCaseTwoArgsTwoExpected{lhs: 123993244106969, rhs: 0b101000111110100111100010111111010111001010000100, expected: (225243289849429, true)}, // rhs = -101250045742460
        TestCaseTwoArgsTwoExpected{lhs: 59534357001977, rhs: 12847291342371, expected: (46687065659606, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101000100010000111011100100011100101111011001111, rhs: 0b110111010101110011100010101000011100011001101001, expected: (216350285666406, false)}, // lhs = -103208658772273 rhs = -38083967728023
        TestCaseTwoArgsTwoExpected{lhs: 0b100101001101101011011111001010111110110000011110, rhs: 0b111010010100100001001010001101100011111000010010, expected: (188646052703756, false)}, // lhs = -117807208731618 rhs = -24978284724718
        TestCaseTwoArgsTwoExpected{lhs: 0b100011101011101101111010010011101100011000011010, rhs: 114351152203539, expected: (42584709807879, true)}, // lhs = -124539114699238
        TestCaseTwoArgsTwoExpected{lhs: 123222861090668, rhs: 0b101001001000110111011110011110000001000010110010, expected: (223768608046778, true)}, // rhs = -100545746956110
        TestCaseTwoArgsTwoExpected{lhs: 35581383680136, rhs: 0b101110110000011110111000101101011111001110010100, expected: (111414522293492, false)}, // rhs = -75833138613356
        TestCaseTwoArgsTwoExpected{lhs: 55637397052072, rhs: 44180904449112, expected: (11456492602960, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110110111011000100000111111101000000011000100100, rhs: 8428408496324, expected: (233124980630880, false)}, // lhs = -39921587583452
        TestCaseTwoArgsTwoExpected{lhs: 59190435526325, rhs: 0b100000100000101011011000111110001000010001111001, expected: (197682310787644, true)}, // rhs = -138491875261319
        TestCaseTwoArgsTwoExpected{lhs: 0b111011000110111011110110110011001010010100110111, rhs: 88355026045193, expected: (171606305119278, false)}, // lhs = -21513645546185
        TestCaseTwoArgsTwoExpected{lhs: 67612871038134, rhs: 0b100011010100111100100011111011111100111100100000, expected: (193716802897302, true)}, // rhs = -126103931859168
        TestCaseTwoArgsTwoExpected{lhs: 0b101101000100001011001110011111101000111111110011, rhs: 41790794171227, expected: (156408231070872, false)}, // lhs = -83275951468557
        TestCaseTwoArgsTwoExpected{lhs: 76933735626114, rhs: 112786148171418, expected: (245622564165352, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101101010000011000110101111110011101001000000010, rhs: 474142988369, expected: (198564137007537, false)}, // lhs = -82436696714750
        TestCaseTwoArgsTwoExpected{lhs: 5237568374928, rhs: 130635174379631, expected: (156077370705953, false)},
        TestCaseTwoArgsTwoExpected{lhs: 94260263863631, rhs: 0b101010011100100000101101000011011010110000110000, expected: (189058026150175, true)}, // rhs = -94797762286544
        TestCaseTwoArgsTwoExpected{lhs: 23504594164768, rhs: 7561556920550, expected: (15943037244218, false)},
        TestCaseTwoArgsTwoExpected{lhs: 45405619451789, rhs: 0b101100111110101100000011100000000011010000100101, expected: (129058638742376, false)}, // rhs = -83653019290587
        TestCaseTwoArgsTwoExpected{lhs: 0b111110000010110010011000011011111101100110001000, rhs: 0b111000000101000111111100010010111100000011101000, expected: (26227689920672, false)}, // lhs = -8604556994168 rhs = -34832246914840
        TestCaseTwoArgsTwoExpected{lhs: 0b100001010000000110001101000101010110101101000100, rhs: 0b111111001011000011101010111110011100001101011110, expected: (149879898482662, false)}, // lhs = -135233268257980 rhs = -3638190029986
        TestCaseTwoArgsTwoExpected{lhs: 130011077281492, rhs: 0b111100111000101001111100001101000010010010001011, expected: (143709939163721, true)}, // rhs = -13698861882229
        TestCaseTwoArgsTwoExpected{lhs: 0b110010100001010101011011001000101100000111001100, rhs: 0b110100110010001001010001011000100000101100110000, expected: (271523701110428, false)}, // lhs = -59281904582196 rhs = -49330628981968
        TestCaseTwoArgsTwoExpected{lhs: 0b100101010100001010010011010101000000110111011011, rhs: 74453191231920, expected: (89659980907563, true)}, // lhs = -117361804571173
        TestCaseTwoArgsTwoExpected{lhs: 106751773142071, rhs: 0b101111101101011000001011100011110000001111011001, expected: (178400223651934, true)}, // rhs = -71648450509863
        TestCaseTwoArgsTwoExpected{lhs: 102991799617188, rhs: 7871956966869, expected: (95119842650319, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111110011111000111110101001000011101111010000100, rhs: 0b110110110101011111100011000100010100101110100010, expected: (33647076872930, false)}, // lhs = -6657381638524 rhs = -40304458511454
        TestCaseTwoArgsTwoExpected{lhs: 0b110111010010001010011010000001011011100011100001, rhs: 50204532474747, expected: (192936150218086, false)}, // lhs = -38334294017823
        TestCaseTwoArgsTwoExpected{lhs: 0b100011100110000000010010111011010011001100000011, rhs: 52616088257459, expected: (103927197282128, true)}, // lhs = -124931691171069
        TestCaseTwoArgsTwoExpected{lhs: 106101317101480, rhs: 41484040532956, expected: (64617276568524, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110000110110000111000000000001111100000100000000, rhs: 0b110011101110001111101000101110111000010010000001, expected: (268821320187007, false)}, // lhs = -66650375732992 rhs = -53996719209343
        TestCaseTwoArgsTwoExpected{lhs: 35137082862515, rhs: 0b101100100011110011000101111101100111100101101101, expected: (120637970526790, false)}, // rhs = -85500887664275
        TestCaseTwoArgsTwoExpected{lhs: 103686639482080, rhs: 0b100011011101101000000100101110111100111111010100, expected: (229194094388492, true)}, // rhs = -125507454906412
        TestCaseTwoArgsTwoExpected{lhs: 0b110111001111100101000001111110100010100101101000, rhs: 0b111001100011100011001001000010100100000111011100, expected: (271306523142028, false)}, // lhs = -38511864829592 rhs = -28343411260964
        TestCaseTwoArgsTwoExpected{lhs: 0b110010111011010111111111000011110011001110111000, rhs: 8393872076898, expected: (215588656628566, false)}, // lhs = -57492448005192
        TestCaseTwoArgsTwoExpected{lhs: 0b111110101111000011001100000001111110010111001011, rhs: 106520151959204, expected: (169391970205479, false)}, // lhs = -5562854545973
        TestCaseTwoArgsTwoExpected{lhs: 0b100100101010110010010110000111111011011011010010, rhs: 0b111001110100110010000110100010000001101000000110, expected: (188429066804428, false)}, // lhs = -120205026019630 rhs = -27159116113402
        TestCaseTwoArgsTwoExpected{lhs: 136564970861981, rhs: 0b100101101111011000011001111001100101100101110001, expected: (252056206924844, true)}, // rhs = -115491236062863
        TestCaseTwoArgsTwoExpected{lhs: 32900396787777, rhs: 0b111011001000100000101110110001100011101101011101, expected: (54305729047780, false)}, // rhs = -21405332260003
        TestCaseTwoArgsTwoExpected{lhs: 0b111010011011101000110010010100101000100000011010, rhs: 133232021966309, expected: (123753895492149, true)}, // lhs = -24489059252198
        TestCaseTwoArgsTwoExpected{lhs: 0b100011101111110100101011111000110100001100111101, rhs: 66340294276355, expected: (90877719907898, true)}, // lhs = -124256962526403
        TestCaseTwoArgsTwoExpected{lhs: 0b110110010001000111101101010100100110101100111010, rhs: 0b111111001010110011011101011001111011010010110110, expected: (242326616848004, false)}, // lhs = -42803957437638 rhs = -3655597574986
        TestCaseTwoArgsTwoExpected{lhs: 120302440443041, rhs: 0b100111110011110011001100111110010100001111111110, expected: (226693931411619, true)}, // rhs = -106391490968578
        TestCaseTwoArgsTwoExpected{lhs: 53356661001118, rhs: 0b101000010101100110111010000100100011101000111001, expected: (157424891793765, true)}, // rhs = -104068230792647
        TestCaseTwoArgsTwoExpected{lhs: 0b100100101100000100000111000011100001010010001001, rhs: 0b111110101111111011111100100010011101011110000101, expected: (166859655888132, false)}, // lhs = -120117232003959 rhs = -5501911181435
        TestCaseTwoArgsTwoExpected{lhs: 0b100100110101011100110110101010000011101110001101, rhs: 0b111001010110111011110111000000101101110010110000, expected: (191213011820253, false)}, // lhs = -119472188277875 rhs = -29210223387472
        TestCaseTwoArgsTwoExpected{lhs: 0b100100010010100010001110111010010101111000011100, rhs: 113343621876697, expected: (46259760501315, true)}, // lhs = -121871594332644
        TestCaseTwoArgsTwoExpected{lhs: 37088313585910, rhs: 0b111010100010010011000100101100110101001010000011, expected: (61119650487923, false)}, // rhs = -24031336902013
        TestCaseTwoArgsTwoExpected{lhs: 39879701684614, rhs: 0b100101110001110111001101010010101100001101010010, expected: (155200424320564, true)}, // rhs = -115320722635950
        TestCaseTwoArgsTwoExpected{lhs: 0b110011110111110101011100101011000001111010111101, rhs: 0b101111000000010100111000011000001011010100100011, expected: (21406725925274, false)}, // lhs = -53337644065091 rhs = -74744369990365
        TestCaseTwoArgsTwoExpected{lhs: 0b100100110100101010111101000000000000001001101101, rhs: 86353607086968, expected: (75595600670453, true)}, // lhs = -119525768953235
        TestCaseTwoArgsTwoExpected{lhs: 0b100001100010101111110000010000000001000010101101, rhs: 0b100010010001110110101011110101011110111101110110, expected: (278237719175479, false)}, // lhs = -133951704264531 rhs = -130714446729354
        TestCaseTwoArgsTwoExpected{lhs: 22949576775141, rhs: 0b110111100111111100000010010000110000001001101001, expected: (59787473326972, false)}, // rhs = -36837896551831
        TestCaseTwoArgsTwoExpected{lhs: 0b110001011100000100110110000110010101000001101111, rhs: 22827154692330, expected: (194606472296325, false)}, // lhs = -64041349722001
        TestCaseTwoArgsTwoExpected{lhs: 0b100100110010110000001011101100101110101001000100, rhs: 84525680312169, expected: (77291703806683, true)}, // lhs = -119657592591804
        TestCaseTwoArgsTwoExpected{lhs: 8557359800030, rhs: 0b100000001010001000100001101101001110000100101000, expected: (148598497951158, true)}, // rhs = -140041138151128
        TestCaseTwoArgsTwoExpected{lhs: 0b100100101110011000001111001001010110101110001100, rhs: 108482712495794, expected: (53034081748186, true)}, // lhs = -119958182466676
        TestCaseTwoArgsTwoExpected{lhs: 0b111000111111000001010010111011101000100110011110, rhs: 0b111000110110100100110001100110010111101011000011, expected: (580379807451, false)}, // lhs = -30853653689954 rhs = -31434033497405
        TestCaseTwoArgsTwoExpected{lhs: 0b110100010011110011111001100100000111010011100101, rhs: 97165875267349, expected: (132893939969488, true)}, // lhs = -51415161473819
        TestCaseTwoArgsTwoExpected{lhs: 17330768189552, rhs: 63784243983348, expected: (235021500916860, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101111000000000010110110101001011011011100010110, rhs: 0b111110000110000000111110010011001001100110000111, expected: (215093981289871, false)}, // lhs = -74763726375146 rhs = -8382730954361
        TestCaseTwoArgsTwoExpected{lhs: 92446293718363, rhs: 0b111110011001111101110011111001100001101010011001, expected: (99458030852802, false)}, // rhs = -7011737134439
        TestCaseTwoArgsTwoExpected{lhs: 77027378710631, rhs: 132711148245969, expected: (225791207175318, false)},
        TestCaseTwoArgsTwoExpected{lhs: 40735124425837, rhs: 35973591912909, expected: (4761532512928, false)},
        TestCaseTwoArgsTwoExpected{lhs: 121976973541398, rhs: 108033398376426, expected: (13943575164972, false)},
        TestCaseTwoArgsTwoExpected{lhs: 37509479676895, rhs: 106223238453182, expected: (212761217934369, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100001010000101000100100100001110110100111101110, rhs: 0b101100011101100001001110110010111101011010100000, expected: (232210992698190, false)}, // lhs = -135196367689234 rhs = -85932383676768
        TestCaseTwoArgsTwoExpected{lhs: 16771853296457, rhs: 0b100110101011111011001111101000111111011010010110, expected: (128102511914163, false)}, // rhs = -111330658617706
        TestCaseTwoArgsTwoExpected{lhs: 57568130927779, rhs: 0b100010000000111011000110101001010010110010000111, expected: (189446064005148, true)}, // rhs = -131877933077369
        TestCaseTwoArgsTwoExpected{lhs: 41150652048657, rhs: 21593780162204, expected: (19556871886453, false)},
        TestCaseTwoArgsTwoExpected{lhs: 33311094310234, rhs: 6953844945778, expected: (26357249364456, false)},
        TestCaseTwoArgsTwoExpected{lhs: 112537929033325, rhs: 0b110101010011001010000000111011001111100010101000, expected: (159600017649093, true)}, // rhs = -47062088615768
        TestCaseTwoArgsTwoExpected{lhs: 0b100011000010001101100111011101100001001001011111, rhs: 0b100001010010011000011010010101110111011001110001, expected: (7684990344174, false)}, // lhs = -127391289175457 rhs = -135076279519631
        TestCaseTwoArgsTwoExpected{lhs: 0b111010010100111111011000011100110101111110101110, rhs: 134250586335599, expected: (122278556792383, true)}, // lhs = -24945833582674
        TestCaseTwoArgsTwoExpected{lhs: 107508165121903, rhs: 0b101110011000110101110010000011111011001000101011, expected: (184965986673988, true)}, // rhs = -77457821552085
        TestCaseTwoArgsTwoExpected{lhs: 101253382739056, rhs: 54200136186447, expected: (47053246552609, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101110100101010111011001100111010101010001010, rhs: 9357964378293, expected: (156989259721173, false)}, // lhs = -115127752611190
        TestCaseTwoArgsTwoExpected{lhs: 91714652381337, rhs: 109097233272403, expected: (264092395819590, false)},
        TestCaseTwoArgsTwoExpected{lhs: 7807157314057, rhs: 0b111110011111101010100011101100001000101100011101, expected: (14427250628332, false)}, // rhs = -6620093314275
        TestCaseTwoArgsTwoExpected{lhs: 25420907479155, rhs: 0b111111011011100010111001110011101010111110000101, expected: (27926051049710, false)}, // rhs = -2505143570555
        TestCaseTwoArgsTwoExpected{lhs: 49770270797527, rhs: 56775796712012, expected: (274469450796171, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110001010100000110111100111010001100111011011100, rhs: 0b101111110110010000101101011010100011100001110101, expected: (6449153349223, false)}, // lhs = -64588843790628 rhs = -71037997139851
        TestCaseTwoArgsTwoExpected{lhs: 4682982828381, rhs: 0b111101011111111001101100101110011000101100010101, expected: (15684864941640, false)}, // rhs = -11001882113259
        TestCaseTwoArgsTwoExpected{lhs: 0b111011010011001011100001000000001101111010111001, rhs: 0b111010001101010000100100010010100101111001001100, expected: (4804939513965, false)}, // lhs = -20672197632327 rhs = -25477137146292
        TestCaseTwoArgsTwoExpected{lhs: 0b110110000110000011011000001110011101010010100000, rhs: 127995227091824, expected: (109915229036848, true)}, // lhs = -43564520581984
        TestCaseTwoArgsTwoExpected{lhs: 0b110010111010010110101100010110111111011100011000, rhs: 61972829744282, expected: (161939592006270, false)}, // lhs = -57562554960104
        TestCaseTwoArgsTwoExpected{lhs: 0b101011000110100010111010011100001010000100111011, rhs: 0b100001110100100010111000010110000011100001110011, expected: (40819404335304, false)}, // lhs = -91909172190917 rhs = -132728576526221
        TestCaseTwoArgsTwoExpected{lhs: 110205273340309, rhs: 0b110000010001100111000010000001010011001001100010, expected: (179363876587315, true)}, // rhs = -69158603247006
        TestCaseTwoArgsTwoExpected{lhs: 0b111001011001010111111110100011100001000101000010, rhs: 0b110001111100100110000001110110001010100010111000, expected: (32764102797450, false)}, // lhs = -29042593099454 rhs = -61806695896904
        TestCaseTwoArgsTwoExpected{lhs: 0b111010010100111101110110001001001111001011000010, rhs: 0b110100111011011000100110001101011100111101000011, expected: (23748215251839, false)}, // lhs = -24947482889534 rhs = -48695698141373
        TestCaseTwoArgsTwoExpected{lhs: 0b101101111010110111111101000010000000001011101000, rhs: 70909160180242, expected: (131048742205654, true)}, // lhs = -79517074324760
        TestCaseTwoArgsTwoExpected{lhs: 0b101101110110010011110100100100001101011011001001, rhs: 0b111000010001101111100101110010010010011001000101, expected: (235609268924548, false)}, // lhs = -79830748965175 rhs = -33965041179067
        TestCaseTwoArgsTwoExpected{lhs: 123731028740976, rhs: 71881795682979, expected: (51849233057997, false)},
        TestCaseTwoArgsTwoExpected{lhs: 76091048568872, rhs: 0b111000101000011010101000000110100100001010000101, expected: (108498051491235, false)}, // rhs = -32407002922363
        TestCaseTwoArgsTwoExpected{lhs: 73203112904804, rhs: 96999770210383, expected: (257678319405077, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100011111111010000100100011011111111001011101100, rhs: 40510902778834, expected: (117767843329818, true)}, // lhs = -123196230602004
        TestCaseTwoArgsTwoExpected{lhs: 0b101001111001110100010111010101011101101101110001, rhs: 84297931745257, expected: (99995211461512, true)}, // lhs = -97181833503887
        TestCaseTwoArgsTwoExpected{lhs: 0b111011110000011011111110110001010100110100101100, rhs: 0b110110001010011011001000011110000010011001001010, expected: (24602483697378, false)}, // lhs = -18661653525204 rhs = -43264137222582
        TestCaseTwoArgsTwoExpected{lhs: 123092108683394, rhs: 69188584920204, expected: (53903523763190, false)},
        TestCaseTwoArgsTwoExpected{lhs: 65609858239044, rhs: 129397109031199, expected: (217687725918501, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110011010001000111111000001100111001101000000101, rhs: 45950299484273, expected: (179526762785172, false)}, // lhs = -55997914441211
        TestCaseTwoArgsTwoExpected{lhs: 63351962714837, rhs: 0b111011111000010000111001111010010000101001100001, expected: (81475753130100, false)}, // rhs = -18123790415263
        TestCaseTwoArgsTwoExpected{lhs: 0b101111110101110101001110110010110100001011101010, rhs: 0b111000010111001010110110001011111100011111110011, expected: (243999652412151, false)}, // lhs = -71067501903126 rhs = -33592177604621
        TestCaseTwoArgsTwoExpected{lhs: 0b101010001000010111001101111010010110010001010100, rhs: 0b110111101010100100001110111001100000100100010111, expected: (221949934656317, false)}, // lhs = -96182337969068 rhs = -36657295914729
        TestCaseTwoArgsTwoExpected{lhs: 0b111111000011110001001101011101110001001100100111, rhs: 0b100010111011000100001011110110011101101110010001, expected: (123743403587478, false)}, // lhs = -4139048824025 rhs = -127882452411503
        TestCaseTwoArgsTwoExpected{lhs: 0b110111110001100100111000100010111010010010011010, rhs: 0b101111010011111001001110000100101101110000100010, expected: (37224120371320, false)}, // lhs = -36175560858470 rhs = -73399681229790
        TestCaseTwoArgsTwoExpected{lhs: 641359789233, rhs: 0b111110110110001100001010011011110110001111010011, expected: (5713541093598, false)}, // rhs = -5072181304365
        TestCaseTwoArgsTwoExpected{lhs: 0b101011100100111101001110011000010111010110010100, rhs: 16374839716578, expected: (175280800942770, false)}, // lhs = -89819336051308
        TestCaseTwoArgsTwoExpected{lhs: 0b111111010011110000010111111101000111101101101100, rhs: 30451346301716, expected: (247983195461720, false)}, // lhs = -3040434947220
        TestCaseTwoArgsTwoExpected{lhs: 0b100010011010010111000101110010110010010000010101, rhs: 0b100011000100000010111101010110111001010111000000, expected: (278610375052885, false)}, // lhs = -130129895676907 rhs = -127265294019136
        TestCaseTwoArgsTwoExpected{lhs: 74385269066388, rhs: 60361135180751, expected: (14024133885637, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111101011100010100001110000010000010010000101100, rhs: 97262356104033, expected: (172964336672971, false)}, // lhs = -11248283933652
        TestCaseTwoArgsTwoExpected{lhs: 62656474569055, rhs: 34530454564770, expected: (28126020004285, false)},
        TestCaseTwoArgsTwoExpected{lhs: 86827415455674, rhs: 0b111101000101011010100111011011000100011111000110, expected: (99649378910196, false)}, // rhs = -12821963454522
        TestCaseTwoArgsTwoExpected{lhs: 0b100110111101111010001011101010010011010000110100, rhs: 63328148968436, expected: (108051979198528, true)}, // lhs = -110094848543692
        TestCaseTwoArgsTwoExpected{lhs: 71180124759459, rhs: 102037408908563, expected: (250617692561552, false)},
        TestCaseTwoArgsTwoExpected{lhs: 74628347665480, rhs: 68125554436790, expected: (6502793228690, false)},
        TestCaseTwoArgsTwoExpected{lhs: 117652891325620, rhs: 0b101101100011111111100110111111001101101100011011, expected: (198742293510553, true)}, // rhs = -81089402184933
        TestCaseTwoArgsTwoExpected{lhs: 0b100101011101010111100101011001010010100111100001, rhs: 0b100011000110011010001110001100100101111010110001, expected: (10373808966448, false)}, // lhs = -116729067525663 rhs = -127102876492111
        TestCaseTwoArgsTwoExpected{lhs: 3223337956028, rhs: 0b111110100010110001110101100111000010011011100000, expected: (9629455993820, false)}, // rhs = -6406118037792
        TestCaseTwoArgsTwoExpected{lhs: 0b110011101111100111110100011011011001100000111010, rhs: 0b100111100010111010011001110110010000011111110100, expected: (53649956180038, false)}, // lhs = -53902033708998 rhs = -107551989889036
        TestCaseTwoArgsTwoExpected{lhs: 0b100001111110100011101101000100100110101000100100, rhs: 134139352470815, expected: (15295127098629, true)}, // lhs = -132040497141212
        TestCaseTwoArgsTwoExpected{lhs: 58134607399357, rhs: 53412373012138, expected: (4722234387219, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100110111100000011001001111100000000000111110011, rhs: 56417077088988, expected: (114835246886679, true)}, // lhs = -110222652734989
        TestCaseTwoArgsTwoExpected{lhs: 0b111011011110000100011101011111101100111100000100, rhs: 0b111001011111101111110100101000101000000100011110, expected: (8680814431718, false)}, // lhs = -19923858436348 rhs = -28604672868066
        TestCaseTwoArgsTwoExpected{lhs: 83434978364135, rhs: 0b101000010100110111111110111111000100110100010100, expected: (187553592573395, true)}, // rhs = -104118614209260
        TestCaseTwoArgsTwoExpected{lhs: 18025878615307, rhs: 0b110110100001111001101101110101000100101000101000, expected: (59676628822755, false)}, // rhs = -41650750207448
        TestCaseTwoArgsTwoExpected{lhs: 0b111101101100000001001111011010100001010010100001, rhs: 0b111011001101001100100111011001100100000110010001, expected: (10914183238416, false)}, // lhs = -10169150204767 rhs = -21083333443183
        TestCaseTwoArgsTwoExpected{lhs: 94458504762523, rhs: 65023291107886, expected: (29435213654637, false)},
        TestCaseTwoArgsTwoExpected{lhs: 51361791943157, rhs: 111104453744915, expected: (221732314908898, false)},
        TestCaseTwoArgsTwoExpected{lhs: 127265667546950, rhs: 0b110001010110101101101000001111010010010011100011, expected: (191675543247459, true)}, // rhs = -64409875700509
        TestCaseTwoArgsTwoExpected{lhs: 26543879700897, rhs: 79355992252859, expected: (228662864158694, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100100100101110011110110011101101000111001010011, rhs: 0b101010100010001001010100000111100010111010110010, expected: (255338529447841, false)}, // lhs = -120547007099309 rhs = -94410559836494
        TestCaseTwoArgsTwoExpected{lhs: 128233985661521, rhs: 106673990293047, expected: (21559995368474, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110110110100111001100000010010111111000011101111, rhs: 12757828596555, expected: (228371840925092, false)}, // lhs = -40345307189009
        TestCaseTwoArgsTwoExpected{lhs: 4563980812495, rhs: 34103522708825, expected: (251935434814326, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100010110000011101011001001110101010011000011000, rhs: 0b111110011110111001111100011010000001011101000001, expected: (159535970029271, false)}, // lhs = -128611298662888 rhs = -6672291981503
        TestCaseTwoArgsTwoExpected{lhs: 0b101100110110111011110111001000110000011011001011, rhs: 42311173303146, expected: (154978000739169, false)}, // lhs = -84185802668341
        TestCaseTwoArgsTwoExpected{lhs: 0b101101001111001110010010101100101111100011110001, rhs: 47219441165207, expected: (151738790090074, false)}, // lhs = -82516745455375
        TestCaseTwoArgsTwoExpected{lhs: 119048079060720, rhs: 0b100110111111111000011000001011010011111000101100, expected: (229007426154692, true)}, // rhs = -109959347093972
        TestCaseTwoArgsTwoExpected{lhs: 31740880194836, rhs: 75882827664377, expected: (237333029241115, false)},
        TestCaseTwoArgsTwoExpected{lhs: 88436166617923, rhs: 33827741390743, expected: (54608425227180, false)},
        TestCaseTwoArgsTwoExpected{lhs: 58645565484332, rhs: 0b101000011101001110101111001001110111010100000110, expected: (162189993424934, true)}, // rhs = -103544427940602
        TestCaseTwoArgsTwoExpected{lhs: 0b110101110001100111110100010100110101000101010100, rhs: 85619035668025, expected: (150887437587227, false)}, // lhs = -44968503455404
        TestCaseTwoArgsTwoExpected{lhs: 44445976240993, rhs: 0b101011011011000010101001000100100011000011000010, expected: (134946690560671, false)}, // rhs = -90500714319678
        TestCaseTwoArgsTwoExpected{lhs: 0b101101111111111111001110010010011000001110110001, rhs: 0b101110000010011001101110100011001101000001011101, expected: (281309079188308, false)}, // lhs = -79165671242831 rhs = -78999773720483
        TestCaseTwoArgsTwoExpected{lhs: 78721868922373, rhs: 0b101000100101011001110100101101011010000111100101, expected: (181704636685344, true)}, // rhs = -102982767762971
        TestCaseTwoArgsTwoExpected{lhs: 0b110010001100101010001001100001011111100011110110, rhs: 0b101010000000110000000000101010001000111101100000, expected: (36002712086934, false)}, // lhs = -60702760503050 rhs = -96705472589984
        TestCaseTwoArgsTwoExpected{lhs: 0b101110000110000111011000101100110111111100010111, rhs: 35868359577452, expected: (166862027403179, false)}, // lhs = -78744589730025
        TestCaseTwoArgsTwoExpected{lhs: 0b101001101000110101111011011000001110001011110100, rhs: 4869547244938, expected: (178257043301738, false)}, // lhs = -98348386163980
        TestCaseTwoArgsTwoExpected{lhs: 0b110011000011011111110011110000011011101011110100, rhs: 133954856623700, expected: (90585828203680, true)}, // lhs = -56934291883276
        TestCaseTwoArgsTwoExpected{lhs: 132382967543952, rhs: 0b111001100111011001000001001101100100111001001100, expected: (160462369647172, true)}, // rhs = -28079402103220
        TestCaseTwoArgsTwoExpected{lhs: 0b110011010010000111111010101011011110101011101000, rhs: 35039562681063, expected: (190506260635649, false)}, // lhs = -55929153393944
        TestCaseTwoArgsTwoExpected{lhs: 139052954432849, rhs: 36907799359706, expected: (102145155073143, false)},
        TestCaseTwoArgsTwoExpected{lhs: 27074105385371, rhs: 2564508559596, expected: (24509596825775, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110100111100111100011001110000011111111101101001, rhs: 0b101111101011101101100100011011011010001100001100, expected: (23174390766685, false)}, // lhs = -48588532875415 rhs = -71762923642100
        TestCaseTwoArgsTwoExpected{lhs: 0b111000000010111101000110010000000000001110011000, rhs: 11511402905501, expected: (234982243779579, false)}, // lhs = -34981330025576
        TestCaseTwoArgsTwoExpected{lhs: 133780160191880, rhs: 0b111100111110111000000001110000000010100101011111, expected: (147051579765801, true)}, // rhs = -13271419573921
        TestCaseTwoArgsTwoExpected{lhs: 138515430798476, rhs: 76593502899822, expected: (61921927898654, false)},
        TestCaseTwoArgsTwoExpected{lhs: 42537168565949, rhs: 0b110001101000100001010000101001000001001011001000, expected: (105723374494709, false)}, // rhs = -63186205928760
        TestCaseTwoArgsTwoExpected{lhs: 31145970590090, rhs: 48442041038937, expected: (264178906261809, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110010111001011100101000110110101100101011000001, rhs: 33986988746986, expected: (189863097180631, false)}, // lhs = -57624890783039
        TestCaseTwoArgsTwoExpected{lhs: 0b100000010010011101100110000011111000011011000000, rhs: 83439747523330, expected: (58566468477886, true)}, // lhs = -139468760709440
        TestCaseTwoArgsTwoExpected{lhs: 0b111110010100110111100000011100110110110100111101, rhs: 0b111110000100001001110011010110100001011010100011, expected: (1148586645146, false)}, // lhs = -7362103251651 rhs = -8510689896797
        TestCaseTwoArgsTwoExpected{lhs: 29219990025670, rhs: 0b100100011100010101110000110101000000000101001000, expected: (150417779209342, true)}, // rhs = -121197789183672
        TestCaseTwoArgsTwoExpected{lhs: 0b111101011000100010010000001001000110000111011010, rhs: 27617873734524, expected: (242349008926302, false)}, // lhs = -11508094049830
        TestCaseTwoArgsTwoExpected{lhs: 78498259608130, rhs: 81555498331144, expected: (278417737987642, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101100011001000010110001010110100011110101011101, rhs: 16824098933972, expected: (178410909954185, false)}, // lhs = -86239967822499
        TestCaseTwoArgsTwoExpected{lhs: 0b110110101111110100000000110100111110000000010110, rhs: 37671295531159, expected: (203108879935359, false)}, // lhs = -40694801244138
        TestCaseTwoArgsTwoExpected{lhs: 34388786575190, rhs: 90405270931533, expected: (225458492354313, false)},
        TestCaseTwoArgsTwoExpected{lhs: 84064109052666, rhs: 52053602116532, expected: (32010506936134, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101101001101111110000101000110100011000001110, rhs: 0b100011110111011101110001110001101100101110110111, expected: (7853328595543, false)}, // lhs = -115878475381234 rhs = -123731803976777
        TestCaseTwoArgsTwoExpected{lhs: 0b100010010101000011010000110000001011000001010100, rhs: 3272890357371, expected: (147707302320601, false)}, // lhs = -130494784032684
        TestCaseTwoArgsTwoExpected{lhs: 0b111100011110010001001100010110110001011100111000, rhs: 133063520451998, expected: (132899315423642, true)}, // lhs = -15512140835016
        TestCaseTwoArgsTwoExpected{lhs: 118111741870047, rhs: 9989494577097, expected: (108122247292950, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110001101011100101101101010001010100111100011010, rhs: 0b110110000001111101010110000001011111001001110110, expected: (262345582402724, false)}, // lhs = -62975272202470 rhs = -43845877894538
        TestCaseTwoArgsTwoExpected{lhs: 0b100001101011001110011001110110101000111100101011, rhs: 12487124707012, expected: (135618813798503, true)}, // lhs = -133369038205141
        TestCaseTwoArgsTwoExpected{lhs: 0b101111111011000000011000000010111111000101111111, rhs: 0b100110111011001010110001111101101001101011010101, expected: (39571246372522, false)}, // lhs = -70711938125441 rhs = -110283184497963
        TestCaseTwoArgsTwoExpected{lhs: 0b100100100111101000010001011000010100111111010110, rhs: 0b111011110110110010010101001111011001000101011001, expected: (179278312619645, false)}, // lhs = -120422001455146 rhs = -18225337364135
        TestCaseTwoArgsTwoExpected{lhs: 10777532110215, rhs: 0b110111000100011100100011010000001101000100101111, expected: (50054416581720, false)}, // rhs = -39276884471505
        TestCaseTwoArgsTwoExpected{lhs: 124993607034707, rhs: 0b101010001011110001100001010111001000100110110101, expected: (220941542972830, true)}, // rhs = -95947935938123
        TestCaseTwoArgsTwoExpected{lhs: 14584473915498, rhs: 101549717150063, expected: (194509733476091, false)},
        TestCaseTwoArgsTwoExpected{lhs: 134661931204224, rhs: 130131581438218, expected: (4530349766006, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100111000011110101011011011010100101111110011101, rhs: 0b111000001001010110101001000110110111100110111111, expected: (206328925447646, false)}, // lhs = -109687636074595 rhs = -34541584811585
        TestCaseTwoArgsTwoExpected{lhs: 25106922961396, rhs: 104616503121582, expected: (201965396550470, false)},
        TestCaseTwoArgsTwoExpected{lhs: 112545402546862, rhs: 0b110100100001101010111100000000111101100111101010, expected: (163008113905860, true)}, // rhs = -50462711358998
        TestCaseTwoArgsTwoExpected{lhs: 39993383392247, rhs: 9422567442803, expected: (30570815949444, false)},
        TestCaseTwoArgsTwoExpected{lhs: 122446994429905, rhs: 82722150828157, expected: (39724843601748, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111000111111000100011011000010110110110010011001, rhs: 133638707841261, expected: (116985972515756, true)}, // lhs = -30850296353639
        TestCaseTwoArgsTwoExpected{lhs: 0b100111011101100011111110011101110100010001001101, rhs: 0b110001101101100100001001101100001001000111000010, expected: (236394811667083, false)}, // lhs = -107919668984755 rhs = -62839503941182
        TestCaseTwoArgsTwoExpected{lhs: 0b101000000100101100111110100101111110001100111011, rhs: 5891972124589, expected: (170353061008270, false)}, // lhs = -105229943577797
        TestCaseTwoArgsTwoExpected{lhs: 0b100010001010111100011111100010101110110010111100, rhs: 0b101001110100001111100010010000000001010010011110, expected: (247850706065438, false)}, // lhs = -131189246858052 rhs = -97564976212834
        TestCaseTwoArgsTwoExpected{lhs: 0b101111111101110100101001011100111001111000111011, rhs: 5541196772186, expected: (205415407348449, false)}, // lhs = -70518372590021
        TestCaseTwoArgsTwoExpected{lhs: 32817992975461, rhs: 0b110100011101101000101111010110001110000101000101, expected: (83557942256416, false)}, // rhs = -50739949280955
        TestCaseTwoArgsTwoExpected{lhs: 87371563004171, rhs: 0b100110010111110001100001111011100110011111101011, expected: (200087041706272, true)}, // rhs = -112715478702101
        TestCaseTwoArgsTwoExpected{lhs: 51507731532907, rhs: 14888754441858, expected: (36618977091049, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111010100110001110110010101111111010101001011101, rhs: 22724678419999, expected: (234989243147326, false)}, // lhs = -23761055143331
        TestCaseTwoArgsTwoExpected{lhs: 0b100100010101010001110110100100011001100001001101, rhs: 0b111000011101111001011111001001011000001100100110, expected: (192921733960999, false)}, // lhs = -121683024177075 rhs = -33129781427418
        TestCaseTwoArgsTwoExpected{lhs: 0b110010110010100000101110110110110111011111000011, rhs: 0b100101001011010011000001001110100110011011010100, expected: (59869388411119, false)}, // lhs = -58101531445309 rhs = -117970919856428
        TestCaseTwoArgsTwoExpected{lhs: 0b111110001110011000110100100111100010010100111000, rhs: 0b101110010111101100110000110011010101011100111110, expected: (69728858066426, false)}, // lhs = -7807367764680 rhs = -77536225831106
        TestCaseTwoArgsTwoExpected{lhs: 61496971302445, rhs: 31944495685635, expected: (29552475616810, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111000101011100101010001000100000101011110001111, rhs: 128621315590846, expected: (120664241261777, true)}, // lhs = -32189419858033
        TestCaseTwoArgsTwoExpected{lhs: 108283995639499, rhs: 0b100101111101101010010100001011100110100011111110, expected: (222793927615949, true)}, // rhs = -114509931976450
        TestCaseTwoArgsTwoExpected{lhs: 122160906889755, rhs: 115993926449616, expected: (6166980440139, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100100000000100001011111111111011001110111110101, rhs: 0b111110001111101101110110010111111010000000000100, expected: (166081714847217, false)}, // lhs = -123109332115979 rhs = -7716070252540
        TestCaseTwoArgsTwoExpected{lhs: 56626853998463, rhs: 126038570164038, expected: (212063260545081, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100111000010001001010101111001000010011000010110, rhs: 72942863488982, expected: (98728420347456, true)}, // lhs = -109803692874218
        TestCaseTwoArgsTwoExpected{lhs: 134885408415775, rhs: 66143826387137, expected: (68741582028638, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100001000011111001010011001001111010011010010010, rhs: 0b111101000011100101001110001110001001101110100001, expected: (158351232010993, false)}, // lhs = -136071758764398 rhs = -12948014064735
        TestCaseTwoArgsTwoExpected{lhs: 0b110000110101110101001111010110001101011010010101, rhs: 0b110011111010101010000001000111001100100100100110, expected: (267949289770351, false)}, // lhs = -66669446113643 rhs = -53143759173338
        TestCaseTwoArgsTwoExpected{lhs: 0b111000001010101011111101010100110000110011010101, rhs: 10600559180952, expected: (236424439959613, false)}, // lhs = -34449977570091
        TestCaseTwoArgsTwoExpected{lhs: 0b100110110101000010010110101010001001110010011100, rhs: 77653249308304, expected: (93117178013196, true)}, // lhs = -110704549389156
        TestCaseTwoArgsTwoExpected{lhs: 0b111010111010110000001111010100010110110101011011, rhs: 87867398719616, expected: (171256825177307, false)}, // lhs = -22350752813733
        TestCaseTwoArgsTwoExpected{lhs: 87096194784828, rhs: 17271456728800, expected: (69824738056028, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000010111101011110110101100111111101101110, rhs: 0b100111111101010001010010000000110100110100111111, expected: (246681661813295, false)}, // lhs = -140534033776786 rhs = -105740718879425

        // Edge cases
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 0b100000000000000000000000000000000000000000000000, expected: (281474976710655, true)}, // rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0, expected: (140737488355328, false)}, // lhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 140737488355327, expected: (1, true)}, // lhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0b100000000000000000000000000000000000000000000000, expected: (0, false)}, // lhs = -140737488355328 rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 140737488355327, expected: (140737488355329, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0b100000000000000000000000000000000000000000000000, expected: (140737488355328, true)}, // rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 0, expected: (140737488355327, false)},
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 140737488355327, expected: (0, false)},
    ];

    #[test]
    fn test_i48() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(
                __llvm_ssub_with_overflow_k_k_Skcs(ref state, *case.lhs, *case.rhs), *case.expected,
            );
        }
    }
}
