use crate::rtstate::RTState;
use crate::alu::umin::umin;

pub fn __llvm_umin_i_i_i(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    umin::<u32>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_umin_i_i_i;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 124] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 4181286121, rhs: 4042824164, expected: 4042824164},
        TestCaseTwoArgs{lhs: 1811549486, rhs: 1624580618, expected: 1624580618},
        TestCaseTwoArgs{lhs: 3821205065, rhs: 2196332548, expected: 2196332548},
        TestCaseTwoArgs{lhs: 1580013976, rhs: 2540854175, expected: 1580013976},
        TestCaseTwoArgs{lhs: 2068641121, rhs: 3033666674, expected: 2068641121},
        TestCaseTwoArgs{lhs: 1239879790, rhs: 2875308678, expected: 1239879790},
        TestCaseTwoArgs{lhs: 4286712588, rhs: 3014237142, expected: 3014237142},
        TestCaseTwoArgs{lhs: 2938130309, rhs: 2527154697, expected: 2527154697},
        TestCaseTwoArgs{lhs: 2209612558, rhs: 768704819, expected: 768704819},
        TestCaseTwoArgs{lhs: 2617700385, rhs: 2728978823, expected: 2617700385},
        TestCaseTwoArgs{lhs: 1645336518, rhs: 1422440503, expected: 1422440503},
        TestCaseTwoArgs{lhs: 732024425, rhs: 772422509, expected: 732024425},
        TestCaseTwoArgs{lhs: 2359452620, rhs: 1267389019, expected: 1267389019},
        TestCaseTwoArgs{lhs: 3531457377, rhs: 2888495294, expected: 2888495294},
        TestCaseTwoArgs{lhs: 136939898, rhs: 3705689157, expected: 136939898},
        TestCaseTwoArgs{lhs: 1009797028, rhs: 261738053, expected: 261738053},
        TestCaseTwoArgs{lhs: 29239656, rhs: 1931168861, expected: 29239656},
        TestCaseTwoArgs{lhs: 4257059809, rhs: 876593666, expected: 876593666},
        TestCaseTwoArgs{lhs: 798266096, rhs: 2601652742, expected: 798266096},
        TestCaseTwoArgs{lhs: 237442351, rhs: 2247417483, expected: 237442351},
        TestCaseTwoArgs{lhs: 3997824858, rhs: 746633788, expected: 746633788},
        TestCaseTwoArgs{lhs: 3918712199, rhs: 3268155785, expected: 3268155785},
        TestCaseTwoArgs{lhs: 675275141, rhs: 3770675436, expected: 675275141},
        TestCaseTwoArgs{lhs: 3368305604, rhs: 1797758066, expected: 1797758066},
        TestCaseTwoArgs{lhs: 574650723, rhs: 3150269618, expected: 574650723},
        TestCaseTwoArgs{lhs: 3769225182, rhs: 1652273123, expected: 1652273123},
        TestCaseTwoArgs{lhs: 304711164, rhs: 174628179, expected: 174628179},
        TestCaseTwoArgs{lhs: 2782480978, rhs: 489592494, expected: 489592494},
        TestCaseTwoArgs{lhs: 216483145, rhs: 2853476940, expected: 216483145},
        TestCaseTwoArgs{lhs: 438485193, rhs: 4222197694, expected: 438485193},
        TestCaseTwoArgs{lhs: 1325407624, rhs: 1552261263, expected: 1325407624},
        TestCaseTwoArgs{lhs: 409327426, rhs: 2443163895, expected: 409327426},
        TestCaseTwoArgs{lhs: 3201004639, rhs: 803300093, expected: 803300093},
        TestCaseTwoArgs{lhs: 166203586, rhs: 41461186, expected: 41461186},
        TestCaseTwoArgs{lhs: 3268111222, rhs: 306395386, expected: 306395386},
        TestCaseTwoArgs{lhs: 2484470674, rhs: 3410407160, expected: 2484470674},
        TestCaseTwoArgs{lhs: 3179649673, rhs: 1823060817, expected: 1823060817},
        TestCaseTwoArgs{lhs: 2303270151, rhs: 2985634626, expected: 2303270151},
        TestCaseTwoArgs{lhs: 3912122321, rhs: 2577337857, expected: 2577337857},
        TestCaseTwoArgs{lhs: 1461524075, rhs: 75530436, expected: 75530436},
        TestCaseTwoArgs{lhs: 967015174, rhs: 4244576382, expected: 967015174},
        TestCaseTwoArgs{lhs: 1805261861, rhs: 4155191582, expected: 1805261861},
        TestCaseTwoArgs{lhs: 1627415036, rhs: 3834559307, expected: 1627415036},
        TestCaseTwoArgs{lhs: 3493778576, rhs: 4264128796, expected: 3493778576},
        TestCaseTwoArgs{lhs: 2865727024, rhs: 1859960692, expected: 1859960692},
        TestCaseTwoArgs{lhs: 3966900117, rhs: 1145498857, expected: 1145498857},
        TestCaseTwoArgs{lhs: 635784770, rhs: 79674022, expected: 79674022},
        TestCaseTwoArgs{lhs: 1952894010, rhs: 2944671182, expected: 1952894010},
        TestCaseTwoArgs{lhs: 2740228370, rhs: 2205098367, expected: 2205098367},
        TestCaseTwoArgs{lhs: 2914092727, rhs: 1771301996, expected: 1771301996},
        TestCaseTwoArgs{lhs: 1777877714, rhs: 3713337629, expected: 1777877714},
        TestCaseTwoArgs{lhs: 1167776644, rhs: 1309054889, expected: 1167776644},
        TestCaseTwoArgs{lhs: 2816866665, rhs: 3736452396, expected: 2816866665},
        TestCaseTwoArgs{lhs: 1692071180, rhs: 3714158924, expected: 1692071180},
        TestCaseTwoArgs{lhs: 700664506, rhs: 51235330, expected: 51235330},
        TestCaseTwoArgs{lhs: 682908860, rhs: 813425212, expected: 682908860},
        TestCaseTwoArgs{lhs: 1698619029, rhs: 3337581203, expected: 1698619029},
        TestCaseTwoArgs{lhs: 1812486175, rhs: 2690001335, expected: 1812486175},
        TestCaseTwoArgs{lhs: 686578537, rhs: 207267902, expected: 207267902},
        TestCaseTwoArgs{lhs: 3565073348, rhs: 4152509782, expected: 3565073348},
        TestCaseTwoArgs{lhs: 2258000491, rhs: 466050524, expected: 466050524},
        TestCaseTwoArgs{lhs: 1713164917, rhs: 3258150977, expected: 1713164917},
        TestCaseTwoArgs{lhs: 2662089677, rhs: 1155372233, expected: 1155372233},
        TestCaseTwoArgs{lhs: 3841822633, rhs: 1779901641, expected: 1779901641},
        TestCaseTwoArgs{lhs: 1633232364, rhs: 2734347474, expected: 1633232364},
        TestCaseTwoArgs{lhs: 2084627963, rhs: 749845436, expected: 749845436},
        TestCaseTwoArgs{lhs: 1892504032, rhs: 1168622977, expected: 1168622977},
        TestCaseTwoArgs{lhs: 1108181764, rhs: 1204838242, expected: 1108181764},
        TestCaseTwoArgs{lhs: 3949097625, rhs: 3466063132, expected: 3466063132},
        TestCaseTwoArgs{lhs: 2250909503, rhs: 2475155717, expected: 2250909503},
        TestCaseTwoArgs{lhs: 1144381455, rhs: 2440687744, expected: 1144381455},
        TestCaseTwoArgs{lhs: 1406577398, rhs: 2669410315, expected: 1406577398},
        TestCaseTwoArgs{lhs: 3188285772, rhs: 820623714, expected: 820623714},
        TestCaseTwoArgs{lhs: 2854524820, rhs: 2754246833, expected: 2754246833},
        TestCaseTwoArgs{lhs: 1072374025, rhs: 258353001, expected: 258353001},
        TestCaseTwoArgs{lhs: 3188406902, rhs: 2996654443, expected: 2996654443},
        TestCaseTwoArgs{lhs: 1656467546, rhs: 2791879600, expected: 1656467546},
        TestCaseTwoArgs{lhs: 1998692758, rhs: 3741366753, expected: 1998692758},
        TestCaseTwoArgs{lhs: 2086393489, rhs: 1797257843, expected: 1797257843},
        TestCaseTwoArgs{lhs: 2354850415, rhs: 3163379349, expected: 2354850415},
        TestCaseTwoArgs{lhs: 1618230168, rhs: 577300841, expected: 577300841},
        TestCaseTwoArgs{lhs: 4118576868, rhs: 2852863461, expected: 2852863461},
        TestCaseTwoArgs{lhs: 352666456, rhs: 1874071138, expected: 352666456},
        TestCaseTwoArgs{lhs: 3294021214, rhs: 3490297912, expected: 3294021214},
        TestCaseTwoArgs{lhs: 3198917065, rhs: 557430511, expected: 557430511},
        TestCaseTwoArgs{lhs: 3134499567, rhs: 3068549910, expected: 3068549910},
        TestCaseTwoArgs{lhs: 1628402041, rhs: 4098413938, expected: 1628402041},
        TestCaseTwoArgs{lhs: 3925929828, rhs: 2175344980, expected: 2175344980},
        TestCaseTwoArgs{lhs: 3190805937, rhs: 3345122795, expected: 3190805937},
        TestCaseTwoArgs{lhs: 2711215812, rhs: 3029363806, expected: 2711215812},
        TestCaseTwoArgs{lhs: 2737756110, rhs: 1038194710, expected: 1038194710},
        TestCaseTwoArgs{lhs: 2134363341, rhs: 3811727256, expected: 2134363341},
        TestCaseTwoArgs{lhs: 411803889, rhs: 1438540802, expected: 411803889},
        TestCaseTwoArgs{lhs: 9748744, rhs: 1164895021, expected: 9748744},
        TestCaseTwoArgs{lhs: 2683655213, rhs: 802648070, expected: 802648070},
        TestCaseTwoArgs{lhs: 1497335475, rhs: 3524075759, expected: 1497335475},
        TestCaseTwoArgs{lhs: 4266337401, rhs: 2624945451, expected: 2624945451},
        TestCaseTwoArgs{lhs: 2344323498, rhs: 3243165938, expected: 2344323498},
        TestCaseTwoArgs{lhs: 2519855340, rhs: 4284782838, expected: 2519855340},
        TestCaseTwoArgs{lhs: 3142260651, rhs: 1426685422, expected: 1426685422},
        TestCaseTwoArgs{lhs: 3626079059, rhs: 279628196, expected: 279628196},
        TestCaseTwoArgs{lhs: 44099871, rhs: 636306953, expected: 44099871},
        TestCaseTwoArgs{lhs: 190724091, rhs: 14374582, expected: 14374582},
        TestCaseTwoArgs{lhs: 2922316722, rhs: 3786935103, expected: 2922316722},
        TestCaseTwoArgs{lhs: 2807635452, rhs: 3183618424, expected: 2807635452},
        TestCaseTwoArgs{lhs: 1738707778, rhs: 235414184, expected: 235414184},
        TestCaseTwoArgs{lhs: 3435108876, rhs: 2901116307, expected: 2901116307},
        TestCaseTwoArgs{lhs: 2349336659, rhs: 2113622556, expected: 2113622556},
        TestCaseTwoArgs{lhs: 3685156722, rhs: 3488173215, expected: 3488173215},
        TestCaseTwoArgs{lhs: 428127095, rhs: 1119777792, expected: 428127095},
        TestCaseTwoArgs{lhs: 988194414, rhs: 1324607437, expected: 988194414},
        TestCaseTwoArgs{lhs: 1174931618, rhs: 3013660731, expected: 1174931618},
        TestCaseTwoArgs{lhs: 2843346099, rhs: 14984918, expected: 14984918},
        TestCaseTwoArgs{lhs: 1434399126, rhs: 1217257150, expected: 1217257150},
        TestCaseTwoArgs{lhs: 1154957290, rhs: 3654889681, expected: 1154957290},
        TestCaseTwoArgs{lhs: 555698703, rhs: 938513217, expected: 555698703},
        TestCaseTwoArgs{lhs: 2762274652, rhs: 2903421766, expected: 2762274652},
        TestCaseTwoArgs{lhs: 536042927, rhs: 3260965834, expected: 536042927},
        TestCaseTwoArgs{lhs: 458637971, rhs: 297965144, expected: 297965144},
        TestCaseTwoArgs{lhs: 3184710760, rhs: 537314773, expected: 537314773},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 4294967295, expected: 0},
        TestCaseTwoArgs{lhs: 4294967295, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 4294967295, rhs: 4294967295, expected: 4294967295},
    ];
    #[test]
    fn test_i32() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_umin_i_i_i(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
