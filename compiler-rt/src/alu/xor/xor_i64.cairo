use crate::alu::xor::xor;

pub fn __llvm__xor_i64_i64(lhs: u128, rhs: u128) -> u128 {
    xor::<u64>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm__xor_i64_i64;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 43] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 0b0100110101111001001101011000101111010110110000101000101001111100, rhs: 0b0110110101011000110000011100111101111010110101100100110101000011, expected: 0b0010000000100001111101000100010010101100000101001100011100111111},
        TestCaseTwoArgs{lhs: 0b0101110001010011000000100011011010101111010111001011110111101110, rhs: 0b0111001100100010101001101101000000001111110010110001100111001110, expected: 0b0010111101110001101001001110011010100000100101111010010000100000},
        TestCaseTwoArgs{lhs: 0b0111001110110100111010110000111110011011001100110000001101000001, rhs: 0b0111101011011111010000010000101011101100110100110011100100100011, expected: 0b0000100101101011101010100000010101110111111000000011101001100010},
        TestCaseTwoArgs{lhs: 0b0100010010110011110000100101011110101100111110011010101001011100, rhs: 0b0010100011100110100011000000110000100000001111101100001101101101, expected: 0b0110110001010101010011100101101110001100110001110110100100110001},
        TestCaseTwoArgs{lhs: 0b0111000011011111000110111110011100010000110101001100110110001001, rhs: 0b0110011111101000001000000010111000000000011110110001000100010111, expected: 0b0001011100110111001110111100100100010000101011111101110010011110},
        TestCaseTwoArgs{lhs: 0b0111000010111001000010101101000111010000001101000001110111100110, rhs: 0b0001101000010111000110100101010010000011100101111011010010010111, expected: 0b0110101010101110000100001000010101010011101000111010100101110001},
        TestCaseTwoArgs{lhs: 0b0011110010111111101010001000000000010100110110100111110111110101, rhs: 0b0010111000001111101111000001110011100000011111001000011010100100, expected: 0b0001001010110000000101001001110011110100101001101111101101010001},
        TestCaseTwoArgs{lhs: 0b0101111111001001011010101110101000001000011010011111010011111101, rhs: 0b0000010001001010001001101100110001000011110100010000001000001111, expected: 0b0101101110000011010011000010011001001011101110001111011011110010},
        TestCaseTwoArgs{lhs: 0b0110001110001001110100101111110000110001000010111111101110101111, rhs: 0b0010011001110010011000101010101001011110010110010111111010111101, expected: 0b0100010111111011101100000101011001101111010100101000010100010010},
        TestCaseTwoArgs{lhs: 0b0000000010010000000000011010011010100110011010101110001111100111, rhs: 0b0010011111101111001111110100100001111001111101011010111010001000, expected: 0b0010011101111111001111101110111011011111100111110100110101101111},
        TestCaseTwoArgs{lhs: 0b1110101100101011110111110101001011001001010001100110100101010011, rhs: 0b0100011111010011101000010100110111010000010101010100110000011111, expected: 0b1010110011111000011111100001111100011001000100110010010101001100},
        TestCaseTwoArgs{lhs: 0b1011000011110010000111101110101001001010111001101100111101001000, rhs: 0b0111110100000001000001011000100100000111001100001001000011100110, expected: 0b1100110111110011000110110110001101001101110101100101111110101110},
        TestCaseTwoArgs{lhs: 0b1100011001011001001110011011011001111101000000101110100000000000, rhs: 0b0000000110000101110001110110011101001000111110011110101100001110, expected: 0b1100011111011100111111101101000100110101111110110000001100001110},
        TestCaseTwoArgs{lhs: 0b1100001001001110100100001100011111101011000100101111010100100100, rhs: 0b0001011111001011100011001101110110000000000011010000011111101110, expected: 0b1101010110000101000111000001101001101011000111111111001011001010},
        TestCaseTwoArgs{lhs: 0b1010100101100011110100100011001011101011111000101000010010001111, rhs: 0b0001100100111011011010100011010010001011011011010010010100101011, expected: 0b1011000001011000101110000000011001100000100011111010000110100100},
        TestCaseTwoArgs{lhs: 0b1111001010100110001110101010010100111101011100110111100100000100, rhs: 0b0001101010100101101111001110110011011110110111111111001110010010, expected: 0b1110100000000011100001100100100111100011101011001000101010010110},
        TestCaseTwoArgs{lhs: 0b1111110001101100101101101100001010000000011101101101001100100010, rhs: 0b0110100101000011001001111000000000100000110101001100101101101111, expected: 0b1001010100101111100100010100001010100000101000100001100001001101},
        TestCaseTwoArgs{lhs: 0b1110001111001010101110010100011110101011111101010000100000010001, rhs: 0b0111010111100101101110100101111010101101011011011100111001111010, expected: 0b1001011000101111000000110001100100000110100110001100011001101011},
        TestCaseTwoArgs{lhs: 0b1111010001101111101001100000101110101010010110011000001101011011, rhs: 0b0000100101101100111011011101111010111010100100100110101100111001, expected: 0b1111110100000011010010111101010100010000110010111110100001100010},
        TestCaseTwoArgs{lhs: 0b1110001010001111010000011101001000010011101111001010000111100100, rhs: 0b0110100101101110010100111001110101000001011100110000111001011100, expected: 0b1000101111100001000100100100111101010010110011111010111110111000},
        TestCaseTwoArgs{lhs: 0b0101100100111111100010110001100111100101000000111100111110101111, rhs: 0b1000111111100101111110111000100111011100101010001100100001111110, expected: 0b1101011011011010011100001001000000111001101010110000011111010001},
        TestCaseTwoArgs{lhs: 0b0010100010010101010000101110110111001000010010011101001010001101, rhs: 0b1011101101000001111011100011010101100101110011001010010111101111, expected: 0b1001001111010100101011001101100010101101100001010111011101100010},
        TestCaseTwoArgs{lhs: 0b0000000111111111000000001101111000101001100111101100100111111111, rhs: 0b1111000110011001100011011100011010111101000001000010011100100110, expected: 0b1111000001100110100011010001100010010100100110101110111011011001},
        TestCaseTwoArgs{lhs: 0b0011000101001100110011001000110110011110010000111101011101100000, rhs: 0b1110110011001100001100111011110001111000010011000100010101101001, expected: 0b1101110110000000111111110011000111100110000011111001001000001001},
        TestCaseTwoArgs{lhs: 0b0011110011111000100011010111110000010011110001010100110010100110, rhs: 0b1110111011110010001111000001011111111010001000001111000001111111, expected: 0b1101001000001010101100010110101111101001111001011011110011011001},
        TestCaseTwoArgs{lhs: 0b0110001001111100010101110100101101001010001001111111101011101111, rhs: 0b1010111011101010111001110000010110101101000100101110100111111010, expected: 0b1100110010010110101100000100111011100111001101010001001100010101},
        TestCaseTwoArgs{lhs: 0b0000100010101001100001111100110001101110111100010010100010000011, rhs: 0b1010110010111100011100100000011101100111011010110011111100011100, expected: 0b1010010000010101111101011100101100001001100110100001011110011111},
        TestCaseTwoArgs{lhs: 0b0110001011011010110111100100101101110110111100101100000100001010, rhs: 0b1001010100001001001100011110101011101111100011111101101001011010, expected: 0b1111011111010011111011111010000110011001011111010001101101010000},
        TestCaseTwoArgs{lhs: 0b0000000001011111110001011010011011001001001011010101001001100000, rhs: 0b1111111010010100110011001101000111110011010110001011001000111010, expected: 0b1111111011001011000010010111011100111010011101011110000001011010},
        TestCaseTwoArgs{lhs: 0b0100001100011101101011110010101011101100111100101010101101011110, rhs: 0b1010111110110100100101110011011110111001000011101101011001001110, expected: 0b1110110010101001001110000001110101010101111111000111110100010000},
        TestCaseTwoArgs{lhs: 0b1000101011001111010111001001100100101101000001011100000110000100, rhs: 0b1100111111101001111110100001001010111000000100000010100101101011, expected: 0b0100010100100110101001101000101110010101000101011110100011101111},
        TestCaseTwoArgs{lhs: 0b1110111111001110101111110000111000111000111010101010101101011011, rhs: 0b1101011111000000111100100001100101110000001111000011011100001000, expected: 0b0011100000001110010011010001011101001000110101101001110001010011},
        TestCaseTwoArgs{lhs: 0b1010111001100010101110011011111100110001100001100000011011001100, rhs: 0b1010010110001100110001111000111111010110001001110100100001010010, expected: 0b0000101111101110011111100011000011100111101000010100111010011110},
        TestCaseTwoArgs{lhs: 0b1011001001011011110101000111010111100010111011111111001111110101, rhs: 0b1101100011111001110001000101111010110001011111000111101101110010, expected: 0b0110101010100010000100000010101101010011100100111000100010000111},
        TestCaseTwoArgs{lhs: 0b1111111000101011001011101101110000011011010000100100111011000001, rhs: 0b1110100000001101100110100001000010111111000011010110111000011111, expected: 0b0001011000100110101101001100110010100100010011110010000011011110},
        TestCaseTwoArgs{lhs: 0b1110011011001100111101101011100010001010001101110010111111011101, rhs: 0b1111001001100000011001110101100100101110111010011101001110010110, expected: 0b0001010010101100100100011110000110100100110111101111110001001011},
        TestCaseTwoArgs{lhs: 0b1101010100001101011011001011001010111011111011100101101011010110, rhs: 0b1110010010111110011101111110001110110011000111100000000011011011, expected: 0b0011000110110011000110110101000100001000111100000101101000001101},
        TestCaseTwoArgs{lhs: 0b1010100010110101011101111011010101011111011101000001100010011001, rhs: 0b1000101111001100110101011001010010011011000100010111101100101001, expected: 0b0010001101111001101000100010000111000100011001010110001110110000},
        TestCaseTwoArgs{lhs: 0b1111100011001000011101011110000100000111011111100111000010010010, rhs: 0b1001001001101000001000001101110001100001100110000000110001010101, expected: 0b0110101010100000010101010011110101100110111001100111110011000111},
        TestCaseTwoArgs{lhs: 0b1110100110100001101011100101000110110111100101001100001101010110, rhs: 0b1101001010101110100000101101010001100100101111101001010010100011, expected: 0b0011101100001111001011001000010111010011001010100101011111110101},

        // Edge cases
        TestCaseTwoArgs{lhs: 0b1111111111111111111111111111111111111111111111111111111111111111, rhs: 0b1111111111111111111111111111111111111111111111111111111111111111, expected: 0b0000000000000000000000000000000000000000000000000000000000000000}, // Edge case: max & max (all bits set)
        TestCaseTwoArgs{lhs: 0b0000000000000000000000000000000000000000000000000000000000000000, rhs: 0b0000000000000000000000000000000000000000000000000000000000000000, expected: 0b0000000000000000000000000000000000000000000000000000000000000000}, // Edge case: min & min (no bits set)
        TestCaseTwoArgs{lhs: 0b1111111111111111111111111111111111111111111111111111111111111111, rhs: 0b0000000000000000000000000000000000000000000000000000000000000000, expected: 0b1111111111111111111111111111111111111111111111111111111111111111}, // Edge case: max & min (all bits vs no bits)
    ];

    #[test]
    fn test_i64() {
        for case in test_cases
            .span() {
                assert_eq!(__llvm__xor_i64_i64(*case.lhs, *case.rhs), *case.expected);
            }
    }
}
