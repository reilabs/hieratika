use crate::alu::smul_with_overflow::smul_with_overflow;
use crate::integer::u40::u40;

pub fn __llvm_smul_with_overflow_n_n_Sncs(lhs: u128, rhs: u128) -> (u128, bool) {
    smul_with_overflow::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_smul_with_overflow_n_n_Sncs;
    use crate::alu::test_case::TestCaseTwoArgsTwoExpected;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgsTwoExpected; 209] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgsTwoExpected{lhs: 0b1010011010110000011011010111001001100111, rhs: 0b1011110110001000101011011110111001010111, expected: (497094796033, true)}, // lhs = -383587093913 rhs = -285469708713
        TestCaseTwoArgsTwoExpected{lhs: 0b1011111100010110011010100010111001100100, rhs: 0b1010010110011010000000010110010001111000, expected: (113049652960, true)}, // lhs = -278796816796 rhs = -388258241416
        TestCaseTwoArgsTwoExpected{lhs: 232690455238, rhs: 0b1000011000011110011001001110001101111101, expected: (849404968110, true)}, // rhs = -523476081795
        TestCaseTwoArgsTwoExpected{lhs: 191967818637, rhs: 510282197801, expected: (428605075605, true)},
        TestCaseTwoArgsTwoExpected{lhs: 169319265924, rhs: 488769424683, expected: (897030954028, true)},
        TestCaseTwoArgsTwoExpected{lhs: 203102234169, rhs: 19315084159, expected: (819796650311, true)},
        TestCaseTwoArgsTwoExpected{lhs: 404858690398, rhs: 0b1010100100110000110000101010010111111000, expected: (1008693418256, true)}, // rhs = -372844091912
        TestCaseTwoArgsTwoExpected{lhs: 339928063886, rhs: 85432842091, expected: (729883161178, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110011000110001110101010110100010110, rhs: 446948749202, expected: (834944942220, true)}, // lhs = -288732041962
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011010010000011011011001110000100110, rhs: 0b1010111011110100100100011011111001111001, expected: (589605437942, true)}, // lhs = -521562907610 rhs = -348084126087
        TestCaseTwoArgsTwoExpected{lhs: 0b1111011001100010000100011100111111110100, rhs: 0b1011010110100101111100110100100110100110, expected: (203280444472, true)}, // lhs = -41304338444 rhs = -319338362458
        TestCaseTwoArgsTwoExpected{lhs: 338158122151, rhs: 192268935065, expected: (493316337871, true)},
        TestCaseTwoArgsTwoExpected{lhs: 232346509512, rhs: 86188660552, expected: (774546468928, true)},
        TestCaseTwoArgsTwoExpected{lhs: 480205415573, rhs: 394477531953, expected: (815836426117, true)},
        TestCaseTwoArgsTwoExpected{lhs: 7367226201, rhs: 0b1111110010000101000001001111001101101000, expected: (42143602472, true)}, // rhs = -14948175000
        TestCaseTwoArgsTwoExpected{lhs: 66509881803, rhs: 0b1111010000110111101111111101111000001100, expected: (32884793220, true)}, // rhs = -50604286452
        TestCaseTwoArgsTwoExpected{lhs: 456172626128, rhs: 247298983963, expected: (535866979824, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001011000101010110010101100001000100110, rhs: 267169396191, expected: (565051424026, true)}, // lhs = -454548602330
        TestCaseTwoArgsTwoExpected{lhs: 499965666481, rhs: 0b1010011010110110101110000001001101101100, expected: (530180906412, true)}, // rhs = -383481539732
        TestCaseTwoArgsTwoExpected{lhs: 0b1000010001001110001111001010100111110001, rhs: 0b1100010101000110000010010011111100100110, expected: (1045460453574, true)}, // lhs = -531263346191 rhs = -252228059354
        TestCaseTwoArgsTwoExpected{lhs: 0b1101101100011111000110110001011110011101, rhs: 0b1001000001110011101001010111101101000011, expected: (742620437783, true)}, // lhs = -158391920739 rhs = -479096112317
        TestCaseTwoArgsTwoExpected{lhs: 300799909093, rhs: 269817170654, expected: (601499746454, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111011011101111101001111100010001111101, rhs: 0b1110000011000100010110010010100001101010, expected: (912506479554, true)}, // lhs = -38928923523 rhs = -134144776086
        TestCaseTwoArgsTwoExpected{lhs: 317548948343, rhs: 0b1110011001101100000011000000111101010110, expected: (904285393658, true)}, // rhs = -109856420010
        TestCaseTwoArgsTwoExpected{lhs: 0b1001001110000010001001001111000110001001, rhs: 353515030304, expected: (3495309344, true)}, // lhs = -465967976055
        TestCaseTwoArgsTwoExpected{lhs: 0b1100101101100110001111001111101111010110, rhs: 0b1111011110111000110010101000011010111110, expected: (87307644116, true)}, // lhs = -225917994026 rhs = -35554425154
        TestCaseTwoArgsTwoExpected{lhs: 0b1001100100111011110100011011100001011110, rhs: 0b1111111100110001110110100001100001101011, expected: (183206993738, true)}, // lhs = -441378031522 rhs = -3458590613
        TestCaseTwoArgsTwoExpected{lhs: 0b1111110111000010101111010001011011000000, rhs: 0b1110110101000001000000010100001101100110, expected: (373310574720, true)}, // lhs = -9617729856 rhs = -80513776794
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000100010000001011011011101000001000, rhs: 218565712039, expected: (574510930744, true)}, // lhs = -545189414392
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101110101001000011101100010101111100, rhs: 0b1110000111101010110011010100010011000110, expected: (275585543656, true)}, // lhs = -499674856068 rhs = -129204665146
        TestCaseTwoArgsTwoExpected{lhs: 132525307644, rhs: 479423408568, expected: (5153218848, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001100010000001100101000001100100011010, rhs: 0b1111010001110100101001110101010000110101, expected: (943078488674, true)}, // lhs = -444502632166 rhs = -49582484427
        TestCaseTwoArgsTwoExpected{lhs: 0b1010101001000001001101000100111010000011, rhs: 242623172394, expected: (1058507443838, true)}, // lhs = -368273240445
        TestCaseTwoArgsTwoExpected{lhs: 0b1001111101010110101111110111001000000101, rhs: 0b1110110011010100101010111000011110110001, expected: (907258722421, true)}, // lhs = -415156440571 rhs = -82331334735
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010010100100010101111101011100010110, rhs: 0b1010111011101111101111010011101100111101, expected: (991009067582, true)}, // lhs = -461099247850 rhs = -348165162179
        TestCaseTwoArgsTwoExpected{lhs: 391471768777, rhs: 380626894411, expected: (876512130275, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111010000111110010010111000010010000100, rhs: 0b1010001111110010111110010111111100010100, expected: (828945978960, true)}, // lhs = -50494471036 rhs = -395355521260
        TestCaseTwoArgsTwoExpected{lhs: 0b1010111111011101110001111011110110000111, rhs: 0b1110110101101111001101001111001100001101, expected: (197106582747, true)}, // lhs = -344171496057 rhs = -79738637555
        TestCaseTwoArgsTwoExpected{lhs: 144687609493, rhs: 242256356359, expected: (10233672211, true)},
        TestCaseTwoArgsTwoExpected{lhs: 157828913113, rhs: 0b1011011111101100011010010010111101001110, expected: (815752092446, true)}, // rhs = -309566296242
        TestCaseTwoArgsTwoExpected{lhs: 0b1110010111100010000001010110001001000110, rhs: 0b1010000101010000101110100010010011010010, expected: (6192395628, true)}, // lhs = -112172113338 rhs = -406667516718
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111110000011111111011111110010110011, rhs: 218414826612, expected: (1000431324444, true)}, // lhs = -2080506701
        TestCaseTwoArgsTwoExpected{lhs: 76572873788, rhs: 0b1010011001010111100111101011101101101101, expected: (756725363084, true)}, // rhs = -385077036179
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101010000110010100000101110101101101, rhs: 0b1100111101110001011110010100011000110101, expected: (842043499921, true)}, // lhs = -504552727187 rhs = -208549624267
        TestCaseTwoArgsTwoExpected{lhs: 519519154948, rhs: 311293455847, expected: (192945372316, true)},
        TestCaseTwoArgsTwoExpected{lhs: 179577047862, rhs: 0b1011011110101001100110010000110000000010, expected: (123414060652, true)}, // rhs = -310687233022
        TestCaseTwoArgsTwoExpected{lhs: 0b1100011000000101101010101011100100000111, rhs: 0b1000111100011111000111110011101111111001, expected: (992616355023, true)}, // lhs = -249013028601 rhs = -484809163783
        TestCaseTwoArgsTwoExpected{lhs: 409071432546, rhs: 0b1000001101111111001011011001011010110001, expected: (803225957058, true)}, // rhs = -534737217871
        TestCaseTwoArgsTwoExpected{lhs: 460405710024, rhs: 486365998440, expected: (952544713024, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011000011010101001100010101001101101, rhs: 0b1000001010011100111100010000101101011011, expected: (493812237247, true)}, // lhs = -523538912659 rhs = -538532836517
        TestCaseTwoArgsTwoExpected{lhs: 385876584965, rhs: 0b1110011101111010010110101100111000010000, expected: (883616687696, true)}, // rhs = -105321411056
        TestCaseTwoArgsTwoExpected{lhs: 0b1000100111001010100000111000011010100101, rhs: 486414039713, expected: (461566775237, true)}, // lhs = -507703490907
        TestCaseTwoArgsTwoExpected{lhs: 132603579855, rhs: 0b1000010011011011100000110000011101001110, expected: (514789858834, true)}, // rhs = -528893147314
        TestCaseTwoArgsTwoExpected{lhs: 387762204841, rhs: 0b1000011001110001110011000010011000110110, expected: (708384938406, true)}, // rhs = -522076805578
        TestCaseTwoArgsTwoExpected{lhs: 347449948469, rhs: 489290841202, expected: (464596755866, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1101000000010100010010011010110001011010, rhs: 114615779599, expected: (936587129670, true)}, // lhs = -205818057638
        TestCaseTwoArgsTwoExpected{lhs: 215738948725, rhs: 533777329604, expected: (714651982484, true)},
        TestCaseTwoArgsTwoExpected{lhs: 532569731765, rhs: 40296234728, expected: (62155082248, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111001000110100011001011001100000100111, rhs: 422968692990, expected: (333385918130, true)}, // lhs = -59250468825
        TestCaseTwoArgsTwoExpected{lhs: 267575507045, rhs: 0b1111001110100000011001111010101111001111, expected: (317527560363, true)}, // rhs = -53143426097
        TestCaseTwoArgsTwoExpected{lhs: 0b1111000100100011010000110110101101011101, rhs: 203130406014, expected: (579884567494, true)}, // lhs = -63832888483
        TestCaseTwoArgsTwoExpected{lhs: 182375280762, rhs: 0b1100111101100011011100000011101110100100, expected: (535422446632, true)}, // rhs = -208785097820
        TestCaseTwoArgsTwoExpected{lhs: 124845526700, rhs: 476368090969, expected: (292575743436, true)},
        TestCaseTwoArgsTwoExpected{lhs: 212922777575, rhs: 170172507039, expected: (493268796793, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110011010111010101001001100011101011000, rhs: 378542614211, expected: (619420379144, true)}, // lhs = -108537788584
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110001011001011111011011010111001011, rhs: 0b1111011100001011011100010101010011100101, expected: (14037629591, true)}, // lhs = -290556365365 rhs = -38462728987
        TestCaseTwoArgsTwoExpected{lhs: 28426316113, rhs: 0b1010001101100011100000110100000110000110, expected: (903999402342, true)}, // rhs = -397762412154
        TestCaseTwoArgsTwoExpected{lhs: 256998835859, rhs: 0b1110000100011000010100000101111010110111, expected: (255679769877, true)}, // rhs = -132736065865
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111010110110011011010010001011001001, rhs: 0b1101011010100000111100111110111010001011, expected: (284145467683, true)}, // lhs = -5529328951 rhs = -177688285557
        TestCaseTwoArgsTwoExpected{lhs: 237364233084, rhs: 118485300561, expected: (1035946985020, true)},
        TestCaseTwoArgsTwoExpected{lhs: 328493542614, rhs: 0b1011001111001010101111001011111011110011, expected: (816118883106, true)}, // rhs = -327311114509
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111000110000111111100010110100001010, rhs: 0b1010101001111111011011101001011011100110, expected: (310362526460, true)}, // lhs = -7767970550 rhs = -367229233434
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101001101010000111100101111111111111, rhs: 19915591161, expected: (199839420935, true)}, // lhs = -298867335169
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010011011001000011011001010101010111, rhs: 0b1011010010001011110001000111111010100010, expected: (749970215694, true)}, // lhs = -460214921897 rhs = -324072603998
        TestCaseTwoArgsTwoExpected{lhs: 50428948619, rhs: 385281803147, expected: (594677120121, true)},
        TestCaseTwoArgsTwoExpected{lhs: 231425081474, rhs: 220068262508, expected: (680145558232, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111011011001100011000001001010000001101, rhs: 0b1101011001110010100001111100111101011111, expected: (626199655379, true)}, // lhs = -39520791539 rhs = -178467123361
        TestCaseTwoArgsTwoExpected{lhs: 153662697225, rhs: 0b1100110100011011000100111110011010110100, expected: (903147956308, true)}, // rhs = -218589043020
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101101011000001101000111100101111000, rhs: 0b1000011010011111001001100010111101011111, expected: (837209693064, true)}, // lhs = -294872909448 rhs = -521315930273
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100101100101000001000100110001011000, rhs: 0b1011011011010101111101100101110010010010, expected: (273744603696, true)}, // lhs = -303247897512 rhs = -314237887342
        TestCaseTwoArgsTwoExpected{lhs: 0b1100000110001010000100111111100100100001, rhs: 16475975860, expected: (1091415874356, true)}, // lhs = -268266374879
        TestCaseTwoArgsTwoExpected{lhs: 80263761574, rhs: 234032078313, expected: (396684157718, true)},
        TestCaseTwoArgsTwoExpected{lhs: 242613509331, rhs: 26182086438, expected: (955443889234, true)},
        TestCaseTwoArgsTwoExpected{lhs: 8580462095, rhs: 0b1101010000110101001010001111010111100111, expected: (595774136969, true)}, // rhs = -188086684185
        TestCaseTwoArgsTwoExpected{lhs: 321068949034, rhs: 0b1101111100000111110011100100111000101110, expected: (873115137932, true)}, // rhs = -141602959826
        TestCaseTwoArgsTwoExpected{lhs: 0b1000111001001001100010011001101111111110, rhs: 111115827371, expected: (133680939690, true)}, // lhs = -488392516610
        TestCaseTwoArgsTwoExpected{lhs: 461385330811, rhs: 284760834558, expected: (1051207832842, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010001110111001101100011101110101111001, rhs: 0b1101000100100001011001110110010000011111, expected: (286349071783, true)}, // lhs = -396316516999 rhs = -201303038945
        TestCaseTwoArgsTwoExpected{lhs: 0b1110001101110010111100001110001000000000, rhs: 8441809017, expected: (899701985792, true)}, // lhs = -122625662464
        TestCaseTwoArgsTwoExpected{lhs: 381550940121, rhs: 0b1101010110101010101110001000001110100110, expected: (123151438262, true)}, // rhs = -181819374682
        TestCaseTwoArgsTwoExpected{lhs: 432729878415, rhs: 0b1001110010011000111010010100110101001110, expected: (693127872658, true)}, // rhs = -426931303090
        TestCaseTwoArgsTwoExpected{lhs: 0b1010010100000001001101000001110110000000, rhs: 378599259455, expected: (574583652992, true)}, // lhs = -390821831296
        TestCaseTwoArgsTwoExpected{lhs: 0b1001101001100110100100110110011110100011, rhs: 0b1100100011101001110000010101111100110000, expected: (895164869520, true)}, // lhs = -436365727837 rhs = -236596404432
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100101110100011101010011000110011101, rhs: 353070314971, expected: (353389720143, true)}, // lhs = -165549887075
        TestCaseTwoArgsTwoExpected{lhs: 0b1101011011100010111100110010110111001000, rhs: 0b1111000001001011101010111010011010010010, expected: (69977230352, true)}, // lhs = -176581038648 rhs = -67449936238
        TestCaseTwoArgsTwoExpected{lhs: 0b1110001011010100101010011110100011101010, rhs: 0b1011110010100010101110010001101011001100, expected: (412822756984, true)}, // lhs = -125281113878 rhs = -289327736116
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100001101101110011100000011111100110, rhs: 265505480614, expected: (1025477310756, true)}, // lhs = -169956472858
        TestCaseTwoArgsTwoExpected{lhs: 0b1110011101000001101100100010100100110001, rhs: 2689153533, expected: (794421599853, true)}, // lhs = -106271987407
        TestCaseTwoArgsTwoExpected{lhs: 0b1101101111011001111000111010101010111111, rhs: 54242716320, expected: (187530480992, true)}, // lhs = -155258213697
        TestCaseTwoArgsTwoExpected{lhs: 0b1001100100111101101000110011101110000011, rhs: 540224997508, expected: (460218468236, true)}, // lhs = -441347523709
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100011010010001110011011111001010101, rhs: 0b1001100110011110001110100000100111110010, expected: (778857671002, true)}, // lhs = -168271692203 rhs = -439727027726
        TestCaseTwoArgsTwoExpected{lhs: 0b1100010110101101011011000000011101000101, rhs: 175002332912, expected: (1005537638064, true)}, // lhs = -250493532347
        TestCaseTwoArgsTwoExpected{lhs: 0b1011010001101111111100110110000100110110, rhs: 0b1000110001110000001011101111000001101000, expected: (54722436592, true)}, // lhs = -324539293386 rhs = -496334081944
        TestCaseTwoArgsTwoExpected{lhs: 34077843048, rhs: 57027889141, expected: (301754642824, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101010000111010010000110010011101011, rhs: 202066090401, expected: (47035165387, true)}, // lhs = -504536472341
        TestCaseTwoArgsTwoExpected{lhs: 268323768975, rhs: 0b1001110011011111010110111001000101011101, expected: (242136421619, true)}, // rhs = -425749409443
        TestCaseTwoArgsTwoExpected{lhs: 998800222, rhs: 305549713024, expected: (882133807872, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1101111111110101110010111010011010100110, rhs: 0b1111110111011111100011010100110100011101, expected: (758005092046, true)}, // lhs = -137610156378 rhs = -9134322403
        TestCaseTwoArgsTwoExpected{lhs: 0b1100101011000110001011100100110110001010, rhs: 0b1100101111010010010110000011001100011111, expected: (1086970519990, true)}, // lhs = -228603310710 rhs = -224104271073
        TestCaseTwoArgsTwoExpected{lhs: 167140168075, rhs: 0b1111110100001000011100000010110011010001, expected: (1060267538043, true)}, // rhs = -12743332655
        TestCaseTwoArgsTwoExpected{lhs: 0b1110111010110100001011100110001110010010, rhs: 0b1000110010010100011000001000111001111101, expected: (332669229642, true)}, // lhs = -74286472302 rhs = -495726850435
        TestCaseTwoArgsTwoExpected{lhs: 148092239361, rhs: 362488278879, expected: (512728052063, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110110100001000101111101101111001111110, rhs: 0b1000101111101101100100101101111110111100, expected: (1031762552456, true)}, // lhs = -81457652098 rhs = -498525347908
        TestCaseTwoArgsTwoExpected{lhs: 365984588311, rhs: 486090138198, expected: (439061496250, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110101011011110011111101101010111001100, rhs: 0b1000110010100000111111111000011010010010, expected: (1029692372568, true)}, // lhs = -90756426292 rhs = -495515105646
        TestCaseTwoArgsTwoExpected{lhs: 0b1100001000001110011000000011011011001100, rhs: 0b1101101010111101101011010100001011001110, expected: (60186734632, true)}, // lhs = -266046785844 rhs = -160026508594
        TestCaseTwoArgsTwoExpected{lhs: 0b1010111001011110001001000101001010111101, rhs: 347684969189, expected: (369998083345, true)}, // lhs = -350607879491
        TestCaseTwoArgsTwoExpected{lhs: 0b1001000000110000111000000011101001010101, rhs: 0b1011110111101001101110001110010110000100, expected: (86199508180, true)}, // lhs = -480216335787 rhs = -283841600124
        TestCaseTwoArgsTwoExpected{lhs: 0b1011111101101010010000001101110010011111, rhs: 527722733420, expected: (303406683156, true)}, // lhs = -277390238561
        TestCaseTwoArgsTwoExpected{lhs: 209716057028, rhs: 273091085597, expected: (1002573599028, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010000011000111010101111101110110000010, rhs: 396398626929, expected: (347684394594, true)}, // lhs = -408972436094
        TestCaseTwoArgsTwoExpected{lhs: 0b1011010110011100101110110110001010101000, rhs: 445264206317, expected: (603307687304, true)}, // lhs = -319493021016
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110101001110001101000000101010100111, rhs: 379531754971, expected: (906544424925, true)}, // lhs = -286450775385
        TestCaseTwoArgsTwoExpected{lhs: 56478967889, rhs: 0b1000000101011000100001101000010110111111, expected: (244711270767, true)}, // rhs = -543975635521
        TestCaseTwoArgsTwoExpected{lhs: 362628208313, rhs: 91475503244, expected: (208809465132, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100110111001110111111001111100100011010, rhs: 0b1101110101100111010011111100101010101011, expected: (589292300382, true)}, // lhs = -215570646758 rhs = -148590572885
        TestCaseTwoArgsTwoExpected{lhs: 322095423525, rhs: 0b1001010111000010001001100010111011111011, expected: (768186395207, true)}, // rhs = -456304218373
        TestCaseTwoArgsTwoExpected{lhs: 0b1001110111001011100100100101110110000011, rhs: 14363715042, expected: (733689199782, true)}, // lhs = -421786395261
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110000011101010010111100101000010100, rhs: 0b1001110100110111000110000001011100111011, expected: (849556233884, true)}, // lhs = -291566269932 rhs = -424277436613
        TestCaseTwoArgsTwoExpected{lhs: 0b1000001111001000111111110111010011100010, rhs: 0b1100000001110110100001000100100101000111, expected: (1056691313838, true)}, // lhs = -533498727198 rhs = -272889525945
        TestCaseTwoArgsTwoExpected{lhs: 68885744702, rhs: 0b1111101110101010000101000011101001110100, expected: (701878474776, true)}, // rhs = -18621384076
        TestCaseTwoArgsTwoExpected{lhs: 92089830209, rhs: 0b1010110111100000111111011010111000101111, expected: (935405682415, true)}, // rhs = -352707563985
        TestCaseTwoArgsTwoExpected{lhs: 266683572833, rhs: 0b1101001000100010110111010001011100101000, expected: (609143166504, true)}, // rhs = -196983580888
        TestCaseTwoArgsTwoExpected{lhs: 253297599496, rhs: 0b1001000001110100001010011110100101100110, expected: (938976256816, true)}, // rhs = -479087433370
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101010101110010100001000001001101111, rhs: 0b1000001011000011110100111011011100100101, expected: (802309354251, true)}, // lhs = -503881629073 rhs = -537880447195
        TestCaseTwoArgsTwoExpected{lhs: 388387203589, rhs: 403631898452, expected: (205327877284, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011111100100101100110110100000101000, rhs: 127170720600, expected: (1065454126528, true)}, // lhs = -515854079960
        TestCaseTwoArgsTwoExpected{lhs: 170332965940, rhs: 353021609492, expected: (257737239568, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110110100011111001000110010101110111000, rhs: 124985992500, expected: (258567338336, true)}, // lhs = -81081979976
        TestCaseTwoArgsTwoExpected{lhs: 0b1101001000101011111000010001110110111111, rhs: 71580143490, expected: (303625473022, true)}, // lhs = -196832322113
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110110111101011101000011101100001110, rhs: 291818658134, expected: (641208792244, true)}, // lhs = -284584297714
        TestCaseTwoArgsTwoExpected{lhs: 316934657036, rhs: 0b1111011110100100001110101010101011110100, expected: (565656884080, true)}, // rhs = -35899397388
        TestCaseTwoArgsTwoExpected{lhs: 0b1100001111001111000000011110001010111011, rhs: 145287873830, expected: (723874762434, true)}, // lhs = -258519997765
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100000011100101111110000001110000100, rhs: 0b1000000010000111000100001101111000001010, expected: (1003290270504, true)}, // lhs = -308755364988 rhs = -547489784310
        TestCaseTwoArgsTwoExpected{lhs: 252815788012, rhs: 0b1110000001000011000010110010010111111000, expected: (808609040544, true)}, // rhs = -136314149384
        TestCaseTwoArgsTwoExpected{lhs: 291092366573, rhs: 94056815349, expected: (1034403629265, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010001100111110010011000011001010111110, rhs: 203968235591, expected: (1080075190962, true)}, // lhs = -398386777410
        TestCaseTwoArgsTwoExpected{lhs: 95309017760, rhs: 134138106223, expected: (899954414432, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101001000100110000000010011001000111, rhs: 0b1101001111011001001111110100001011100001, expected: (758350672487, true)}, // lhs = -299494267321 rhs = -189628726559
        TestCaseTwoArgsTwoExpected{lhs: 248020117900, rhs: 511297278162, expected: (219588515032, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100110110000001111011011101010110111, rhs: 192463571730, expected: (734214749662, true)}, // lhs = -301985842505
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111010111101111110000101111111011101, rhs: 0b1001110110100101010010000001011111110111, expected: (34400196923, true)}, // lhs = -5402763299 rhs = -422428796937
        TestCaseTwoArgsTwoExpected{lhs: 0b1101101101011000110000100001001010000100, rhs: 55560470772, expected: (39046850000, true)}, // lhs = -157424676220
        TestCaseTwoArgsTwoExpected{lhs: 315973487784, rhs: 0b1101011000110111010110101000001111110011, expected: (618496277368, true)}, // rhs = -179459947533
        TestCaseTwoArgsTwoExpected{lhs: 0b1010101100011111110010111111110100010001, rhs: 0b1110110101110010110100100101100101000110, expected: (673348590502, true)}, // lhs = -364538757871 rhs = -79677990586
        TestCaseTwoArgsTwoExpected{lhs: 0b1101111100110100001010010000010100011100, rhs: 0b1011110010100101011000111100111111101011, expected: (867895694516, true)}, // lhs = -140858817252 rhs = -289282994197
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101100110000111110010001111110101100, rhs: 0b1011110011100000111110111100000001010011, expected: (155795997892, true)}, // lhs = -501689540692 rhs = -288283180973
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100100111000010110010100000100001001, rhs: 0b1100111100100101011111010000010110000011, expected: (153047430299, true)}, // lhs = -303997304567 rhs = -209824447101
        TestCaseTwoArgsTwoExpected{lhs: 0b1001111101000000001001011010000010010111, rhs: 0b1110000000110000011100111100001011011000, expected: (129239543144, true)}, // lhs = -415535619945 rhs = -136626060584
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010001101100110111011011111000000010, rhs: 0b1001000100110101101101110110010001101111, expected: (949452810974, true)}, // lhs = -462029996542 rhs = -475840158609
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100110101010100101011110001110011101, rhs: 0b1010011010101110010011101101010110011111, expected: (333821509507, true)}, // lhs = -164641774691 rhs = -383622654561
        TestCaseTwoArgsTwoExpected{lhs: 0b1100100110111100101110010111000010001100, rhs: 0b1110100101000111111100101111001110011111, expected: (409990712052, true)}, // lhs = -233056931700 rhs = -97577143393
        TestCaseTwoArgsTwoExpected{lhs: 0b1110001100011110111100110101100010101001, rhs: 268148145859, expected: (785417713339, true)}, // lhs = -124034787159
        TestCaseTwoArgsTwoExpected{lhs: 459325216620, rhs: 458179841902, expected: (367521588328, true)},
        TestCaseTwoArgsTwoExpected{lhs: 336995968299, rhs: 0b1011010101011110100101110001101000000000, expected: (945373273600, true)}, // rhs = -320535586304
        TestCaseTwoArgsTwoExpected{lhs: 0b1010101001101010000010100111111100010010, rhs: 376291925362, expected: (310034538500, true)}, // lhs = -367588114670
        TestCaseTwoArgsTwoExpected{lhs: 0b1101110111100001110101101001001110111011, rhs: 63389925147, expected: (949322144185, true)}, // lhs = -146534919237
        TestCaseTwoArgsTwoExpected{lhs: 150027663296, rhs: 0b1100011001001010100101101100010000011110, expected: (581239113856, true)}, // rhs = -247856708578
        TestCaseTwoArgsTwoExpected{lhs: 459011275319, rhs: 0b1111001001101010100001100101101101100110, expected: (394034593514, true)}, // rhs = -58342352026
        TestCaseTwoArgsTwoExpected{lhs: 21595086613, rhs: 9130182263, expected: (746634457283, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000110010111101100011000100111110101100, rhs: 0b1110110110100101000011110001010000101111, expected: (499458773140, true)}, // lhs = -495036117076 rhs = -78835149777
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101110100111101011000110010101010110, rhs: 0b1100100000110110100110100011100100001101, expected: (146029759326, true)}, // lhs = -293539650218 rhs = -239602091763
        TestCaseTwoArgsTwoExpected{lhs: 155224015245, rhs: 0b1111111111010000101100011100011110110010, expected: (741319094026, true)}, // rhs = -793655374
        TestCaseTwoArgsTwoExpected{lhs: 80275648482, rhs: 83887349271, expected: (42275064142, true)},
        TestCaseTwoArgsTwoExpected{lhs: 541039390677, rhs: 0b1110010001111100101101101100000111010100, expected: (388038668644, true)}, // rhs = -118166732332
        TestCaseTwoArgsTwoExpected{lhs: 0b1000100110101101000010110110100110011001, rhs: 437438235441, expected: (5231329609, true)}, // lhs = -508197901927
        TestCaseTwoArgsTwoExpected{lhs: 452594267082, rhs: 277520234327, expected: (273147805606, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111110101000110100101010000110101001110, rhs: 58960088331, expected: (58830719066, true)}, // lhs = -11700728498
        TestCaseTwoArgsTwoExpected{lhs: 76001140730, rhs: 254172257318, expected: (699949061916, true)},
        TestCaseTwoArgsTwoExpected{lhs: 343194526184, rhs: 379616787583, expected: (402212811288, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010100101101100110000001100101010111010, rhs: 30376340066, expected: (1090739511092, true)}, // lhs = -371837580614
        TestCaseTwoArgsTwoExpected{lhs: 150578989692, rhs: 393499569389, expected: (174737654988, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010110101110010000011100010110101010001, rhs: 525708763898, expected: (964291199770, true)}, // lhs = -354568753839
        TestCaseTwoArgsTwoExpected{lhs: 511708707172, rhs: 0b1111110000100111001101011111111111100101, expected: (289998697076, true)}, // rhs = -16522018843
        TestCaseTwoArgsTwoExpected{lhs: 260284608351, rhs: 0b1100110101111101110110101110100110100110, expected: (1083124526746, true)}, // rhs = -216931833434
        TestCaseTwoArgsTwoExpected{lhs: 319598961526, rhs: 155264802078, expected: (323701114324, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001111000010101101111010001100000000111, rhs: 0b1110011001001010011110110100000000000110, expected: (250614730794, true)}, // lhs = -420542081017 rhs = -110419558394
        TestCaseTwoArgsTwoExpected{lhs: 98495215198, rhs: 132714647375, expected: (361174223106, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1101111011110001001101111110000101111101, rhs: 355035077633, expected: (781760187773, true)}, // lhs = -141981916803
        TestCaseTwoArgsTwoExpected{lhs: 0b1000001000000101101011101001100101001111, rhs: 0b1100001110110111110110111010111001110000, expected: (965430985872, true)}, // lhs = -541070550705 rhs = -258908377488
        TestCaseTwoArgsTwoExpected{lhs: 46035312288, rhs: 454700269943, expected: (774203104352, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010011100100100100001101101011011100110, rhs: 285960609829, expected: (522958720830, true)}, // lhs = -381639272730
        TestCaseTwoArgsTwoExpected{lhs: 134856170286, rhs: 0b1010101000110110101000010110111011011100, expected: (361649938312, true)}, // rhs = -368450638116
        TestCaseTwoArgsTwoExpected{lhs: 0b1010100101010011101101100111010001000111, rhs: 413939239633, expected: (187372680183, true)}, // lhs = -372257688505
        TestCaseTwoArgsTwoExpected{lhs: 0b1111110001000010111111000010001101111000, rhs: 276672770572, expected: (609386568096, true)}, // lhs = -16056048776
        TestCaseTwoArgsTwoExpected{lhs: 0b1100110110110001110100000101111101100010, rhs: 0b1011011111011000110110111111011110000111, expected: (906670103214, true)}, // lhs = -216060108958 rhs = -309894318201
        TestCaseTwoArgsTwoExpected{lhs: 0b1001000111010101111111001111100101100000, rhs: 70784374370, expected: (330803558080, true)}, // lhs = -473151243936
        TestCaseTwoArgsTwoExpected{lhs: 0b1101011001001000110100100111010111110010, rhs: 0b1001111000010101001110010111010011100001, expected: (251176767922, true)}, // lhs = -179166874126 rhs = -420550707999
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100001000100010100010001111001001110, rhs: 359111074648, expected: (227375781072, true)}, // lhs = -308091478450
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010011110001101011000110111010110001, rhs: 0b1110010100000010111100000001011001000000, expected: (942284923456, true)}, // lhs = -459801858383 rhs = -115914828224

        // Edge cases
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 549755813887, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0b1000000000000000000000000000000000000000, expected: (0, false)}, // rhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 549755813887, expected: (1, true)},
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 0b1000000000000000000000000000000000000000, expected: (549755813888, true)}, // rhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 0, expected: (0, false)}, // lhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 549755813887, expected: (549755813888, true)}, // lhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 0b1000000000000000000000000000000000000000, expected: (0, true)}, // lhs = -549755813888 rhs = -549755813888
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            assert_eq!(__llvm_smul_with_overflow_n_n_Sncs(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
