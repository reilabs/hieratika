use crate::alu::umax::umax;
use crate::integer::u40::u40;

pub fn __llvm_umax_n_n_n(lhs: u128, rhs: u128) -> u128 {
    umax::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_umax_n_n_n;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 204] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 575993210928, rhs: 1068087116313, expected: 1068087116313},
        TestCaseTwoArgs{lhs: 886383154505, rhs: 450917669346, expected: 886383154505},
        TestCaseTwoArgs{lhs: 109201511143, rhs: 122726384460, expected: 122726384460},
        TestCaseTwoArgs{lhs: 738810755874, rhs: 972537498701, expected: 972537498701},
        TestCaseTwoArgs{lhs: 791497702908, rhs: 274753233372, expected: 791497702908},
        TestCaseTwoArgs{lhs: 352790086039, rhs: 442958611186, expected: 442958611186},
        TestCaseTwoArgs{lhs: 820548920855, rhs: 176766022765, expected: 820548920855},
        TestCaseTwoArgs{lhs: 311476253105, rhs: 379238780539, expected: 379238780539},
        TestCaseTwoArgs{lhs: 564402685987, rhs: 125225398584, expected: 564402685987},
        TestCaseTwoArgs{lhs: 710580233790, rhs: 7702501229, expected: 710580233790},
        TestCaseTwoArgs{lhs: 1003458617240, rhs: 696512198930, expected: 1003458617240},
        TestCaseTwoArgs{lhs: 978662891964, rhs: 370632673133, expected: 978662891964},
        TestCaseTwoArgs{lhs: 507589264991, rhs: 498622881612, expected: 507589264991},
        TestCaseTwoArgs{lhs: 122606747591, rhs: 889004283501, expected: 889004283501},
        TestCaseTwoArgs{lhs: 794829203401, rhs: 392489543631, expected: 794829203401},
        TestCaseTwoArgs{lhs: 170546343978, rhs: 10472906664, expected: 170546343978},
        TestCaseTwoArgs{lhs: 742204233750, rhs: 898248586021, expected: 898248586021},
        TestCaseTwoArgs{lhs: 305669455470, rhs: 262272225376, expected: 305669455470},
        TestCaseTwoArgs{lhs: 329301631207, rhs: 688728781024, expected: 688728781024},
        TestCaseTwoArgs{lhs: 503507120300, rhs: 1066608876934, expected: 1066608876934},
        TestCaseTwoArgs{lhs: 538480203639, rhs: 269471557231, expected: 538480203639},
        TestCaseTwoArgs{lhs: 933808866262, rhs: 757794436584, expected: 933808866262},
        TestCaseTwoArgs{lhs: 884966371932, rhs: 324049257370, expected: 884966371932},
        TestCaseTwoArgs{lhs: 238611270257, rhs: 708680118662, expected: 708680118662},
        TestCaseTwoArgs{lhs: 589400546964, rhs: 433258769720, expected: 589400546964},
        TestCaseTwoArgs{lhs: 131797393605, rhs: 1090214245274, expected: 1090214245274},
        TestCaseTwoArgs{lhs: 935567574427, rhs: 72435779285, expected: 935567574427},
        TestCaseTwoArgs{lhs: 545905397975, rhs: 1059473817215, expected: 1059473817215},
        TestCaseTwoArgs{lhs: 595585813943, rhs: 147937103300, expected: 595585813943},
        TestCaseTwoArgs{lhs: 6656650706, rhs: 658974024858, expected: 658974024858},
        TestCaseTwoArgs{lhs: 379108273823, rhs: 90523108267, expected: 379108273823},
        TestCaseTwoArgs{lhs: 350916079668, rhs: 538996898463, expected: 538996898463},
        TestCaseTwoArgs{lhs: 924213036404, rhs: 454169043128, expected: 924213036404},
        TestCaseTwoArgs{lhs: 291181284883, rhs: 672053931775, expected: 672053931775},
        TestCaseTwoArgs{lhs: 950908045472, rhs: 534751856025, expected: 950908045472},
        TestCaseTwoArgs{lhs: 509167492559, rhs: 363719665141, expected: 509167492559},
        TestCaseTwoArgs{lhs: 930605352751, rhs: 667717448588, expected: 930605352751},
        TestCaseTwoArgs{lhs: 723308679547, rhs: 100205224187, expected: 723308679547},
        TestCaseTwoArgs{lhs: 906581763287, rhs: 232105822091, expected: 906581763287},
        TestCaseTwoArgs{lhs: 2401981610, rhs: 571571429447, expected: 571571429447},
        TestCaseTwoArgs{lhs: 25437093290, rhs: 564299895392, expected: 564299895392},
        TestCaseTwoArgs{lhs: 796640511953, rhs: 168368124491, expected: 796640511953},
        TestCaseTwoArgs{lhs: 804288065051, rhs: 753311224963, expected: 804288065051},
        TestCaseTwoArgs{lhs: 902947347495, rhs: 276724753977, expected: 902947347495},
        TestCaseTwoArgs{lhs: 1028274016377, rhs: 1087388173789, expected: 1087388173789},
        TestCaseTwoArgs{lhs: 855565499639, rhs: 101539061678, expected: 855565499639},
        TestCaseTwoArgs{lhs: 1096752923369, rhs: 290823698819, expected: 1096752923369},
        TestCaseTwoArgs{lhs: 503435760320, rhs: 139620300672, expected: 503435760320},
        TestCaseTwoArgs{lhs: 265622223894, rhs: 407935869580, expected: 407935869580},
        TestCaseTwoArgs{lhs: 653654616062, rhs: 993570216446, expected: 993570216446},
        TestCaseTwoArgs{lhs: 115382691541, rhs: 248805686386, expected: 248805686386},
        TestCaseTwoArgs{lhs: 163148657482, rhs: 154490286369, expected: 163148657482},
        TestCaseTwoArgs{lhs: 910857002986, rhs: 1070515994718, expected: 1070515994718},
        TestCaseTwoArgs{lhs: 146291131045, rhs: 149289285920, expected: 149289285920},
        TestCaseTwoArgs{lhs: 521523476321, rhs: 332183735192, expected: 521523476321},
        TestCaseTwoArgs{lhs: 339009235725, rhs: 789529657943, expected: 789529657943},
        TestCaseTwoArgs{lhs: 462134442160, rhs: 264019259486, expected: 462134442160},
        TestCaseTwoArgs{lhs: 69626148620, rhs: 969275928801, expected: 969275928801},
        TestCaseTwoArgs{lhs: 1096739568097, rhs: 895481564639, expected: 1096739568097},
        TestCaseTwoArgs{lhs: 515974010101, rhs: 378104715010, expected: 515974010101},
        TestCaseTwoArgs{lhs: 606878746630, rhs: 203954487786, expected: 606878746630},
        TestCaseTwoArgs{lhs: 904557109965, rhs: 1001456430539, expected: 1001456430539},
        TestCaseTwoArgs{lhs: 495710871966, rhs: 550310567982, expected: 550310567982},
        TestCaseTwoArgs{lhs: 875158828889, rhs: 102923568650, expected: 875158828889},
        TestCaseTwoArgs{lhs: 250174389443, rhs: 293862527488, expected: 293862527488},
        TestCaseTwoArgs{lhs: 648006977644, rhs: 50954145709, expected: 648006977644},
        TestCaseTwoArgs{lhs: 746552315029, rhs: 83076777343, expected: 746552315029},
        TestCaseTwoArgs{lhs: 541344432617, rhs: 356589704019, expected: 541344432617},
        TestCaseTwoArgs{lhs: 7208762501, rhs: 924712157610, expected: 924712157610},
        TestCaseTwoArgs{lhs: 789316039037, rhs: 145054701171, expected: 789316039037},
        TestCaseTwoArgs{lhs: 458182829188, rhs: 1028984006713, expected: 1028984006713},
        TestCaseTwoArgs{lhs: 471404196760, rhs: 638109530082, expected: 638109530082},
        TestCaseTwoArgs{lhs: 587008128683, rhs: 826877023774, expected: 826877023774},
        TestCaseTwoArgs{lhs: 225559292156, rhs: 763061943163, expected: 763061943163},
        TestCaseTwoArgs{lhs: 834967499829, rhs: 529896396749, expected: 834967499829},
        TestCaseTwoArgs{lhs: 120095983318, rhs: 968241619692, expected: 968241619692},
        TestCaseTwoArgs{lhs: 316745637053, rhs: 267560754066, expected: 316745637053},
        TestCaseTwoArgs{lhs: 288847988938, rhs: 860256107037, expected: 860256107037},
        TestCaseTwoArgs{lhs: 439533751324, rhs: 884209960894, expected: 884209960894},
        TestCaseTwoArgs{lhs: 309790991449, rhs: 866475036692, expected: 866475036692},
        TestCaseTwoArgs{lhs: 357977952537, rhs: 230997294015, expected: 357977952537},
        TestCaseTwoArgs{lhs: 873436135102, rhs: 427027483706, expected: 873436135102},
        TestCaseTwoArgs{lhs: 222248999589, rhs: 921018678111, expected: 921018678111},
        TestCaseTwoArgs{lhs: 681159516559, rhs: 92394739988, expected: 681159516559},
        TestCaseTwoArgs{lhs: 947658801323, rhs: 1037949763013, expected: 1037949763013},
        TestCaseTwoArgs{lhs: 604488778338, rhs: 255040684901, expected: 604488778338},
        TestCaseTwoArgs{lhs: 920296664557, rhs: 873531597755, expected: 920296664557},
        TestCaseTwoArgs{lhs: 853460311074, rhs: 1018062498386, expected: 1018062498386},
        TestCaseTwoArgs{lhs: 940831973398, rhs: 589528418642, expected: 940831973398},
        TestCaseTwoArgs{lhs: 816789744689, rhs: 235051555024, expected: 816789744689},
        TestCaseTwoArgs{lhs: 798414247030, rhs: 668748352932, expected: 798414247030},
        TestCaseTwoArgs{lhs: 1050782812931, rhs: 421124477799, expected: 1050782812931},
        TestCaseTwoArgs{lhs: 349876681541, rhs: 385960312414, expected: 385960312414},
        TestCaseTwoArgs{lhs: 119301267634, rhs: 1088374004555, expected: 1088374004555},
        TestCaseTwoArgs{lhs: 608588785819, rhs: 271210964426, expected: 608588785819},
        TestCaseTwoArgs{lhs: 376784228734, rhs: 528411970670, expected: 528411970670},
        TestCaseTwoArgs{lhs: 551990323722, rhs: 775291982390, expected: 775291982390},
        TestCaseTwoArgs{lhs: 964595677378, rhs: 366742644294, expected: 964595677378},
        TestCaseTwoArgs{lhs: 900301506106, rhs: 1070035697857, expected: 1070035697857},
        TestCaseTwoArgs{lhs: 496114721874, rhs: 295413547480, expected: 496114721874},
        TestCaseTwoArgs{lhs: 683816876677, rhs: 903587638807, expected: 903587638807},
        TestCaseTwoArgs{lhs: 294196159963, rhs: 921911183544, expected: 921911183544},
        TestCaseTwoArgs{lhs: 676768887120, rhs: 698752359513, expected: 698752359513},
        TestCaseTwoArgs{lhs: 835019336244, rhs: 375673681609, expected: 835019336244},
        TestCaseTwoArgs{lhs: 764529479349, rhs: 304162956517, expected: 764529479349},
        TestCaseTwoArgs{lhs: 782443965798, rhs: 912218783063, expected: 912218783063},
        TestCaseTwoArgs{lhs: 1014219562890, rhs: 82747520401, expected: 1014219562890},
        TestCaseTwoArgs{lhs: 237441049886, rhs: 819962312426, expected: 819962312426},
        TestCaseTwoArgs{lhs: 112809947779, rhs: 947255987541, expected: 947255987541},
        TestCaseTwoArgs{lhs: 555650997772, rhs: 791066543264, expected: 791066543264},
        TestCaseTwoArgs{lhs: 939387130439, rhs: 345366598121, expected: 939387130439},
        TestCaseTwoArgs{lhs: 760759944613, rhs: 351403737049, expected: 760759944613},
        TestCaseTwoArgs{lhs: 879581158969, rhs: 350184387806, expected: 879581158969},
        TestCaseTwoArgs{lhs: 437098061320, rhs: 1030247314355, expected: 1030247314355},
        TestCaseTwoArgs{lhs: 1005217478286, rhs: 535150255084, expected: 1005217478286},
        TestCaseTwoArgs{lhs: 586245186492, rhs: 84947169151, expected: 586245186492},
        TestCaseTwoArgs{lhs: 429407600070, rhs: 298486637538, expected: 429407600070},
        TestCaseTwoArgs{lhs: 400324160389, rhs: 847255865527, expected: 847255865527},
        TestCaseTwoArgs{lhs: 725965882779, rhs: 423422947346, expected: 725965882779},
        TestCaseTwoArgs{lhs: 598435232722, rhs: 492117858674, expected: 598435232722},
        TestCaseTwoArgs{lhs: 1004266446101, rhs: 493954301802, expected: 1004266446101},
        TestCaseTwoArgs{lhs: 548463481668, rhs: 83848883169, expected: 548463481668},
        TestCaseTwoArgs{lhs: 218868297272, rhs: 423479115675, expected: 423479115675},
        TestCaseTwoArgs{lhs: 46118234764, rhs: 301673927063, expected: 301673927063},
        TestCaseTwoArgs{lhs: 177236731580, rhs: 84268509071, expected: 177236731580},
        TestCaseTwoArgs{lhs: 441990395042, rhs: 45069072634, expected: 441990395042},
        TestCaseTwoArgs{lhs: 948610606345, rhs: 327923207484, expected: 948610606345},
        TestCaseTwoArgs{lhs: 687017944371, rhs: 194468376536, expected: 687017944371},
        TestCaseTwoArgs{lhs: 784691030062, rhs: 10023309754, expected: 784691030062},
        TestCaseTwoArgs{lhs: 391354368763, rhs: 164334587553, expected: 391354368763},
        TestCaseTwoArgs{lhs: 193211091182, rhs: 618909318366, expected: 618909318366},
        TestCaseTwoArgs{lhs: 948903543636, rhs: 364052962966, expected: 948903543636},
        TestCaseTwoArgs{lhs: 1014300317979, rhs: 193672060897, expected: 1014300317979},
        TestCaseTwoArgs{lhs: 133701430243, rhs: 322516349976, expected: 322516349976},
        TestCaseTwoArgs{lhs: 158856393541, rhs: 754235197800, expected: 754235197800},
        TestCaseTwoArgs{lhs: 317443171874, rhs: 618494745907, expected: 618494745907},
        TestCaseTwoArgs{lhs: 951326885495, rhs: 263318333895, expected: 951326885495},
        TestCaseTwoArgs{lhs: 80956512251, rhs: 1074507831937, expected: 1074507831937},
        TestCaseTwoArgs{lhs: 24516323083, rhs: 1079825617405, expected: 1079825617405},
        TestCaseTwoArgs{lhs: 756814751982, rhs: 721554454824, expected: 756814751982},
        TestCaseTwoArgs{lhs: 281733478203, rhs: 163023011999, expected: 281733478203},
        TestCaseTwoArgs{lhs: 109106497647, rhs: 797842862177, expected: 797842862177},
        TestCaseTwoArgs{lhs: 774414188637, rhs: 703534008103, expected: 774414188637},
        TestCaseTwoArgs{lhs: 967919309786, rhs: 910076202727, expected: 967919309786},
        TestCaseTwoArgs{lhs: 661719690385, rhs: 131590879111, expected: 661719690385},
        TestCaseTwoArgs{lhs: 992693809718, rhs: 90540456594, expected: 992693809718},
        TestCaseTwoArgs{lhs: 539260439951, rhs: 433114426496, expected: 539260439951},
        TestCaseTwoArgs{lhs: 30424048820, rhs: 72340789524, expected: 72340789524},
        TestCaseTwoArgs{lhs: 216237709195, rhs: 796929824190, expected: 796929824190},
        TestCaseTwoArgs{lhs: 641016439476, rhs: 69814170327, expected: 641016439476},
        TestCaseTwoArgs{lhs: 393977234125, rhs: 225092832588, expected: 393977234125},
        TestCaseTwoArgs{lhs: 534044466319, rhs: 627409117624, expected: 627409117624},
        TestCaseTwoArgs{lhs: 43144516394, rhs: 643985163950, expected: 643985163950},
        TestCaseTwoArgs{lhs: 398026651547, rhs: 437875119308, expected: 437875119308},
        TestCaseTwoArgs{lhs: 1036873478694, rhs: 51993065123, expected: 1036873478694},
        TestCaseTwoArgs{lhs: 673042363222, rhs: 766496054454, expected: 766496054454},
        TestCaseTwoArgs{lhs: 39497207363, rhs: 1074906056845, expected: 1074906056845},
        TestCaseTwoArgs{lhs: 143224701650, rhs: 1047458302301, expected: 1047458302301},
        TestCaseTwoArgs{lhs: 555195996031, rhs: 247310481420, expected: 555195996031},
        TestCaseTwoArgs{lhs: 936990473698, rhs: 849479700377, expected: 936990473698},
        TestCaseTwoArgs{lhs: 610620834470, rhs: 272002305101, expected: 610620834470},
        TestCaseTwoArgs{lhs: 280921684815, rhs: 752883630484, expected: 752883630484},
        TestCaseTwoArgs{lhs: 546241574294, rhs: 139018913402, expected: 546241574294},
        TestCaseTwoArgs{lhs: 35163920646, rhs: 73280548164, expected: 73280548164},
        TestCaseTwoArgs{lhs: 1070333566420, rhs: 306275400962, expected: 1070333566420},
        TestCaseTwoArgs{lhs: 56125872598, rhs: 997369877389, expected: 997369877389},
        TestCaseTwoArgs{lhs: 301957957397, rhs: 873869324887, expected: 873869324887},
        TestCaseTwoArgs{lhs: 230402240331, rhs: 203722886194, expected: 230402240331},
        TestCaseTwoArgs{lhs: 199698637294, rhs: 933300003319, expected: 933300003319},
        TestCaseTwoArgs{lhs: 896477702808, rhs: 793928655080, expected: 896477702808},
        TestCaseTwoArgs{lhs: 409029045719, rhs: 13891664953, expected: 409029045719},
        TestCaseTwoArgs{lhs: 282937409723, rhs: 504318739377, expected: 504318739377},
        TestCaseTwoArgs{lhs: 435417862270, rhs: 383720060550, expected: 435417862270},
        TestCaseTwoArgs{lhs: 205415314627, rhs: 830939806732, expected: 830939806732},
        TestCaseTwoArgs{lhs: 255479854207, rhs: 776885470643, expected: 776885470643},
        TestCaseTwoArgs{lhs: 723942707498, rhs: 166629599205, expected: 723942707498},
        TestCaseTwoArgs{lhs: 150933479473, rhs: 276979335395, expected: 276979335395},
        TestCaseTwoArgs{lhs: 72888148208, rhs: 950121943075, expected: 950121943075},
        TestCaseTwoArgs{lhs: 852744763690, rhs: 437492008939, expected: 852744763690},
        TestCaseTwoArgs{lhs: 27704397065, rhs: 210463534902, expected: 210463534902},
        TestCaseTwoArgs{lhs: 559966113182, rhs: 868619819468, expected: 868619819468},
        TestCaseTwoArgs{lhs: 638101987139, rhs: 829313174733, expected: 829313174733},
        TestCaseTwoArgs{lhs: 936754820791, rhs: 217452168835, expected: 936754820791},
        TestCaseTwoArgs{lhs: 869222876184, rhs: 561710378273, expected: 869222876184},
        TestCaseTwoArgs{lhs: 1007022338384, rhs: 305545642823, expected: 1007022338384},
        TestCaseTwoArgs{lhs: 143390383787, rhs: 117209019318, expected: 143390383787},
        TestCaseTwoArgs{lhs: 1042662822489, rhs: 968325174191, expected: 1042662822489},
        TestCaseTwoArgs{lhs: 852838446845, rhs: 945554333667, expected: 945554333667},
        TestCaseTwoArgs{lhs: 468305551010, rhs: 650960415795, expected: 650960415795},
        TestCaseTwoArgs{lhs: 1075042890228, rhs: 527906289455, expected: 1075042890228},
        TestCaseTwoArgs{lhs: 786032515773, rhs: 860162990258, expected: 860162990258},
        TestCaseTwoArgs{lhs: 872600175462, rhs: 971656543356, expected: 971656543356},
        TestCaseTwoArgs{lhs: 195280925384, rhs: 275860371413, expected: 275860371413},
        TestCaseTwoArgs{lhs: 353887594466, rhs: 782371608969, expected: 782371608969},
        TestCaseTwoArgs{lhs: 307927923474, rhs: 589947776849, expected: 589947776849},
        TestCaseTwoArgs{lhs: 100767561300, rhs: 1051054298151, expected: 1051054298151},
        TestCaseTwoArgs{lhs: 615727679620, rhs: 1050665015002, expected: 1050665015002},
        TestCaseTwoArgs{lhs: 286490642037, rhs: 1046466461994, expected: 1046466461994},
        TestCaseTwoArgs{lhs: 54079846859, rhs: 567402836318, expected: 567402836318},
        TestCaseTwoArgs{lhs: 135796317609, rhs: 83373172948, expected: 135796317609},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 1099511627775, expected: 1099511627775},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 0, expected: 1099511627775},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 1099511627775, expected: 1099511627775},
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            assert_eq!(__llvm_umax_n_n_n(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
