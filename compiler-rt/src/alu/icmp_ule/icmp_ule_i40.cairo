use crate::alu::icmp_ule::icmp_ule;
use crate::integer::u40::u40;

pub fn __llvm_icmp_ule_n_n_c(lhs: u128, rhs: u128) -> u128 {
    icmp_ule::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_icmp_ule_n_n_c;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 204] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 858845155604, rhs: 935882674674, expected: 1},
        TestCaseTwoArgs{lhs: 311578279936, rhs: 945669725726, expected: 1},
        TestCaseTwoArgs{lhs: 1046759502910, rhs: 464562491611, expected: 0},
        TestCaseTwoArgs{lhs: 322559230420, rhs: 323697678546, expected: 1},
        TestCaseTwoArgs{lhs: 264785984785, rhs: 12120212124, expected: 0},
        TestCaseTwoArgs{lhs: 214771099288, rhs: 244805262027, expected: 1},
        TestCaseTwoArgs{lhs: 1020407575926, rhs: 212493852792, expected: 0},
        TestCaseTwoArgs{lhs: 812043612696, rhs: 327866000803, expected: 0},
        TestCaseTwoArgs{lhs: 897594359241, rhs: 394304761702, expected: 0},
        TestCaseTwoArgs{lhs: 1007086735834, rhs: 1016726076851, expected: 1},
        TestCaseTwoArgs{lhs: 163629907547, rhs: 820017350299, expected: 1},
        TestCaseTwoArgs{lhs: 667564959364, rhs: 484211389883, expected: 0},
        TestCaseTwoArgs{lhs: 577240083565, rhs: 878964500136, expected: 1},
        TestCaseTwoArgs{lhs: 580180994154, rhs: 10584451169, expected: 0},
        TestCaseTwoArgs{lhs: 376556361544, rhs: 255015923810, expected: 0},
        TestCaseTwoArgs{lhs: 370509391389, rhs: 468584002041, expected: 1},
        TestCaseTwoArgs{lhs: 698527492374, rhs: 1076796417524, expected: 1},
        TestCaseTwoArgs{lhs: 749834962664, rhs: 202933063294, expected: 0},
        TestCaseTwoArgs{lhs: 836537720432, rhs: 450872548345, expected: 0},
        TestCaseTwoArgs{lhs: 594646464692, rhs: 185291839913, expected: 0},
        TestCaseTwoArgs{lhs: 1041514848468, rhs: 983158882299, expected: 0},
        TestCaseTwoArgs{lhs: 413872604949, rhs: 729079963293, expected: 1},
        TestCaseTwoArgs{lhs: 987676710519, rhs: 846827498902, expected: 0},
        TestCaseTwoArgs{lhs: 379772726106, rhs: 513803532611, expected: 1},
        TestCaseTwoArgs{lhs: 648309412407, rhs: 799061282811, expected: 1},
        TestCaseTwoArgs{lhs: 578351870250, rhs: 962430501689, expected: 1},
        TestCaseTwoArgs{lhs: 400760819638, rhs: 705646462132, expected: 1},
        TestCaseTwoArgs{lhs: 1052942863836, rhs: 1094934632957, expected: 1},
        TestCaseTwoArgs{lhs: 261726356672, rhs: 986213288237, expected: 1},
        TestCaseTwoArgs{lhs: 1078923417226, rhs: 131011001806, expected: 0},
        TestCaseTwoArgs{lhs: 727674008379, rhs: 779425696427, expected: 1},
        TestCaseTwoArgs{lhs: 700361737264, rhs: 32814010206, expected: 0},
        TestCaseTwoArgs{lhs: 799504537354, rhs: 415676525832, expected: 0},
        TestCaseTwoArgs{lhs: 493950975923, rhs: 378075028867, expected: 0},
        TestCaseTwoArgs{lhs: 348625238017, rhs: 1016973710137, expected: 1},
        TestCaseTwoArgs{lhs: 406121749536, rhs: 540977354102, expected: 1},
        TestCaseTwoArgs{lhs: 611964826325, rhs: 260262896463, expected: 0},
        TestCaseTwoArgs{lhs: 220372136032, rhs: 469903745387, expected: 1},
        TestCaseTwoArgs{lhs: 609733502143, rhs: 541632753130, expected: 0},
        TestCaseTwoArgs{lhs: 739504078186, rhs: 86275381417, expected: 0},
        TestCaseTwoArgs{lhs: 139645804412, rhs: 170848631009, expected: 1},
        TestCaseTwoArgs{lhs: 716141973618, rhs: 538065941361, expected: 0},
        TestCaseTwoArgs{lhs: 717398341824, rhs: 753192594507, expected: 1},
        TestCaseTwoArgs{lhs: 617548685917, rhs: 884070896352, expected: 1},
        TestCaseTwoArgs{lhs: 1088091247682, rhs: 968566004771, expected: 0},
        TestCaseTwoArgs{lhs: 688392300247, rhs: 515314474444, expected: 0},
        TestCaseTwoArgs{lhs: 1045482323337, rhs: 954024079469, expected: 0},
        TestCaseTwoArgs{lhs: 272989381489, rhs: 313947847091, expected: 1},
        TestCaseTwoArgs{lhs: 335417739266, rhs: 899226529949, expected: 1},
        TestCaseTwoArgs{lhs: 263996212712, rhs: 504761840961, expected: 1},
        TestCaseTwoArgs{lhs: 166287436314, rhs: 1013711466302, expected: 1},
        TestCaseTwoArgs{lhs: 391911191666, rhs: 488679464137, expected: 1},
        TestCaseTwoArgs{lhs: 71783585033, rhs: 75826814197, expected: 1},
        TestCaseTwoArgs{lhs: 413687503941, rhs: 99768754884, expected: 0},
        TestCaseTwoArgs{lhs: 389387232675, rhs: 413153181091, expected: 1},
        TestCaseTwoArgs{lhs: 186678347223, rhs: 193356350969, expected: 1},
        TestCaseTwoArgs{lhs: 249227505549, rhs: 855747527945, expected: 1},
        TestCaseTwoArgs{lhs: 512957956238, rhs: 100697623666, expected: 0},
        TestCaseTwoArgs{lhs: 1090702534929, rhs: 1063609452653, expected: 0},
        TestCaseTwoArgs{lhs: 343988890954, rhs: 1001659876704, expected: 1},
        TestCaseTwoArgs{lhs: 918086477171, rhs: 927420696881, expected: 1},
        TestCaseTwoArgs{lhs: 559093848037, rhs: 170406816697, expected: 0},
        TestCaseTwoArgs{lhs: 604355658794, rhs: 261220123508, expected: 0},
        TestCaseTwoArgs{lhs: 706067889084, rhs: 589065053481, expected: 0},
        TestCaseTwoArgs{lhs: 999090927316, rhs: 239034705875, expected: 0},
        TestCaseTwoArgs{lhs: 37001247496, rhs: 226872597495, expected: 1},
        TestCaseTwoArgs{lhs: 875101176488, rhs: 380406863271, expected: 0},
        TestCaseTwoArgs{lhs: 7850363768, rhs: 606749196491, expected: 1},
        TestCaseTwoArgs{lhs: 123015795966, rhs: 295300926756, expected: 1},
        TestCaseTwoArgs{lhs: 496351207496, rhs: 155023554242, expected: 0},
        TestCaseTwoArgs{lhs: 903628788537, rhs: 215121422157, expected: 0},
        TestCaseTwoArgs{lhs: 1099433547567, rhs: 335091084663, expected: 0},
        TestCaseTwoArgs{lhs: 199848941617, rhs: 302218134642, expected: 1},
        TestCaseTwoArgs{lhs: 991628255333, rhs: 6554537309, expected: 0},
        TestCaseTwoArgs{lhs: 205231279784, rhs: 127138434657, expected: 0},
        TestCaseTwoArgs{lhs: 601480400528, rhs: 517545587364, expected: 0},
        TestCaseTwoArgs{lhs: 101301388590, rhs: 606595075466, expected: 1},
        TestCaseTwoArgs{lhs: 292779933708, rhs: 10684696569, expected: 0},
        TestCaseTwoArgs{lhs: 434244879069, rhs: 586781821759, expected: 1},
        TestCaseTwoArgs{lhs: 1083145054450, rhs: 1014322687142, expected: 0},
        TestCaseTwoArgs{lhs: 359085562569, rhs: 944979112061, expected: 1},
        TestCaseTwoArgs{lhs: 532844755024, rhs: 823749428775, expected: 1},
        TestCaseTwoArgs{lhs: 908367467111, rhs: 80491926678, expected: 0},
        TestCaseTwoArgs{lhs: 145170925126, rhs: 1077518101823, expected: 1},
        TestCaseTwoArgs{lhs: 611175116381, rhs: 257607086743, expected: 0},
        TestCaseTwoArgs{lhs: 994487694779, rhs: 810938430443, expected: 0},
        TestCaseTwoArgs{lhs: 347444715958, rhs: 317083462036, expected: 0},
        TestCaseTwoArgs{lhs: 1076272993934, rhs: 613270333001, expected: 0},
        TestCaseTwoArgs{lhs: 597873865119, rhs: 756450183922, expected: 1},
        TestCaseTwoArgs{lhs: 1001131372435, rhs: 417261561097, expected: 0},
        TestCaseTwoArgs{lhs: 947823065879, rhs: 367554730525, expected: 0},
        TestCaseTwoArgs{lhs: 1001165135893, rhs: 70339089906, expected: 0},
        TestCaseTwoArgs{lhs: 280434920659, rhs: 634616013848, expected: 1},
        TestCaseTwoArgs{lhs: 902644861837, rhs: 644200018154, expected: 0},
        TestCaseTwoArgs{lhs: 691781128392, rhs: 499321754038, expected: 0},
        TestCaseTwoArgs{lhs: 647505577567, rhs: 742430895628, expected: 1},
        TestCaseTwoArgs{lhs: 271086108242, rhs: 316144703128, expected: 1},
        TestCaseTwoArgs{lhs: 705439962686, rhs: 182071877224, expected: 0},
        TestCaseTwoArgs{lhs: 412279404726, rhs: 1027003569873, expected: 1},
        TestCaseTwoArgs{lhs: 909918927638, rhs: 384316911370, expected: 0},
        TestCaseTwoArgs{lhs: 274289323889, rhs: 1069304557367, expected: 1},
        TestCaseTwoArgs{lhs: 443279712826, rhs: 348379817168, expected: 0},
        TestCaseTwoArgs{lhs: 625829173223, rhs: 379980564120, expected: 0},
        TestCaseTwoArgs{lhs: 89469344688, rhs: 553405009607, expected: 1},
        TestCaseTwoArgs{lhs: 193866698498, rhs: 932405141360, expected: 1},
        TestCaseTwoArgs{lhs: 1033084473290, rhs: 446859661582, expected: 0},
        TestCaseTwoArgs{lhs: 1046672088279, rhs: 392210126624, expected: 0},
        TestCaseTwoArgs{lhs: 937931556877, rhs: 298005572925, expected: 0},
        TestCaseTwoArgs{lhs: 192699209535, rhs: 712703501616, expected: 1},
        TestCaseTwoArgs{lhs: 501351701528, rhs: 222364515272, expected: 0},
        TestCaseTwoArgs{lhs: 630569101642, rhs: 794862210983, expected: 1},
        TestCaseTwoArgs{lhs: 862929709977, rhs: 337435021290, expected: 0},
        TestCaseTwoArgs{lhs: 192780432666, rhs: 504104122272, expected: 1},
        TestCaseTwoArgs{lhs: 497015101596, rhs: 619702839202, expected: 1},
        TestCaseTwoArgs{lhs: 321693322841, rhs: 144113017002, expected: 0},
        TestCaseTwoArgs{lhs: 10068047294, rhs: 28331689534, expected: 1},
        TestCaseTwoArgs{lhs: 844192209962, rhs: 247943589116, expected: 0},
        TestCaseTwoArgs{lhs: 949715081303, rhs: 459952768352, expected: 0},
        TestCaseTwoArgs{lhs: 827013046804, rhs: 857736196549, expected: 1},
        TestCaseTwoArgs{lhs: 567200399159, rhs: 1080259932902, expected: 1},
        TestCaseTwoArgs{lhs: 764054632616, rhs: 551666715737, expected: 0},
        TestCaseTwoArgs{lhs: 458132946624, rhs: 161715013419, expected: 0},
        TestCaseTwoArgs{lhs: 793528977289, rhs: 1053398769089, expected: 1},
        TestCaseTwoArgs{lhs: 406972557681, rhs: 368647374771, expected: 0},
        TestCaseTwoArgs{lhs: 581145439219, rhs: 308148207949, expected: 0},
        TestCaseTwoArgs{lhs: 313501041515, rhs: 793828019464, expected: 1},
        TestCaseTwoArgs{lhs: 1037367312616, rhs: 851882416238, expected: 0},
        TestCaseTwoArgs{lhs: 1034942528647, rhs: 538429060870, expected: 0},
        TestCaseTwoArgs{lhs: 525517034848, rhs: 374983515911, expected: 0},
        TestCaseTwoArgs{lhs: 1040890678261, rhs: 252343295033, expected: 0},
        TestCaseTwoArgs{lhs: 911606203657, rhs: 910068203030, expected: 0},
        TestCaseTwoArgs{lhs: 273036030865, rhs: 823196917057, expected: 1},
        TestCaseTwoArgs{lhs: 157632091704, rhs: 1012541979420, expected: 1},
        TestCaseTwoArgs{lhs: 882893928242, rhs: 474086386259, expected: 0},
        TestCaseTwoArgs{lhs: 738157766186, rhs: 29260948382, expected: 0},
        TestCaseTwoArgs{lhs: 531067330311, rhs: 471324738659, expected: 0},
        TestCaseTwoArgs{lhs: 1028820286056, rhs: 716702256281, expected: 0},
        TestCaseTwoArgs{lhs: 804671284919, rhs: 186908181944, expected: 0},
        TestCaseTwoArgs{lhs: 974883102659, rhs: 470625346861, expected: 0},
        TestCaseTwoArgs{lhs: 468216915786, rhs: 99254050046, expected: 0},
        TestCaseTwoArgs{lhs: 965568158861, rhs: 281283539522, expected: 0},
        TestCaseTwoArgs{lhs: 31464574336, rhs: 456342811917, expected: 1},
        TestCaseTwoArgs{lhs: 891156388394, rhs: 385839840690, expected: 0},
        TestCaseTwoArgs{lhs: 1097377423451, rhs: 324150984027, expected: 0},
        TestCaseTwoArgs{lhs: 709805787213, rhs: 119482187455, expected: 0},
        TestCaseTwoArgs{lhs: 1063341278729, rhs: 413080462562, expected: 0},
        TestCaseTwoArgs{lhs: 24434379042, rhs: 90465321025, expected: 1},
        TestCaseTwoArgs{lhs: 355287554573, rhs: 742352861338, expected: 1},
        TestCaseTwoArgs{lhs: 926288229414, rhs: 532730243393, expected: 0},
        TestCaseTwoArgs{lhs: 574192587538, rhs: 964454721473, expected: 1},
        TestCaseTwoArgs{lhs: 216173936925, rhs: 168991433662, expected: 0},
        TestCaseTwoArgs{lhs: 491131672674, rhs: 565813847858, expected: 1},
        TestCaseTwoArgs{lhs: 1017499682980, rhs: 58177399871, expected: 0},
        TestCaseTwoArgs{lhs: 1046279694324, rhs: 540820974781, expected: 0},
        TestCaseTwoArgs{lhs: 795808062669, rhs: 895134510318, expected: 1},
        TestCaseTwoArgs{lhs: 380208878067, rhs: 642812856206, expected: 1},
        TestCaseTwoArgs{lhs: 117628085558, rhs: 418472683141, expected: 1},
        TestCaseTwoArgs{lhs: 96306797502, rhs: 484641363570, expected: 1},
        TestCaseTwoArgs{lhs: 999025701767, rhs: 595676669574, expected: 0},
        TestCaseTwoArgs{lhs: 824983550215, rhs: 448175318584, expected: 0},
        TestCaseTwoArgs{lhs: 615966369112, rhs: 31252705696, expected: 0},
        TestCaseTwoArgs{lhs: 398525624744, rhs: 347630923063, expected: 0},
        TestCaseTwoArgs{lhs: 363362211601, rhs: 763177074622, expected: 1},
        TestCaseTwoArgs{lhs: 960289084584, rhs: 760661961618, expected: 0},
        TestCaseTwoArgs{lhs: 989935867222, rhs: 659599487008, expected: 0},
        TestCaseTwoArgs{lhs: 297063668619, rhs: 513098523201, expected: 1},
        TestCaseTwoArgs{lhs: 53088523120, rhs: 309222908472, expected: 1},
        TestCaseTwoArgs{lhs: 19699214236, rhs: 571187043143, expected: 1},
        TestCaseTwoArgs{lhs: 110652273548, rhs: 294527704638, expected: 1},
        TestCaseTwoArgs{lhs: 1063724733343, rhs: 21703229118, expected: 0},
        TestCaseTwoArgs{lhs: 701363209980, rhs: 995771935657, expected: 1},
        TestCaseTwoArgs{lhs: 351877561550, rhs: 181507470078, expected: 0},
        TestCaseTwoArgs{lhs: 446074112705, rhs: 448192071944, expected: 1},
        TestCaseTwoArgs{lhs: 202073258770, rhs: 346858947701, expected: 1},
        TestCaseTwoArgs{lhs: 273733220682, rhs: 369959630966, expected: 1},
        TestCaseTwoArgs{lhs: 183913062982, rhs: 405902853845, expected: 1},
        TestCaseTwoArgs{lhs: 843580524977, rhs: 647059276886, expected: 0},
        TestCaseTwoArgs{lhs: 636609686865, rhs: 874997269531, expected: 1},
        TestCaseTwoArgs{lhs: 100528438723, rhs: 643337554660, expected: 1},
        TestCaseTwoArgs{lhs: 218778457397, rhs: 440845506369, expected: 1},
        TestCaseTwoArgs{lhs: 667332087169, rhs: 212334446721, expected: 0},
        TestCaseTwoArgs{lhs: 301012468031, rhs: 28082230287, expected: 0},
        TestCaseTwoArgs{lhs: 1033212141149, rhs: 6359067948, expected: 0},
        TestCaseTwoArgs{lhs: 75307379342, rhs: 41391379648, expected: 0},
        TestCaseTwoArgs{lhs: 160077487713, rhs: 966605615299, expected: 1},
        TestCaseTwoArgs{lhs: 694208600282, rhs: 686787119948, expected: 0},
        TestCaseTwoArgs{lhs: 335585065433, rhs: 302080543534, expected: 0},
        TestCaseTwoArgs{lhs: 253025393607, rhs: 244183938009, expected: 0},
        TestCaseTwoArgs{lhs: 58113508970, rhs: 1063209468301, expected: 1},
        TestCaseTwoArgs{lhs: 429084971019, rhs: 992019935483, expected: 1},
        TestCaseTwoArgs{lhs: 114435272388, rhs: 15652525643, expected: 0},
        TestCaseTwoArgs{lhs: 186531267377, rhs: 812319929783, expected: 1},
        TestCaseTwoArgs{lhs: 385371325484, rhs: 959431662598, expected: 1},
        TestCaseTwoArgs{lhs: 848385616446, rhs: 496662697001, expected: 0},
        TestCaseTwoArgs{lhs: 342680229924, rhs: 689767549377, expected: 1},
        TestCaseTwoArgs{lhs: 58295439875, rhs: 1034044037733, expected: 1},
        TestCaseTwoArgs{lhs: 226592017011, rhs: 26507053371, expected: 0},
        TestCaseTwoArgs{lhs: 21566357698, rhs: 719659333047, expected: 1},
        TestCaseTwoArgs{lhs: 370957156468, rhs: 509559908068, expected: 1},
        TestCaseTwoArgs{lhs: 898459095696, rhs: 639296275082, expected: 0},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 1},
        TestCaseTwoArgs{lhs: 0, rhs: 1099511627775, expected: 1},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 1099511627775, expected: 1},
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            assert_eq!(__llvm_icmp_ule_n_n_c(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
