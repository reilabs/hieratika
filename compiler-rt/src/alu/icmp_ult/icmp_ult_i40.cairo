use crate::rtstate::RTState;
use crate::alu::icmp_ult::icmp_ult;
use crate::integer::u40::u40;

pub fn __llvm_icmp_ult_n_n_c(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    icmp_ult::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_icmp_ult_n_n_c;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 204] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 274165829530, rhs: 1080102646561, expected: 1},
        TestCaseTwoArgs{lhs: 82687940021, rhs: 346237855529, expected: 1},
        TestCaseTwoArgs{lhs: 1033484112949, rhs: 670070677413, expected: 0},
        TestCaseTwoArgs{lhs: 84175505624, rhs: 338210431829, expected: 1},
        TestCaseTwoArgs{lhs: 282030630141, rhs: 908178717362, expected: 1},
        TestCaseTwoArgs{lhs: 378591748342, rhs: 62450595478, expected: 0},
        TestCaseTwoArgs{lhs: 291245373227, rhs: 1037463314130, expected: 1},
        TestCaseTwoArgs{lhs: 925277656639, rhs: 29341481191, expected: 0},
        TestCaseTwoArgs{lhs: 964743464085, rhs: 714214996361, expected: 0},
        TestCaseTwoArgs{lhs: 974385878931, rhs: 384087623255, expected: 0},
        TestCaseTwoArgs{lhs: 380807973611, rhs: 824682055974, expected: 1},
        TestCaseTwoArgs{lhs: 626304006017, rhs: 524622612055, expected: 0},
        TestCaseTwoArgs{lhs: 209218516922, rhs: 749385620995, expected: 1},
        TestCaseTwoArgs{lhs: 1041507151396, rhs: 464454499219, expected: 0},
        TestCaseTwoArgs{lhs: 1027928047755, rhs: 760864074108, expected: 0},
        TestCaseTwoArgs{lhs: 659788705278, rhs: 163138959266, expected: 0},
        TestCaseTwoArgs{lhs: 278931402853, rhs: 973066870875, expected: 1},
        TestCaseTwoArgs{lhs: 923073224531, rhs: 914365750423, expected: 0},
        TestCaseTwoArgs{lhs: 1093611562620, rhs: 490843671708, expected: 0},
        TestCaseTwoArgs{lhs: 806210168290, rhs: 927272280223, expected: 1},
        TestCaseTwoArgs{lhs: 737807358816, rhs: 538830173246, expected: 0},
        TestCaseTwoArgs{lhs: 419881208611, rhs: 471308750056, expected: 1},
        TestCaseTwoArgs{lhs: 763412274108, rhs: 531863927095, expected: 0},
        TestCaseTwoArgs{lhs: 438153105191, rhs: 285799950646, expected: 0},
        TestCaseTwoArgs{lhs: 34237357854, rhs: 523554515658, expected: 1},
        TestCaseTwoArgs{lhs: 207852977162, rhs: 572196360754, expected: 1},
        TestCaseTwoArgs{lhs: 981530042646, rhs: 1035520156964, expected: 1},
        TestCaseTwoArgs{lhs: 882129357123, rhs: 211358994721, expected: 0},
        TestCaseTwoArgs{lhs: 703975355507, rhs: 479900468967, expected: 0},
        TestCaseTwoArgs{lhs: 326791898783, rhs: 666329419493, expected: 1},
        TestCaseTwoArgs{lhs: 1001506122922, rhs: 1061467094951, expected: 1},
        TestCaseTwoArgs{lhs: 533628060189, rhs: 1070379429629, expected: 1},
        TestCaseTwoArgs{lhs: 7294547529, rhs: 344761939504, expected: 1},
        TestCaseTwoArgs{lhs: 422850537276, rhs: 195635680104, expected: 0},
        TestCaseTwoArgs{lhs: 38222515061, rhs: 622551470009, expected: 1},
        TestCaseTwoArgs{lhs: 353151047746, rhs: 179472188613, expected: 0},
        TestCaseTwoArgs{lhs: 689283289206, rhs: 833296190193, expected: 1},
        TestCaseTwoArgs{lhs: 1066472840668, rhs: 38344303850, expected: 0},
        TestCaseTwoArgs{lhs: 758987893542, rhs: 792177684684, expected: 1},
        TestCaseTwoArgs{lhs: 129963896316, rhs: 286523675851, expected: 1},
        TestCaseTwoArgs{lhs: 226356087176, rhs: 483470378538, expected: 1},
        TestCaseTwoArgs{lhs: 625119077155, rhs: 793104417728, expected: 1},
        TestCaseTwoArgs{lhs: 820854857124, rhs: 917683044441, expected: 1},
        TestCaseTwoArgs{lhs: 729334545091, rhs: 1085630284682, expected: 1},
        TestCaseTwoArgs{lhs: 82822573568, rhs: 671516793732, expected: 1},
        TestCaseTwoArgs{lhs: 849793935678, rhs: 100081697423, expected: 0},
        TestCaseTwoArgs{lhs: 207649883690, rhs: 939548215239, expected: 1},
        TestCaseTwoArgs{lhs: 995603466217, rhs: 662183631619, expected: 0},
        TestCaseTwoArgs{lhs: 744018160751, rhs: 764021973513, expected: 1},
        TestCaseTwoArgs{lhs: 919511108736, rhs: 1012496338039, expected: 1},
        TestCaseTwoArgs{lhs: 105156988794, rhs: 760521024221, expected: 1},
        TestCaseTwoArgs{lhs: 942621771234, rhs: 640810041452, expected: 0},
        TestCaseTwoArgs{lhs: 558874676461, rhs: 492584552597, expected: 0},
        TestCaseTwoArgs{lhs: 411242706472, rhs: 1029646931642, expected: 1},
        TestCaseTwoArgs{lhs: 815199479702, rhs: 1071389587381, expected: 1},
        TestCaseTwoArgs{lhs: 341548504772, rhs: 663026006406, expected: 1},
        TestCaseTwoArgs{lhs: 673764313780, rhs: 1001476272320, expected: 1},
        TestCaseTwoArgs{lhs: 119651602125, rhs: 845475781732, expected: 1},
        TestCaseTwoArgs{lhs: 585422393450, rhs: 751857571014, expected: 1},
        TestCaseTwoArgs{lhs: 679826721988, rhs: 372795348268, expected: 0},
        TestCaseTwoArgs{lhs: 567086154860, rhs: 447179320540, expected: 0},
        TestCaseTwoArgs{lhs: 776565685485, rhs: 966384160203, expected: 1},
        TestCaseTwoArgs{lhs: 442191697046, rhs: 1039238099379, expected: 1},
        TestCaseTwoArgs{lhs: 667925918024, rhs: 770542533143, expected: 1},
        TestCaseTwoArgs{lhs: 736098011023, rhs: 174279325441, expected: 0},
        TestCaseTwoArgs{lhs: 475086872478, rhs: 416660311046, expected: 0},
        TestCaseTwoArgs{lhs: 119429993547, rhs: 188687506220, expected: 1},
        TestCaseTwoArgs{lhs: 224668141889, rhs: 662815965605, expected: 1},
        TestCaseTwoArgs{lhs: 73373303761, rhs: 275918021126, expected: 1},
        TestCaseTwoArgs{lhs: 748706627868, rhs: 368231696595, expected: 0},
        TestCaseTwoArgs{lhs: 42758268919, rhs: 997359441375, expected: 1},
        TestCaseTwoArgs{lhs: 472997027561, rhs: 1024388166622, expected: 1},
        TestCaseTwoArgs{lhs: 272745657398, rhs: 46310675850, expected: 0},
        TestCaseTwoArgs{lhs: 223629855027, rhs: 18972552246, expected: 0},
        TestCaseTwoArgs{lhs: 807808974064, rhs: 464385754469, expected: 0},
        TestCaseTwoArgs{lhs: 594915887695, rhs: 215130941401, expected: 0},
        TestCaseTwoArgs{lhs: 1092358432983, rhs: 111195366012, expected: 0},
        TestCaseTwoArgs{lhs: 691180424811, rhs: 241960198737, expected: 0},
        TestCaseTwoArgs{lhs: 488640585280, rhs: 902571179912, expected: 1},
        TestCaseTwoArgs{lhs: 1064275863510, rhs: 369386999480, expected: 0},
        TestCaseTwoArgs{lhs: 773193431565, rhs: 684239647455, expected: 0},
        TestCaseTwoArgs{lhs: 651639974368, rhs: 166093785312, expected: 0},
        TestCaseTwoArgs{lhs: 371604463444, rhs: 664582890979, expected: 1},
        TestCaseTwoArgs{lhs: 751566482674, rhs: 892005886440, expected: 1},
        TestCaseTwoArgs{lhs: 74213506597, rhs: 890746768042, expected: 1},
        TestCaseTwoArgs{lhs: 34348117216, rhs: 999417785813, expected: 1},
        TestCaseTwoArgs{lhs: 301941242980, rhs: 528176132911, expected: 1},
        TestCaseTwoArgs{lhs: 524883722416, rhs: 539681854324, expected: 1},
        TestCaseTwoArgs{lhs: 733629416097, rhs: 52655633828, expected: 0},
        TestCaseTwoArgs{lhs: 555813986684, rhs: 999213442560, expected: 1},
        TestCaseTwoArgs{lhs: 864620093052, rhs: 645011785315, expected: 0},
        TestCaseTwoArgs{lhs: 948092877650, rhs: 272742900141, expected: 0},
        TestCaseTwoArgs{lhs: 1031924766747, rhs: 1077550676499, expected: 1},
        TestCaseTwoArgs{lhs: 306280084050, rhs: 237054999412, expected: 0},
        TestCaseTwoArgs{lhs: 738477254496, rhs: 1041622411284, expected: 1},
        TestCaseTwoArgs{lhs: 50123260151, rhs: 995316796345, expected: 1},
        TestCaseTwoArgs{lhs: 1060119010766, rhs: 170790416365, expected: 0},
        TestCaseTwoArgs{lhs: 87796042594, rhs: 693517236125, expected: 1},
        TestCaseTwoArgs{lhs: 804720566357, rhs: 1079762181303, expected: 1},
        TestCaseTwoArgs{lhs: 280671607420, rhs: 415102940064, expected: 1},
        TestCaseTwoArgs{lhs: 1097190550041, rhs: 537725717952, expected: 0},
        TestCaseTwoArgs{lhs: 110422509181, rhs: 591499808921, expected: 1},
        TestCaseTwoArgs{lhs: 1040441591486, rhs: 706893241416, expected: 0},
        TestCaseTwoArgs{lhs: 623822311704, rhs: 585279259270, expected: 0},
        TestCaseTwoArgs{lhs: 689870893018, rhs: 50392616803, expected: 0},
        TestCaseTwoArgs{lhs: 686340575041, rhs: 959901709422, expected: 1},
        TestCaseTwoArgs{lhs: 376809230518, rhs: 139307160734, expected: 0},
        TestCaseTwoArgs{lhs: 592882562173, rhs: 141206377870, expected: 0},
        TestCaseTwoArgs{lhs: 500497784627, rhs: 1000952739200, expected: 1},
        TestCaseTwoArgs{lhs: 668412660180, rhs: 1002898113318, expected: 1},
        TestCaseTwoArgs{lhs: 1026267458200, rhs: 663282077249, expected: 0},
        TestCaseTwoArgs{lhs: 270505477667, rhs: 918303654078, expected: 1},
        TestCaseTwoArgs{lhs: 917163236387, rhs: 481785525180, expected: 0},
        TestCaseTwoArgs{lhs: 249950672816, rhs: 452831296883, expected: 1},
        TestCaseTwoArgs{lhs: 561586131694, rhs: 830519658291, expected: 1},
        TestCaseTwoArgs{lhs: 207404260692, rhs: 343211994242, expected: 1},
        TestCaseTwoArgs{lhs: 660194676457, rhs: 355389189548, expected: 0},
        TestCaseTwoArgs{lhs: 681808385833, rhs: 597072198662, expected: 0},
        TestCaseTwoArgs{lhs: 666284928339, rhs: 814694583358, expected: 1},
        TestCaseTwoArgs{lhs: 447563389914, rhs: 221391044443, expected: 0},
        TestCaseTwoArgs{lhs: 477562935240, rhs: 1033922772835, expected: 1},
        TestCaseTwoArgs{lhs: 1055734027403, rhs: 530330730071, expected: 0},
        TestCaseTwoArgs{lhs: 376797970619, rhs: 892217422306, expected: 1},
        TestCaseTwoArgs{lhs: 874692958203, rhs: 612622699324, expected: 0},
        TestCaseTwoArgs{lhs: 906950711164, rhs: 348604557092, expected: 0},
        TestCaseTwoArgs{lhs: 1092503755938, rhs: 273142955931, expected: 0},
        TestCaseTwoArgs{lhs: 465612321472, rhs: 124112478186, expected: 0},
        TestCaseTwoArgs{lhs: 704207876071, rhs: 345617806162, expected: 0},
        TestCaseTwoArgs{lhs: 437395286093, rhs: 657491512759, expected: 1},
        TestCaseTwoArgs{lhs: 1068375191339, rhs: 1034182279722, expected: 0},
        TestCaseTwoArgs{lhs: 817314887580, rhs: 887080131683, expected: 1},
        TestCaseTwoArgs{lhs: 431823264913, rhs: 726309082429, expected: 1},
        TestCaseTwoArgs{lhs: 48555248058, rhs: 1073175408371, expected: 1},
        TestCaseTwoArgs{lhs: 1095982229092, rhs: 174226181725, expected: 0},
        TestCaseTwoArgs{lhs: 925509733147, rhs: 876266240706, expected: 0},
        TestCaseTwoArgs{lhs: 279890716050, rhs: 335647712534, expected: 1},
        TestCaseTwoArgs{lhs: 506982676819, rhs: 574842489237, expected: 1},
        TestCaseTwoArgs{lhs: 53437906631, rhs: 1039913435290, expected: 1},
        TestCaseTwoArgs{lhs: 327068610447, rhs: 76662801446, expected: 0},
        TestCaseTwoArgs{lhs: 445279740573, rhs: 509383831543, expected: 1},
        TestCaseTwoArgs{lhs: 34412105345, rhs: 450735709699, expected: 1},
        TestCaseTwoArgs{lhs: 682235309554, rhs: 804343984497, expected: 1},
        TestCaseTwoArgs{lhs: 14753371897, rhs: 823485545781, expected: 1},
        TestCaseTwoArgs{lhs: 1088488127477, rhs: 637566389277, expected: 0},
        TestCaseTwoArgs{lhs: 277164711777, rhs: 926607798247, expected: 1},
        TestCaseTwoArgs{lhs: 422716776251, rhs: 221957661238, expected: 0},
        TestCaseTwoArgs{lhs: 152153568762, rhs: 248725513159, expected: 1},
        TestCaseTwoArgs{lhs: 673176080774, rhs: 21530335833, expected: 0},
        TestCaseTwoArgs{lhs: 778448364902, rhs: 641321995309, expected: 0},
        TestCaseTwoArgs{lhs: 651662105021, rhs: 814307431481, expected: 1},
        TestCaseTwoArgs{lhs: 702667940784, rhs: 164133652619, expected: 0},
        TestCaseTwoArgs{lhs: 809887428752, rhs: 793936430347, expected: 0},
        TestCaseTwoArgs{lhs: 67441534698, rhs: 61002369451, expected: 0},
        TestCaseTwoArgs{lhs: 515772726317, rhs: 512634040502, expected: 0},
        TestCaseTwoArgs{lhs: 464146784248, rhs: 252364560657, expected: 0},
        TestCaseTwoArgs{lhs: 525669219315, rhs: 854828553948, expected: 1},
        TestCaseTwoArgs{lhs: 93870337617, rhs: 290770302528, expected: 1},
        TestCaseTwoArgs{lhs: 802088003918, rhs: 313055272082, expected: 0},
        TestCaseTwoArgs{lhs: 953806446283, rhs: 177430226630, expected: 0},
        TestCaseTwoArgs{lhs: 775746613517, rhs: 630946173894, expected: 0},
        TestCaseTwoArgs{lhs: 979787869487, rhs: 88251268926, expected: 0},
        TestCaseTwoArgs{lhs: 523853095539, rhs: 535063410612, expected: 1},
        TestCaseTwoArgs{lhs: 282749086807, rhs: 1097374762539, expected: 1},
        TestCaseTwoArgs{lhs: 723813586765, rhs: 809328706762, expected: 1},
        TestCaseTwoArgs{lhs: 960520819566, rhs: 14864931872, expected: 0},
        TestCaseTwoArgs{lhs: 791394721560, rhs: 570194335780, expected: 0},
        TestCaseTwoArgs{lhs: 964601845877, rhs: 934083940817, expected: 0},
        TestCaseTwoArgs{lhs: 586460238217, rhs: 973380007899, expected: 1},
        TestCaseTwoArgs{lhs: 525294165327, rhs: 522327647407, expected: 0},
        TestCaseTwoArgs{lhs: 1036881725156, rhs: 659948965214, expected: 0},
        TestCaseTwoArgs{lhs: 380367714673, rhs: 1092048603018, expected: 1},
        TestCaseTwoArgs{lhs: 400989585181, rhs: 283010209629, expected: 0},
        TestCaseTwoArgs{lhs: 325184944990, rhs: 61863027471, expected: 0},
        TestCaseTwoArgs{lhs: 205445461745, rhs: 1010035323492, expected: 1},
        TestCaseTwoArgs{lhs: 5143376211, rhs: 1017716419934, expected: 1},
        TestCaseTwoArgs{lhs: 777207993827, rhs: 360258352291, expected: 0},
        TestCaseTwoArgs{lhs: 215158833444, rhs: 213579098729, expected: 0},
        TestCaseTwoArgs{lhs: 508797175530, rhs: 369436176300, expected: 0},
        TestCaseTwoArgs{lhs: 284803317262, rhs: 423636693849, expected: 1},
        TestCaseTwoArgs{lhs: 396896247564, rhs: 942009435465, expected: 1},
        TestCaseTwoArgs{lhs: 629404217242, rhs: 819283896580, expected: 1},
        TestCaseTwoArgs{lhs: 1090495884392, rhs: 375848397517, expected: 0},
        TestCaseTwoArgs{lhs: 49176544914, rhs: 641873384910, expected: 1},
        TestCaseTwoArgs{lhs: 1028329958377, rhs: 736488780097, expected: 0},
        TestCaseTwoArgs{lhs: 402262985001, rhs: 5420711715, expected: 0},
        TestCaseTwoArgs{lhs: 835486931891, rhs: 961013173193, expected: 1},
        TestCaseTwoArgs{lhs: 181108859979, rhs: 781396622871, expected: 1},
        TestCaseTwoArgs{lhs: 354281564460, rhs: 472324476795, expected: 1},
        TestCaseTwoArgs{lhs: 619443680332, rhs: 692662513105, expected: 1},
        TestCaseTwoArgs{lhs: 472070035830, rhs: 967959353958, expected: 1},
        TestCaseTwoArgs{lhs: 994687527697, rhs: 302987232636, expected: 0},
        TestCaseTwoArgs{lhs: 1075422963090, rhs: 412389926014, expected: 0},
        TestCaseTwoArgs{lhs: 87179389359, rhs: 77760296435, expected: 0},
        TestCaseTwoArgs{lhs: 25093004532, rhs: 862535207320, expected: 1},
        TestCaseTwoArgs{lhs: 174557113030, rhs: 151711091990, expected: 0},
        TestCaseTwoArgs{lhs: 658344989371, rhs: 223429236869, expected: 0},
        TestCaseTwoArgs{lhs: 222467675411, rhs: 531852433215, expected: 1},
        TestCaseTwoArgs{lhs: 514988681075, rhs: 887889941464, expected: 1},
        TestCaseTwoArgs{lhs: 330739721770, rhs: 715180298811, expected: 1},
        TestCaseTwoArgs{lhs: 981710447521, rhs: 672619627356, expected: 0},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 1099511627775, expected: 1},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 1099511627775, rhs: 1099511627775, expected: 0},
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_icmp_ult_n_n_c(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
