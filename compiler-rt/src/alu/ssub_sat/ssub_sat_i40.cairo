use crate::alu::ssub_sat::ssub_sat;
use crate::integer::u40::u40;

pub fn __llvm_ssub_sat_n_n_n(lhs: u128, rhs: u128) -> u128 {
    ssub_sat::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_ssub_sat_n_n_n;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 209] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 0b1111111000001110100111000011101001100101, rhs: 0b1000100011111010111001111101001000110110, expected: 502841763887}, // lhs = -8344815003 rhs = -511186578890
        TestCaseTwoArgs{lhs: 116252302942, rhs: 0b1101110100000000011100110000100000000111, expected: 266568619607}, // rhs = -150316316665
        TestCaseTwoArgs{lhs: 85387585218, rhs: 0b1011001010001110100100000000101101110101, expected: 418003229517}, // rhs = -332615644299
        TestCaseTwoArgs{lhs: 74440318446, rhs: 388634774996, expected: 785317171226},
        TestCaseTwoArgs{lhs: 0b1010111000110100111101001110111100010111, rhs: 460301062179, expected: 549755813888}, // lhs = -351298851049
        TestCaseTwoArgs{lhs: 0b1011100000101000011101011101111001010010, rhs: 450947332574, expected: 549755813888}, // lhs = -308558832046
        TestCaseTwoArgs{lhs: 429488891185, rhs: 0b1010101001101101011110000101001101011111, expected: 549755813887}, // rhs = -367530585249
        TestCaseTwoArgs{lhs: 429212345, rhs: 18102747020, expected: 1081838093101},
        TestCaseTwoArgs{lhs: 0b1001010110101001110000011100111110011000, rhs: 486510879307, expected: 549755813888}, // lhs = -456713449576
        TestCaseTwoArgs{lhs: 0b1100010100101100110001010011110101110111, rhs: 0b1010001001111111100110111101100110011100, expected: 148934058971}, // lhs = -252651946633 rhs = -401586005604
        TestCaseTwoArgs{lhs: 0b1000100010110000001111110000001001101101, rhs: 0b1101111001101011100001100111011010000001, expected: 731297385452}, // lhs = -512439156115 rhs = -144224913791
        TestCaseTwoArgs{lhs: 0b1000001110000010100011010110000000111011, rhs: 0b1111000000111001110001000111111111011111, expected: 632581316700}, // lhs = -534680608709 rhs = -67750297633
        TestCaseTwoArgs{lhs: 85392409666, rhs: 165273452206, expected: 1019630585236},
        TestCaseTwoArgs{lhs: 0b1100111011010100011001011111011100111100, rhs: 0b1001110010110000111010000011011101001010, expected: 215343808498}, // lhs = -211184912580 rhs = -426528721078
        TestCaseTwoArgs{lhs: 215584732271, rhs: 18260804252, expected: 197323928019},
        TestCaseTwoArgs{lhs: 0b1110011011010000110100100010010011100001, rhs: 477362553891, expected: 549755813888}, // lhs = -108165716767
        TestCaseTwoArgs{lhs: 425742265436, rhs: 0b1001111111010100100100101111000101111001, expected: 549755813887}, // rhs = -413045427847
        TestCaseTwoArgs{lhs: 0b1111100010111011101100111111111110001001, rhs: 323163466079, expected: 745137559082}, // lhs = -31210602615
        TestCaseTwoArgs{lhs: 0b1110001010001101011001111001011100000110, rhs: 465677372143, expected: 549755813888}, // lhs = -126476642554
        TestCaseTwoArgs{lhs: 0b1010101110001100000100001001101101000100, rhs: 254847706054, expected: 549755813888}, // lhs = -362722321596
        TestCaseTwoArgs{lhs: 0b1100100110001100011001011111000111101111, rhs: 399978960948, expected: 549755813888}, // lhs = -233867709969
        TestCaseTwoArgs{lhs: 66142029885, rhs: 0b1000010001111011111100001011100010010101, expected: 549755813887}, // rhs = -530496571243
        TestCaseTwoArgs{lhs: 121581238577, rhs: 185304596448, expected: 1035788269905},
        TestCaseTwoArgs{lhs: 0b1000100100100000010000101011100100100010, rhs: 0b1010100111011011111010101110010110111110, expected: 958924313444}, // lhs = -510559864542 rhs = -369972550210
        TestCaseTwoArgs{lhs: 0b1010111100100001110111110101000000110111, rhs: 0b1000000100100010101100011011011001100000, expected: 197554706903}, // lhs = -347324067785 rhs = -544878774688
        TestCaseTwoArgs{lhs: 0b1110110000010101000111101111001010110111, rhs: 0b1000011000110011010111010111111100000110, expected: 437579248561}, // lhs = -85544996169 rhs = -523124244730
        TestCaseTwoArgs{lhs: 0b1000011101101000011111110000100111101111, rhs: 297577285794, expected: 549755813888}, // lhs = -517937886737
        TestCaseTwoArgs{lhs: 405215452725, rhs: 0b1010101110111110000101000001101011100011, expected: 549755813887}, // rhs = -361883231517
        TestCaseTwoArgs{lhs: 35245216951, rhs: 0b1101010000100001111001101010010100011101, expected: 223655014298}, // rhs = -188409797347
        TestCaseTwoArgs{lhs: 132126753235, rhs: 0b1001011100010010010011001111110001110111, expected: 549755813887}, // rhs = -450664530825
        TestCaseTwoArgs{lhs: 395754399667, rhs: 104370856443, expected: 291383543224},
        TestCaseTwoArgs{lhs: 0b1110110110001111001011000101111111110100, rhs: 361926462837, expected: 658382836351}, // lhs = -79202328588
        TestCaseTwoArgs{lhs: 0b1000110101110100111101010011110100111011, rhs: 0b1101110010000100111100100001001101111111, expected: 759940983228}, // lhs = -491959009989 rhs = -152388365441
        TestCaseTwoArgs{lhs: 0b1001101011110010011000110101110100000000, rhs: 0b1110011100001011010100010010011001100010, expected: 772675876510}, // lhs = -434020066048 rhs = -107184314782
        TestCaseTwoArgs{lhs: 464263354624, rhs: 516234219372, expected: 1047540763028},
        TestCaseTwoArgs{lhs: 0b1011101001101100011000111001100010010011, rhs: 0b1100101111001111101111111000110110000110, expected: 1024830212877}, // lhs = -298829244269 rhs = -224147829370
        TestCaseTwoArgs{lhs: 398804547589, rhs: 0b1001110001110101000010100001100111001101, expected: 549755813887}, // rhs = -427533133363
        TestCaseTwoArgs{lhs: 0b1010001101111101001011010101101010010110, rhs: 182867572732, expected: 549755813888}, // lhs = -397331834218
        TestCaseTwoArgs{lhs: 0b1010001000010010010100111010111111010110, rhs: 127708425620, expected: 568383750722}, // lhs = -403419451434
        TestCaseTwoArgs{lhs: 0b1111000111111000100110010010110100000000, rhs: 0b1000110101010000100001001000001010001101, expected: 432316656243}, // lhs = -60253721344 rhs = -492570377587
        TestCaseTwoArgs{lhs: 0b1111010110100001110000101111100001100100, rhs: 129052890065, expected: 925928006803}, // lhs = -44530730908
        TestCaseTwoArgs{lhs: 372316347964, rhs: 215259285830, expected: 157057062134},
        TestCaseTwoArgs{lhs: 131962317463, rhs: 0b1000101001010001011110001111111010011010, expected: 549755813887}, // rhs = -505439256934
        TestCaseTwoArgs{lhs: 244577801950, rhs: 0b1100100101101111110100100001111011001111, expected: 478924961807}, // rhs = -234347159857
        TestCaseTwoArgs{lhs: 358258688052, rhs: 228350698807, expected: 129907989245},
        TestCaseTwoArgs{lhs: 422195499018, rhs: 28105363581, expected: 394090135437},
        TestCaseTwoArgs{lhs: 148657300547, rhs: 510015476800, expected: 738153451523},
        TestCaseTwoArgs{lhs: 228441643083, rhs: 0b1011001011011111010001000110000011110011, expected: 549755813887}, // rhs = -331261648653
        TestCaseTwoArgs{lhs: 0b1111010001011101010010111001010100101110, rhs: 0b1101001100111001110100101011100110110101, expected: 142329043833}, // lhs = -49974373074 rhs = -192303416907
        TestCaseTwoArgs{lhs: 0b1010111011110110100110000111100110111100, rhs: 437962742174, expected: 549755813888}, // lhs = -348050130500
        TestCaseTwoArgs{lhs: 0b1010111010011000011001101101011101010000, rhs: 0b1000001111110110010010111000010010111010, expected: 183108326038}, // lhs = -349630441648 rhs = -532738767686
        TestCaseTwoArgs{lhs: 493203372738, rhs: 0b1011101011010000111001011000011110000111, expected: 549755813887}, // rhs = -297143007353
        TestCaseTwoArgs{lhs: 0b1011111111111101000000011011111100101101, rhs: 0b1000000100110101101101010010110110110001, expected: 269631656316}, // lhs = -274928124115 rhs = -544559780431
        TestCaseTwoArgs{lhs: 0b1111110010000010100011000010100101000101, rhs: 208846306566, expected: 875675675711}, // lhs = -14989645499
        TestCaseTwoArgs{lhs: 517487253672, rhs: 311752629118, expected: 205734624554},
        TestCaseTwoArgs{lhs: 0b1100000011001110011010001000010100010010, rhs: 125224015457, expected: 702872661681}, // lhs = -271414950638
        TestCaseTwoArgs{lhs: 0b1110101001011100001110110111001001101111, rhs: 0b1101100011001010100100100010101010101001, expected: 75458234310}, // lhs = -92941880721 rhs = -168400115031
        TestCaseTwoArgs{lhs: 404852574394, rhs: 202741419049, expected: 202111155345},
        TestCaseTwoArgs{lhs: 440336131832, rhs: 304841783139, expected: 135494348693},
        TestCaseTwoArgs{lhs: 391480106425, rhs: 0b1010010110001100100100111110001100110110, expected: 549755813887}, // rhs = -388483521738
        TestCaseTwoArgs{lhs: 0b1101000001111100011010101100101100001011, rhs: 461286552886, expected: 549755813888}, // lhs = -204071056629
        TestCaseTwoArgs{lhs: 0b1111110100111111101001100010011001111111, rhs: 0b1101111001111001010111001111100100000001, expected: 132175703422}, // lhs = -11817048449 rhs = -143992751871
        TestCaseTwoArgs{lhs: 8249761989, rhs: 0b1011001011111010110010011101101111110111, expected: 339049678030}, // rhs = -330799916041
        TestCaseTwoArgs{lhs: 0b1001000110010101110110100000011011010001, rhs: 268560444106, expected: 549755813888}, // lhs = -474227276079
        TestCaseTwoArgs{lhs: 335734436451, rhs: 0b1100100111100000100001011110000011011001, expected: 549755813887}, // rhs = -232456331047
        TestCaseTwoArgs{lhs: 397020870954, rhs: 0b1101001011100000011000001110101111010001, expected: 549755813887}, // rhs = -193804047407
        TestCaseTwoArgs{lhs: 159244402219, rhs: 0b1110011011000011110111110000001010110110, expected: 267627379573}, // rhs = -108382977354
        TestCaseTwoArgs{lhs: 0b1100001000000001111010000111101000111010, rhs: 340537516399, expected: 549755813888}, // lhs = -266255959494
        TestCaseTwoArgs{lhs: 101235474991, rhs: 361924503489, expected: 838822599278},
        TestCaseTwoArgs{lhs: 0b1111110111100010110101110100111101110101, rhs: 0b1001111011110011110100110111011010101110, expected: 407736932551}, // lhs = -9079140491 rhs = -416816073042
        TestCaseTwoArgs{lhs: 133637247076, rhs: 11908146926, expected: 121729100150},
        TestCaseTwoArgs{lhs: 0b1110101010110111100101100001000010111110, rhs: 439671330770, expected: 568431081708}, // lhs = -91409215298
        TestCaseTwoArgs{lhs: 0b1011010111001001001011100001011010011010, rhs: 0b1000110010100101011011111110010100000001, expected: 176693326233}, // lhs = -318747306342 rhs = -495440632575
        TestCaseTwoArgs{lhs: 480193568384, rhs: 30635325302, expected: 449558243082},
        TestCaseTwoArgs{lhs: 0b1000110010111010110111100001001110101011, rhs: 0b1000010110000110011100000101010010010001, expected: 30944378650}, // lhs = -495081090133 rhs = -526025468783
        TestCaseTwoArgs{lhs: 425233976842, rhs: 292523484459, expected: 132710492383},
        TestCaseTwoArgs{lhs: 251921154663, rhs: 0b1100111110110100111011011110010111000011, expected: 459339062436}, // rhs = -207417907773
        TestCaseTwoArgs{lhs: 0b1111010111101001110001111010011001011110, rhs: 0b1001110001101111000000001111100011101101, expected: 384311930225}, // lhs = -43322464674 rhs = -427634394899
        TestCaseTwoArgs{lhs: 310268310884, rhs: 0b1100000111111011001011101000011111000101, expected: 549755813887}, // rhs = -266368809019
        TestCaseTwoArgs{lhs: 0b1011000111111001111010011111001001000010, rhs: 62952050163, expected: 701450019919}, // lhs = -335109557694
        TestCaseTwoArgs{lhs: 364851997524, rhs: 0b1000110101010001100100010001000011010010, expected: 549755813887}, // rhs = -492552777518
        TestCaseTwoArgs{lhs: 16395744917, rhs: 343584879987, expected: 772322492706},
        TestCaseTwoArgs{lhs: 532673479329, rhs: 466458517789, expected: 66214961540},
        TestCaseTwoArgs{lhs: 132294036391, rhs: 280914205863, expected: 950891458304},
        TestCaseTwoArgs{lhs: 0b1101010100100001101101010010001000101111, rhs: 0b1101111001011011111101100100011100110110, expected: 1059879574265}, // lhs = -184118074833 rhs = -144486021322
        TestCaseTwoArgs{lhs: 394127177535, rhs: 63173647935, expected: 330953529600},
        TestCaseTwoArgs{lhs: 0b1100110001110111000110000111111000110101, rhs: 135143330231, expected: 743028092030}, // lhs = -221340205515
        TestCaseTwoArgs{lhs: 59605713824, rhs: 524536384113, expected: 634580957487},
        TestCaseTwoArgs{lhs: 388350641963, rhs: 0b1010101011100001111011011000010001001101, expected: 549755813887}, // rhs = -365576747955
        TestCaseTwoArgs{lhs: 318474510723, rhs: 0b1100111111010001010100100000011100001011, expected: 525416094328}, // rhs = -206941583605
        TestCaseTwoArgs{lhs: 259800258581, rhs: 104149880953, expected: 155650377628},
        TestCaseTwoArgs{lhs: 359183786748, rhs: 0b1101111111000011110010101011001110001011, expected: 497632866161}, // rhs = -138449079413
        TestCaseTwoArgs{lhs: 444249440296, rhs: 20104375044, expected: 424145065252},
        TestCaseTwoArgs{lhs: 70223344563, rhs: 0b1110000101000001001101011101000110011111, expected: 202273284628}, // rhs = -132049940065
        TestCaseTwoArgs{lhs: 170126083712, rhs: 294503218642, expected: 975134492846},
        TestCaseTwoArgs{lhs: 226724803748, rhs: 0b1100001101011001001111110100100000111100, expected: 487220489320}, // rhs = -260495685572
        TestCaseTwoArgs{lhs: 547992212132, rhs: 0b1111010001000101111110101011011011001010, expected: 549755813887}, // rhs = -50365548854
        TestCaseTwoArgs{lhs: 279462806042, rhs: 0b1111001011101110100000111110111110011111, expected: 335590724219}, // rhs = -56127918177
        TestCaseTwoArgs{lhs: 156721353873, rhs: 0b1001000110001000000100001000110100010010, expected: 549755813887}, // rhs = -474458583790
        TestCaseTwoArgs{lhs: 109408245572, rhs: 62624616580, expected: 46783628992},
        TestCaseTwoArgs{lhs: 292972413962, rhs: 0b1011101000011110000000000010111101001101, expected: 549755813887}, // rhs = -300144382131
        TestCaseTwoArgs{lhs: 0b1011111011000100010111000101100101110111, rhs: 538745682426, expected: 549755813888}, // lhs = -280173454985
        TestCaseTwoArgs{lhs: 320155282756, rhs: 0b1011110100001010010001110001101010101111, expected: 549755813887}, // rhs = -287590376785
        TestCaseTwoArgs{lhs: 442924087684, rhs: 0b1011101100111001001101010111111100000110, expected: 549755813887}, // rhs = -295392936186
        TestCaseTwoArgs{lhs: 0b1110001001100000100110001101011001001111, rhs: 0b1011101100001001110010010101001010000001, expected: 168960164814}, // lhs = -127228389809 rhs = -296188554623
        TestCaseTwoArgs{lhs: 101365993460, rhs: 315565932067, expected: 885311689169},
        TestCaseTwoArgs{lhs: 0b1110000101000011010000100110101000100110, rhs: 0b1010110010100110101110111111100111101001, expected: 225964355645}, // lhs = -132015560154 rhs = -357979915799
        TestCaseTwoArgs{lhs: 0b1111010111111110110101101000101011111000, rhs: 281667044264, expected: 774875416400}, // lhs = -42969167112
        TestCaseTwoArgs{lhs: 104565230855, rhs: 338378685754, expected: 865698172877},
        TestCaseTwoArgs{lhs: 0b1110110110000010100001101100101000101111, rhs: 376601723110, expected: 643495397705}, // lhs = -79414506961
        TestCaseTwoArgs{lhs: 103579763654, rhs: 0b1001000000100001001111111000110011001100, expected: 549755813887}, // rhs = -480478524212
        TestCaseTwoArgs{lhs: 99944740453, rhs: 0b1000010000111100101000110001100111110100, expected: 549755813887}, // rhs = -531558622732
        TestCaseTwoArgs{lhs: 357331724323, rhs: 82424979744, expected: 274906744579},
        TestCaseTwoArgs{lhs: 184154847641, rhs: 0b1101001000110000000000001000000101010111, expected: 380918003778}, // rhs = -196763156137
        TestCaseTwoArgs{lhs: 154551652141, rhs: 224501681294, expected: 1029561598623},
        TestCaseTwoArgs{lhs: 113028769544, rhs: 501273709038, expected: 711266688282},
        TestCaseTwoArgs{lhs: 0b1000010100100001101011110001100001111000, rhs: 0b1111011101011011100101000011101011001001, expected: 608914038191}, // lhs = -527715854216 rhs = -37118264631
        TestCaseTwoArgs{lhs: 0b1010001001001111101001001010001001100011, rhs: 0b1001000000011101011011100000001100011010, expected: 78151851849}, // lhs = -402390736285 rhs = -480542588134
        TestCaseTwoArgs{lhs: 461641610024, rhs: 0b1100010001011111100111110101110110000000, expected: 549755813887}, // rhs = -256093758080
        TestCaseTwoArgs{lhs: 0b1010000111011101001110101010000100000001, rhs: 0b1011111111111110001010111111010110110101, expected: 970109922124}, // lhs = -404310286079 rhs = -274908580427
        TestCaseTwoArgs{lhs: 163460168977, rhs: 297078041742, expected: 965893755011},
        TestCaseTwoArgs{lhs: 0b1010101011111010100110000010010000110001, rhs: 0b1000000101101111011111010010010010010000, expected: 178427461537}, // lhs = -365162912719 rhs = -543590374256
        TestCaseTwoArgs{lhs: 328155978355, rhs: 0b1100010101110100110000011100101110001101, expected: 549755813887}, // rhs = -251444212851
        TestCaseTwoArgs{lhs: 0b1100001000110110010100010010010011111011, rhs: 491765680304, expected: 549755813888}, // lhs = -265376684805
        TestCaseTwoArgs{lhs: 252318134645, rhs: 274612524080, expected: 1077217238341},
        TestCaseTwoArgs{lhs: 0b1010111001000111100100000111011001100100, rhs: 0b1111100001000001000000001101111010101100, expected: 781794121656}, // lhs = -350986668444 rhs = -33269162324
        TestCaseTwoArgs{lhs: 0b1000100001101100101011110011000010000011, rhs: 170890576801, expected: 549755813888}, // lhs = -513572654973
        TestCaseTwoArgs{lhs: 453028488482, rhs: 405303059689, expected: 47725428793},
        TestCaseTwoArgs{lhs: 508549394331, rhs: 0b1010110001001000010101111101110001010010, expected: 549755813887}, // rhs = -359563535278
        TestCaseTwoArgs{lhs: 0b1111010110100111000100111111001100010101, rhs: 519611603537, expected: 549755813888}, // lhs = -44441537771
        TestCaseTwoArgs{lhs: 3181928208, rhs: 0b1010010010000001101011010011110011101001, expected: 396143305255}, // rhs = -392961377047
        TestCaseTwoArgs{lhs: 48928181558, rhs: 104125278596, expected: 1044314530738},
        TestCaseTwoArgs{lhs: 0b1100101110101111010110101110010101111001, rhs: 462540155288, expected: 549755813888}, // lhs = -224691296903
        TestCaseTwoArgs{lhs: 100319309507, rhs: 345741795163, expected: 854089142120},
        TestCaseTwoArgs{lhs: 49461700307, rhs: 0b1011000101100101001011101010000100000111, expected: 387066561996}, // rhs = -337604861689
        TestCaseTwoArgs{lhs: 0b1011010101011000111111010111010010101111, rhs: 0b1011000010111100100010011110010010011000, expected: 19804688407}, // lhs = -320629541713 rhs = -340434230120
        TestCaseTwoArgs{lhs: 0b1000110110100010100011100011111000111100, rhs: 419471252580, expected: 549755813888}, // lhs = -491194008004
        TestCaseTwoArgs{lhs: 450881085499, rhs: 0b1110000110010111110100110110110111101101, expected: 549755813887}, // rhs = -130596770323
        TestCaseTwoArgs{lhs: 383373392953, rhs: 0b1001011110111010011110111110011001001110, expected: 549755813887}, // rhs = -447842884018
        TestCaseTwoArgs{lhs: 466768068288, rhs: 385523897349, expected: 81244170939},
        TestCaseTwoArgs{lhs: 0b1110010010100010000011010000101010110111, rhs: 355177331815, expected: 626793975376}, // lhs = -117540320585
        TestCaseTwoArgs{lhs: 0b1011101101001101100100000001100111001010, rhs: 225686593163, expected: 578773580607}, // lhs = -295051454006
        TestCaseTwoArgs{lhs: 443734662030, rhs: 0b1000001000000011001001010111101110101010, expected: 549755813887}, // rhs = -541113091158
        TestCaseTwoArgs{lhs: 305075417050, rhs: 0b1010010100001110010110001001010100101011, expected: 549755813887}, // rhs = -390601337557
        TestCaseTwoArgs{lhs: 533916850937, rhs: 458059513273, expected: 75857337664},
        TestCaseTwoArgs{lhs: 257453610907, rhs: 0b1001111101010011111011011000111101111001, expected: 549755813887}, // rhs = -415203750023
        TestCaseTwoArgs{lhs: 0b1111110000000000110000010000111001101011, rhs: 55200754276, expected: 1027143656455}, // lhs = -17167217045
        TestCaseTwoArgs{lhs: 0b1000001010000101110100011110100110111011, rhs: 64572054799, expected: 549755813888}, // lhs = -538920752709
        TestCaseTwoArgs{lhs: 0b1101101010001100111101001110100010100010, rhs: 155300694542, expected: 783367036564}, // lhs = -160843896670
        TestCaseTwoArgs{lhs: 0b1000011011101010011110101000010110011111, rhs: 117328464372, expected: 549755813888}, // lhs = -520052111969
        TestCaseTwoArgs{lhs: 0b1011000001100110000100111000100001010111, rhs: 0b1101000000110000100101001000100000000010, expected: 962970189909}, // lhs = -341884827561 rhs = -205343389694
        TestCaseTwoArgs{lhs: 371007890848, rhs: 544858922487, expected: 925660596137},
        TestCaseTwoArgs{lhs: 0b1101010111010111010000010010000110100101, rhs: 10248321489, expected: 908191082452}, // lhs = -181072223835
        TestCaseTwoArgs{lhs: 542285982297, rhs: 0b1110011100010000001100101001010000101000, expected: 549755813887}, // rhs = -107102432216
        TestCaseTwoArgs{lhs: 241025589104, rhs: 121569525249, expected: 119456063855},
        TestCaseTwoArgs{lhs: 0b1101101010001010000000110110110011100001, rhs: 0b1000011011010111000010000010110100011110, expected: 359485095875}, // lhs = -160893276959 rhs = -520378372834
        TestCaseTwoArgs{lhs: 0b1011100111011000111000111001000010010100, rhs: 224303898312, expected: 573903843788}, // lhs = -301303885676
        TestCaseTwoArgs{lhs: 140893010141, rhs: 94684401558, expected: 46208608583},
        TestCaseTwoArgs{lhs: 0b1101101000000000011011000001001100000100, rhs: 195879504874, expected: 740430448410}, // lhs = -163201674492
        TestCaseTwoArgs{lhs: 0b1000001100101100001101111100001110111001, rhs: 469218297506, expected: 549755813888}, // lhs = -536129059911
        TestCaseTwoArgs{lhs: 0b1001111001111000011001111111011001101001, rhs: 508604367418, expected: 549755813888}, // lhs = -418886715799
        TestCaseTwoArgs{lhs: 141749360388, rhs: 0b1110000110100000111001101100001110001001, expected: 272193868667}, // rhs = -130444508279
        TestCaseTwoArgs{lhs: 217208508938, rhs: 298599671508, expected: 1018120465206},
        TestCaseTwoArgs{lhs: 497309473099, rhs: 0b1011010011111001111000101011010111000010, expected: 549755813887}, // rhs = -322225130046
        TestCaseTwoArgs{lhs: 102300398673, rhs: 506496673225, expected: 695315353224},
        TestCaseTwoArgs{lhs: 0b1010001111111011101001111111110110100100, rhs: 0b1111010100001011111010011010101001100110, expected: 751346537278}, // lhs = -395209867868 rhs = -47044777370
        TestCaseTwoArgs{lhs: 472420794931, rhs: 0b1101011001010010010001011101110100100000, expected: 549755813887}, // rhs = -179008316128
        TestCaseTwoArgs{lhs: 385487868716, rhs: 41374105874, expected: 344113762842},
        TestCaseTwoArgs{lhs: 0b1011000001111011011100001101001100000000, rhs: 335613225842, expected: 549755813888}, // lhs = -341526392064
        TestCaseTwoArgs{lhs: 34913278483, rhs: 319015578823, expected: 815409327436},
        TestCaseTwoArgs{lhs: 0b1001000000110110101101100110101110100011, rhs: 322218288491, expected: 549755813888}, // lhs = -480118412381
        TestCaseTwoArgs{lhs: 400298673713, rhs: 0b1001001100010001110010110000101100001101, expected: 549755813887}, // rhs = -467852915955
        TestCaseTwoArgs{lhs: 0b1000101000111011101111000011000011100111, rhs: 417912509361, expected: 549755813888}, // lhs = -505803951897
        TestCaseTwoArgs{lhs: 226578083596, rhs: 222614890173, expected: 3963193423},
        TestCaseTwoArgs{lhs: 535512504139, rhs: 427255427714, expected: 108257076425},
        TestCaseTwoArgs{lhs: 0b1111010101001011010001110010000111101101, rhs: 302922353129, expected: 750607587332}, // lhs = -45981687315
        TestCaseTwoArgs{lhs: 533068877131, rhs: 0b1011011010101100101001101001010011110101, expected: 549755813887}, // rhs = -314930981643
        TestCaseTwoArgs{lhs: 399689880555, rhs: 11258173533, expected: 388431707022},
        TestCaseTwoArgs{lhs: 0b1010101100110111010111010001100001000111, rhs: 366847683056, expected: 549755813888}, // lhs = -364143372217
        TestCaseTwoArgs{lhs: 0b1111001100001011000010001010000101101011, rhs: 0b1010110011001000110001010100011000001000, expected: 301759421283}, // lhs = -55649459861 rhs = -357408881144
        TestCaseTwoArgs{lhs: 0b1110010110000111010000010110010101001011, rhs: 150908085359, expected: 834908635356}, // lhs = -113694907061
        TestCaseTwoArgs{lhs: 0b1011010100000110000001100111011000010111, rhs: 226267772151, expected: 551222395168}, // lhs = -322021460457
        TestCaseTwoArgs{lhs: 0b1100000110110010101010111101100000001011, rhs: 246952866796, expected: 584973427743}, // lhs = -267585333237
        TestCaseTwoArgs{lhs: 0b1001001100100100000011111111000000011110, rhs: 0b1011001010001010001011000110101101010001, expected: 964654499021}, // lhs = -467546410978 rhs = -332689282223
        TestCaseTwoArgs{lhs: 0b1110001110111110001100111011010010101001, rhs: 0b1001100100001010100101110010001011011010, expected: 320840962511}, // lhs = -121362991959 rhs = -442203954470
        TestCaseTwoArgs{lhs: 0b1101011110000001011001111010100010011111, rhs: 0b1100001101111010101110110100101010011010, expected: 86011305477}, // lhs = -173922604897 rhs = -259933910374
        TestCaseTwoArgs{lhs: 489931379206, rhs: 359289884365, expected: 130641494841},
        TestCaseTwoArgs{lhs: 0b1111110111011111100010011010101000010000, rhs: 0b1100101100011000101100101001000101001101, expected: 218084350147}, // lhs = -9134560752 rhs = -227218910899
        TestCaseTwoArgs{lhs: 0b1000111110011000001000000001011101010100, rhs: 249870762227, expected: 549755813888}, // lhs = -482779064492
        TestCaseTwoArgs{lhs: 0b1000001010001111101010000001010011001011, rhs: 185247430873, expected: 549755813888}, // lhs = -538755722037
        TestCaseTwoArgs{lhs: 272261156631, rhs: 69057252347, expected: 203203904284},
        TestCaseTwoArgs{lhs: 0b1011101011011100001101110010111100101001, rhs: 0b1110111010001001100110010111001110100101, expected: 877559397252}, // lhs = -296953106647 rhs = -75000876123
        TestCaseTwoArgs{lhs: 525046388384, rhs: 0b1101110100001000110111000101010100001110, expected: 549755813887}, // rhs = -150175197938
        TestCaseTwoArgs{lhs: 299584732223, rhs: 0b1101111000111111001110111101101001111110, expected: 444552733121}, // rhs = -144968000898
        TestCaseTwoArgs{lhs: 0b1110101011001100011011111111011100000011, rhs: 0b1010011000000001110000011011101000100111, expected: 295458192604}, // lhs = -91059390717 rhs = -386517583321
        TestCaseTwoArgs{lhs: 73871867540, rhs: 0b1101001101111010010001111011011001000010, expected: 265093875794}, // rhs = -191222008254
        TestCaseTwoArgs{lhs: 0b1010000010110101001111110000111111000011, rhs: 28094126295, expected: 662141449964}, // lhs = -409276051517
        TestCaseTwoArgs{lhs: 381577366023, rhs: 232005141852, expected: 149572224171},
        TestCaseTwoArgs{lhs: 0b1011001101011110110100111000110001010110, rhs: 409932391972, expected: 549755813888}, // lhs = -329121559466
        TestCaseTwoArgs{lhs: 0b1010011011000111010001010001110000001011, rhs: 117558532994, expected: 598749233289}, // lhs = -383203861493

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 549755813887, expected: 549755813889},
        TestCaseTwoArgs{lhs: 0, rhs: 0b1000000000000000000000000000000000000000, expected: 549755813887}, // rhs = -549755813888
        TestCaseTwoArgs{lhs: 549755813887, rhs: 0, expected: 549755813887},
        TestCaseTwoArgs{lhs: 549755813887, rhs: 549755813887, expected: 0},
        TestCaseTwoArgs{lhs: 549755813887, rhs: 0b1000000000000000000000000000000000000000, expected: 549755813887}, // rhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 0, expected: 549755813888}, // lhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 549755813887, expected: 549755813888}, // lhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 0b1000000000000000000000000000000000000000, expected: 0}, // lhs = -549755813888 rhs = -549755813888
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            assert_eq!(__llvm_ssub_sat_n_n_n(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
