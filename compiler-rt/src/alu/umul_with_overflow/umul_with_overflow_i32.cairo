use crate::rtstate::RTState;
use crate::alu::umul_with_overflow::umul_with_overflow;

pub fn __llvm_umul_with_overflow_i_i_Sics(
    ref state: RTState, lhs: u128, rhs: u128,
) -> (u128, bool) {
    umul_with_overflow::<u32>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_umul_with_overflow_i_i_Sics;
    use crate::alu::test_case::TestCaseTwoArgsTwoExpected;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgsTwoExpected; 124] = [
        // Random test cases
        TestCaseTwoArgsTwoExpected{lhs: 1140721867, rhs: 687147363, expected: (1540589953, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2483254287, rhs: 4158788038, expected: (2745090714, true)},
        TestCaseTwoArgsTwoExpected{lhs: 458787186, rhs: 1943849260, expected: (2333745560, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2379877432, rhs: 2830379526, expected: (1887271248, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3365695477, rhs: 843117094, expected: (2152609886, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1838055959, rhs: 4267883058, expected: (2401771134, true)},
        TestCaseTwoArgsTwoExpected{lhs: 752579822, rhs: 927338221, expected: (2728674390, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1166042092, rhs: 1148172023, expected: (1497247924, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3153473098, rhs: 1757791177, expected: (3363747354, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4065424480, rhs: 933253028, expected: (3138923904, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2831439896, rhs: 3295929090, expected: (1584265264, true)},
        TestCaseTwoArgsTwoExpected{lhs: 662522508, rhs: 68443469, expected: (1739868188, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2213229669, rhs: 1742581719, expected: (1904937939, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1060955261, rhs: 4217874414, expected: (16054070, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3226694740, rhs: 1782497583, expected: (777891692, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2485611528, rhs: 2565949241, expected: (1598375368, true)},
        TestCaseTwoArgsTwoExpected{lhs: 636237302, rhs: 306108561, expected: (635838550, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3826095018, rhs: 345328360, expected: (3538875920, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2558826620, rhs: 2787905106, expected: (3089080248, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1336365870, rhs: 503052538, expected: (2786446060, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3482516327, rhs: 1093311193, expected: (3300462671, true)},
        TestCaseTwoArgsTwoExpected{lhs: 336736337, rhs: 1890709038, expected: (1546714254, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2082782264, rhs: 3782800250, expected: (2053823152, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1437853320, rhs: 4057704005, expected: (4283519656, true)},
        TestCaseTwoArgsTwoExpected{lhs: 906991242, rhs: 163446087, expected: (1677402694, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3623863204, rhs: 254576565, expected: (3559968500, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1372864257, rhs: 3643254507, expected: (819428331, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2791902161, rhs: 3069094415, expected: (340687679, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3775171479, rhs: 2675541069, expected: (3384203371, true)},
        TestCaseTwoArgsTwoExpected{lhs: 516684246, rhs: 1177236151, expected: (1435329530, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3708885058, rhs: 2143811262, expected: (424504572, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3017691103, rhs: 2537615010, expected: (28302622, true)},
        TestCaseTwoArgsTwoExpected{lhs: 480478489, rhs: 1611481495, expected: (2340674239, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3632100363, rhs: 1233743744, expected: (3773680256, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3350078010, rhs: 1682039946, expected: (320084804, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3811979399, rhs: 1253471402, expected: (4126369190, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1388815932, rhs: 2595825753, expected: (851323612, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1602801936, rhs: 2297051230, expected: (2593670112, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3833186286, rhs: 1564764220, expected: (2533067720, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3218813891, rhs: 1064946803, expected: (1357030553, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1834608649, rhs: 3085575271, expected: (721919903, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3373119187, rhs: 3323065079, expected: (1225907093, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1965091576, rhs: 187970595, expected: (362446824, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1201569577, rhs: 4086395353, expected: (2629034689, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1276414118, rhs: 2689948620, expected: (202237512, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3859472720, rhs: 3688732063, expected: (670400688, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2208870138, rhs: 2910453498, expected: (2525031460, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1630655751, rhs: 582634201, expected: (2145884399, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1910479236, rhs: 887013201, expected: (3418427076, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3867335559, rhs: 1230287599, expected: (3088765193, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3826791060, rhs: 2362754474, expected: (3918363208, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1587517862, rhs: 2838140959, expected: (63580954, true)},
        TestCaseTwoArgsTwoExpected{lhs: 501790352, rhs: 3073276153, expected: (3939308048, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3369107621, rhs: 956463727, expected: (771778955, true)},
        TestCaseTwoArgsTwoExpected{lhs: 172923773, rhs: 1061695533, expected: (186696953, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1626288384, rhs: 2603128977, expected: (2492645632, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3566948554, rhs: 1785329308, expected: (2501990168, true)},
        TestCaseTwoArgsTwoExpected{lhs: 6693604, rhs: 4083224215, expected: (1988824188, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2302525700, rhs: 3605863241, expected: (2930472484, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3515124808, rhs: 289387399, expected: (2025083384, true)},
        TestCaseTwoArgsTwoExpected{lhs: 158946160, rhs: 1586518698, expected: (15124576, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3918910277, rhs: 3196000967, expected: (3492232355, true)},
        TestCaseTwoArgsTwoExpected{lhs: 244798113, rhs: 2759449856, expected: (3563977984, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4180912647, rhs: 53618506, expected: (842282758, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2824623384, rhs: 3692128237, expected: (1246719800, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2500178384, rhs: 4015139818, expected: (1353873440, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1276758779, rhs: 2987012355, expected: (1207266289, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2230347373, rhs: 64957208, expected: (1471211832, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1121472535, rhs: 371502371, expected: (2397994533, true)},
        TestCaseTwoArgsTwoExpected{lhs: 223728330, rhs: 2479012974, expected: (2093017804, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1850548710, rhs: 1789639578, expected: (2462803548, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1500676914, rhs: 937835797, expected: (1016311066, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1664378108, rhs: 1052987641, expected: (3514366236, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1286646081, rhs: 217370698, expected: (311016650, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1929522286, rhs: 689189617, expected: (3360771982, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4081791753, rhs: 600406398, expected: (2536726382, true)},
        TestCaseTwoArgsTwoExpected{lhs: 511977823, rhs: 1693089438, expected: (3468970658, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2388489579, rhs: 988844943, expected: (2196834245, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3228140329, rhs: 692389744, expected: (4224483568, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2288065409, rhs: 2558416225, expected: (208355553, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1342000254, rhs: 2789349982, expected: (2235753028, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3849683948, rhs: 431604210, expected: (3809976600, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4135463283, rhs: 2600992939, expected: (2464002001, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3824607539, rhs: 1371152430, expected: (2492520234, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1640763897, rhs: 4290845164, expected: (2845500044, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1119358280, rhs: 1032861707, expected: (3243266584, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2934940470, rhs: 1886268376, expected: (2614085520, true)},
        TestCaseTwoArgsTwoExpected{lhs: 94104526, rhs: 2065354838, expected: (2128910132, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3175820487, rhs: 1639694131, expected: (3904857253, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2127488315, rhs: 593316411, expected: (1600184985, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3255425843, rhs: 3157947049, expected: (2578213547, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2221375416, rhs: 3691233504, expected: (427933952, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4119397059, rhs: 3603135336, expected: (2961559608, true)},
        TestCaseTwoArgsTwoExpected{lhs: 66117829, rhs: 2599509035, expected: (1437699351, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1780353827, rhs: 2880264137, expected: (1862706043, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2113099854, rhs: 3702130394, expected: (2702640748, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2268317552, rhs: 1603810294, expected: (922547616, true)},
        TestCaseTwoArgsTwoExpected{lhs: 752627930, rhs: 3563783684, expected: (3484671848, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2495132278, rhs: 198338538, expected: (3077347804, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4193499854, rhs: 1920943295, expected: (2728990642, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4035160789, rhs: 164700125, expected: (2285847777, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3245545983, rhs: 1340072764, expected: (3173528772, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1450964413, rhs: 4117638858, expected: (4230864162, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3014408516, rhs: 672915890, expected: (4131427656, true)},
        TestCaseTwoArgsTwoExpected{lhs: 112562340, rhs: 3206904638, expected: (539743160, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1796914773, rhs: 1694231624, expected: (2555569128, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3456637574, rhs: 3395481215, expected: (2717498490, true)},
        TestCaseTwoArgsTwoExpected{lhs: 717683483, rhs: 2528928349, expected: (4030566095, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1738145809, rhs: 1713098060, expected: (3683688972, true)},
        TestCaseTwoArgsTwoExpected{lhs: 261793381, rhs: 995186093, expected: (3518430017, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3426001732, rhs: 2342429684, expected: (3591891152, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3400059160, rhs: 4009024699, expected: (284918920, true)},
        TestCaseTwoArgsTwoExpected{lhs: 4145645003, rhs: 672931361, expected: (841746731, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3568174131, rhs: 2077633696, expected: (3642581984, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3174984687, rhs: 565360293, expected: (891648779, true)},
        TestCaseTwoArgsTwoExpected{lhs: 3976228512, rhs: 3976462501, expected: (2613529888, true)},
        TestCaseTwoArgsTwoExpected{lhs: 2784582055, rhs: 737780214, expected: (2406296954, true)},
        TestCaseTwoArgsTwoExpected{lhs: 307893946, rhs: 3875003534, expected: (2734060332, true)},
        TestCaseTwoArgsTwoExpected{lhs: 443384235, rhs: 2082868915, expected: (2332755089, true)},
        TestCaseTwoArgsTwoExpected{lhs: 1967063249, rhs: 3355281386, expected: (2861692426, true)},

        // Edge cases
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 4294967295, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 4294967295, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 4294967295, rhs: 4294967295, expected: (1, true)},
    ];
    #[test]
    fn test_i32() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(
                __llvm_umul_with_overflow_i_i_Sics(ref state, *case.lhs, *case.rhs), *case.expected,
            );
        }
    }
}
