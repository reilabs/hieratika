use crate::alu::ushl_sat::ushl_sat;
use crate::integer::u40::u40;

pub fn __llvm_ushl_sat_n_n_n(n: u128, shift: u128) -> u128 {
    ushl_sat::<u40>(n, shift)
}

#[cfg(test)]
mod tests {
    use super::__llvm_ushl_sat_n_n_n;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 320] = [
        // All possible shifts of 0 from 0 throughout the whole input value length.
        // Saturation never occurs.
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 0, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 1, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 2, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 3, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 4, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 5, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 6, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 7, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 8, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 9, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 10, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 11, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 12, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 13, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 14, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 15, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 16, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 17, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 18, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 19, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 20, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 21, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 22, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 23, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 24, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 25, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 26, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 27, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 28, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 29, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 30, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 31, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 32, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 33, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 34, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 35, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 36, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 37, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 38, expected: 0b0000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000000, rhs: 39, expected: 0b0000000000000000000000000000000000000000 },

        // All possible shifts of 1 from 0 throughout the whole input value length.
        // Since the MSB is never shifted out of the input type boundary,
        // it's just a regular bit shift left.
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 0, expected: 0b0000000000000000000000000000000000000001 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 1, expected: 0b0000000000000000000000000000000000000010 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 2, expected: 0b0000000000000000000000000000000000000100 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 3, expected: 0b0000000000000000000000000000000000001000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 4, expected: 0b0000000000000000000000000000000000010000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 5, expected: 0b0000000000000000000000000000000000100000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 6, expected: 0b0000000000000000000000000000000001000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 7, expected: 0b0000000000000000000000000000000010000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 8, expected: 0b0000000000000000000000000000000100000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 9, expected: 0b0000000000000000000000000000001000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 10, expected: 0b0000000000000000000000000000010000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 11, expected: 0b0000000000000000000000000000100000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 12, expected: 0b0000000000000000000000000001000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 13, expected: 0b0000000000000000000000000010000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 14, expected: 0b0000000000000000000000000100000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 15, expected: 0b0000000000000000000000001000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 16, expected: 0b0000000000000000000000010000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 17, expected: 0b0000000000000000000000100000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 18, expected: 0b0000000000000000000001000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 19, expected: 0b0000000000000000000010000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 20, expected: 0b0000000000000000000100000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 21, expected: 0b0000000000000000001000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 22, expected: 0b0000000000000000010000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 23, expected: 0b0000000000000000100000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 24, expected: 0b0000000000000001000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 25, expected: 0b0000000000000010000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 26, expected: 0b0000000000000100000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 27, expected: 0b0000000000001000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 28, expected: 0b0000000000010000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 29, expected: 0b0000000000100000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 30, expected: 0b0000000001000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 31, expected: 0b0000000010000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 32, expected: 0b0000000100000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 33, expected: 0b0000001000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 34, expected: 0b0000010000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 35, expected: 0b0000100000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 36, expected: 0b0001000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 37, expected: 0b0010000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 38, expected: 0b0100000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000000001, rhs: 39, expected: 0b1000000000000000000000000000000000000000 },

        // A sample of possible shifts of 15 from 0 throughout the whole input value length.
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 0, expected: 0b0000000000000000000000000000000000001111 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 1, expected: 0b0000000000000000000000000000000000011110 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 2, expected: 0b0000000000000000000000000000000000111100 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 3, expected: 0b0000000000000000000000000000000001111000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 4, expected: 0b0000000000000000000000000000000011110000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 5, expected: 0b0000000000000000000000000000000111100000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 6, expected: 0b0000000000000000000000000000001111000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 7, expected: 0b0000000000000000000000000000011110000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 8, expected: 0b0000000000000000000000000000111100000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 9, expected: 0b0000000000000000000000000001111000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 10, expected: 0b0000000000000000000000000011110000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 11, expected: 0b0000000000000000000000000111100000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 12, expected: 0b0000000000000000000000001111000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 13, expected: 0b0000000000000000000000011110000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 14, expected: 0b0000000000000000000000111100000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 15, expected: 0b0000000000000000000001111000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 16, expected: 0b0000000000000000000011110000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 17, expected: 0b0000000000000000000111100000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 18, expected: 0b0000000000000000001111000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 19, expected: 0b0000000000000000011110000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 20, expected: 0b0000000000000000111100000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 21, expected: 0b0000000000000001111000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 22, expected: 0b0000000000000011110000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 23, expected: 0b0000000000000111100000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 24, expected: 0b0000000000001111000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 25, expected: 0b0000000000011110000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 26, expected: 0b0000000000111100000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 27, expected: 0b0000000001111000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 28, expected: 0b0000000011110000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 29, expected: 0b0000000111100000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 30, expected: 0b0000001111000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 31, expected: 0b0000011110000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 32, expected: 0b0000111100000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 33, expected: 0b0001111000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 34, expected: 0b0011110000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 35, expected: 0b0111100000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 36, expected: 0b1111000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0000000000000000000000000000000000001111, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },

        // A sample of possible shifts of 2^40/2 from 0 throughout the whole input value length.
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 0, expected: 0b0111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 1, expected: 0b1111111111111111111111111111111111111110 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 2, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 3, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 4, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 5, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 6, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 7, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 8, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 9, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 10, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 11, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 12, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 13, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 14, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 15, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 16, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 17, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 18, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 19, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 20, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 21, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 22, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 23, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 24, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 25, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 26, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 27, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 28, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 29, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 30, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 31, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 32, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 33, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 34, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 35, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 36, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0111111111111111111111111111111111111111, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },

        // A sample of possible shifts of 2^40-2^39 from 0 throughout the whole input value length.
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 0, expected: 0b1000000000000000000000000000000000000000 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 1, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 2, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 3, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 4, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 5, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 6, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 7, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 8, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 9, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 10, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 11, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 12, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 13, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 14, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 15, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 16, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 17, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 18, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 19, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 20, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 21, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 22, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 23, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 24, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 25, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 26, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 27, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 28, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 29, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 30, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 31, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 32, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 33, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 34, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 35, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 36, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1000000000000000000000000000000000000000, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },

        // A sample of possible shifts of 2^40 from 0 throughout the whole input value length.
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 0, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 1, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 2, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 3, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 4, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 5, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 6, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 7, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 8, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 9, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 10, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 11, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 12, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 13, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 14, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 15, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 16, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 17, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 18, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 19, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 20, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 21, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 22, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 23, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 24, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 25, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 26, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 27, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 28, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 29, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 30, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 31, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 32, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 33, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 34, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 35, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 36, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1111111111111111111111111111111111111111, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },

        // Shifts of mixed 0/1 bit pattern
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 0, expected: 0b1010101010101010101010101010101010101010 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 1, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 2, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 3, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 4, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 5, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 6, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 7, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 8, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 9, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 10, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 11, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 12, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 13, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 14, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 15, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 16, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 17, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 18, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 19, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 20, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 21, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 22, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 23, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 24, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 25, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 26, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 27, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 28, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 29, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 30, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 31, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 32, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 33, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 34, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 35, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 36, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b1010101010101010101010101010101010101010, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },

        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 0, expected: 0b0101010101010101010101010101010101010101 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 1, expected: 0b1010101010101010101010101010101010101010 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 2, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 3, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 4, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 5, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 6, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 7, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 8, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 9, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 10, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 11, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 12, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 13, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 14, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 15, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 16, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 17, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 18, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 19, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 20, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 21, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 22, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 23, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 24, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 25, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 26, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 27, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 28, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 29, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 30, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 31, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 32, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 33, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 34, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 35, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 36, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 37, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 38, expected: 0b1111111111111111111111111111111111111111 },
        TestCaseTwoArgs { lhs: 0b0101010101010101010101010101010101010101, rhs: 39, expected: 0b1111111111111111111111111111111111111111 },
    ];
    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            assert_eq!(__llvm_ushl_sat_n_n_n(*case.lhs, *case.rhs), *case.expected);
        }
    }

    // As per the LLVM Language Reference Manual:
    //
    //  If b is (statically or dynamically) equal to or larger than the number of bits in op1,
    //  this instruction returns a poison value.
    //
    // As per `docs/ALU Design.md`, poison values cause panics.
    #[test]
    #[should_panic(expected: "Requested shift by more bits than input word size")]
    fn test_i40_panic() {
        let case = TestCaseTwoArgs {
            lhs: 0b1111111111111111111111111111111111111111,
            rhs: 40,
            expected: 0b0000000000000000000000000000000000000000,
        };
        assert_eq!(__llvm_ushl_sat_n_n_n(case.lhs, case.rhs), case.expected);
    }
}
