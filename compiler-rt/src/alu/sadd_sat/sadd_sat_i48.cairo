use crate::rtstate::RTState;
use crate::alu::sadd_sat::sadd_sat;
use crate::integer::u48::u48;

pub fn __llvm_sadd_sat_k_k_k(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    sadd_sat::<u48>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_sadd_sat_k_k_k;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 249] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 115168352898541, rhs: 95832987668809, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 97680291268263, rhs: 0b111110110011001011001001001011010010001000111000, expected: 92400856672479}, // rhs = -5279434595784
        TestCaseTwoArgs{lhs: 0b100010001000001000101010001011110001010011000110, rhs: 0b110001011001000000101000111111110001101111111001, expected: 140737488355328}, // lhs = -131382341856058 rhs = -64252022940679
        TestCaseTwoArgs{lhs: 54821283460452, rhs: 49803900547758, expected: 104625184008210},
        TestCaseTwoArgs{lhs: 0b100101001010010111110011111011010000001101000101, rhs: 47074308862192, expected: 210514791773237}, // lhs = -118034493799611
        TestCaseTwoArgs{lhs: 0b101110100000010100001100100101001111000101100001, rhs: 0b101011011001000010110010001011011010000010101111, expected: 140737488355328}, // lhs = -76944128020127 rhs = -90638000480081
        TestCaseTwoArgs{lhs: 0b101000011000100001101010011100000001000100100011, rhs: 110860789520553, expected: 6993086163404}, // lhs = -103867703357149
        TestCaseTwoArgs{lhs: 37029987904429, rhs: 43491623793233, expected: 80521611697662},
        TestCaseTwoArgs{lhs: 51936206937378, rhs: 119446263497844, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 107460548596978, rhs: 0b101110100000010001001111011110100100101100010001, expected: 30513247936515}, // rhs = -76947300660463
        TestCaseTwoArgs{lhs: 0b100100111111100011010010011100110101111101011000, rhs: 0b111111001000001000111010100010001110101001100000, expected: 158858173237688}, // lhs = -118778084761768 rhs = -3838718711200
        TestCaseTwoArgs{lhs: 77397124568966, rhs: 0b110010111000001010010011011001001000001101010111, expected: 19683826883293}, // rhs = -57713297685673
        TestCaseTwoArgs{lhs: 0b110111110111110101110011111011110010110010101100, rhs: 14730863343347, expected: 260460772303775}, // lhs = -35745067750228
        TestCaseTwoArgs{lhs: 0b101100010001011111111011101011111111101000000000, rhs: 30300650838991, expected: 225017215817167}, // lhs = -86758411732480
        TestCaseTwoArgs{lhs: 0b100101110011010000001011101101001101110100110110, rhs: 90140461242276, expected: 256390251738330}, // lhs = -115225186214602
        TestCaseTwoArgs{lhs: 66499037314819, rhs: 139232377857351, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b101010110000010110110100100001100101101100010011, rhs: 0b100011001110101000000111000110010011010000100011, expected: 140737488355328}, // lhs = -93433984820461 rhs = -126538207382493
        TestCaseTwoArgs{lhs: 0b101100001110011101011111110110001110011010001101, rhs: 15029276958166, expected: 209537068942435}, // lhs = -86967184726387
        TestCaseTwoArgs{lhs: 78117982868732, rhs: 0b100111000111001000110000010100001011000110110100, expected: 250132233668272}, // rhs = -109460725911116
        TestCaseTwoArgs{lhs: 0b110110001101011110010010111100010110011110011010, rhs: 24580219889707, expected: 263000614752197}, // lhs = -43054581848166
        TestCaseTwoArgs{lhs: 0b110011100111101110101001100000100111111100101011, rhs: 78151736472860, expected: 23707279963207}, // lhs = -54444456509653
        TestCaseTwoArgs{lhs: 0b110000110111001001000000110011011100100010100100, rhs: 0b110110010100010110010101111010010101000001111011, expected: 172313395271967}, // lhs = -66579495794524 rhs = -42582085644165
        TestCaseTwoArgs{lhs: 120961373071907, rhs: 0b101001000100100010000111101110001101101000101000, expected: 20117818000459}, // rhs = -100843555071448
        TestCaseTwoArgs{lhs: 0b111011010101110100101000100001100011001110100010, rhs: 128726973178080, expected: 108236364092546}, // lhs = -20490609085534
        TestCaseTwoArgs{lhs: 0b110100001110011100001000101111000011111001011000, rhs: 0b110100110001100011110011111010110111111011010001, expected: 180319850839337}, // lhs = -51784274133416 rhs = -49370851737903
        TestCaseTwoArgs{lhs: 0b111001011001010110011011100000100101101010111011, rhs: 0b111000111100000100011110011001011011000111110001, expected: 221374323362988}, // lhs = -29044254811461 rhs = -31056398536207
        TestCaseTwoArgs{lhs: 0b101110011011101000010110110100100011100010001000, rhs: 0b100101100100011010111111101000101100000000111000, expected: 140737488355328}, // lhs = -77266078779256 rhs = -116244369719240
        TestCaseTwoArgs{lhs: 0b111100101111111011000101110111001011001001110100, rhs: 134900775170043, expected: 120601853649519}, // lhs = -14298921520524
        TestCaseTwoArgs{lhs: 104315732820017, rhs: 33588434823886, expected: 137904167643903},
        TestCaseTwoArgs{lhs: 97410473454486, rhs: 94352018949628, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 354750353411, rhs: 0b110100111001101110110000101000101011110010001101, expected: 233020387200144}, // rhs = -48809339863923
        TestCaseTwoArgs{lhs: 58280014257472, rhs: 14130854104026, expected: 72410868361498},
        TestCaseTwoArgs{lhs: 0b101101101000111001001101000101101111100111001011, rhs: 0b100111000001101110001010000001100000111110100001, expected: 140737488355328}, // lhs = -80752681748021 rhs = -109832883007583
        TestCaseTwoArgs{lhs: 95722654608183, rhs: 0b111001100011011110110001110110000111011000101010, expected: 67374559240545}, // rhs = -28348095367638
        TestCaseTwoArgs{lhs: 0b101000000001110100001001011100101101010101011000, rhs: 0b111111100100001000101110111101100110011000010011, expected: 174131805502315}, // lhs = -105428403694248 rhs = -1914767514093
        TestCaseTwoArgs{lhs: 19035210582228, rhs: 106531558745295, expected: 125566769327523},
        TestCaseTwoArgs{lhs: 0b111111101000100010011001100010100011000111101100, rhs: 0b110001101100111101111001100010111111100000001110, expected: 216982068013562}, // lhs = -1612331732500 rhs = -62880576964594
        TestCaseTwoArgs{lhs: 0b100010010001101111010111011000011010010100111001, rhs: 0b110010110101010111000010010101100000010111111101, expected: 140737488355328}, // lhs = -130722306087623 rhs = -57905783634435
        TestCaseTwoArgs{lhs: 68577667162884, rhs: 15718471320859, expected: 84296138483743},
        TestCaseTwoArgs{lhs: 0b111100110000011110101000101101000000011010001011, rhs: 78493548259988, expected: 64232792240415}, // lhs = -14260756019573
        TestCaseTwoArgs{lhs: 0b101101110001011111101100011001100100010100001011, rhs: 0b101100010101101101001110100010010111010011001111, expected: 140737488355328}, // lhs = -80161598454517 rhs = -86469258939185
        TestCaseTwoArgs{lhs: 0b110011010010001011100010100001110111010000001110, rhs: 79816123299755, expected: 23890859699129}, // lhs = -55925263600626
        TestCaseTwoArgs{lhs: 0b110001001010110001111101010111100001011101101000, rhs: 0b100001111111110000101011001010110110111101100000, expected: 140737488355328}, // lhs = -65229859973272 rhs = -131957850935456
        TestCaseTwoArgs{lhs: 0b101111101100001011111010010111110010000110101101, rhs: 23205354201705, expected: 232949987673110}, // lhs = -71730343239251
        TestCaseTwoArgs{lhs: 0b101100100110101000101001010010010100001100110001, rhs: 0b100110100011110111101110100111001101110011010011, expected: 140737488355328}, // lhs = -85305947765967 rhs = -111884189770541
        TestCaseTwoArgs{lhs: 0b110000100110011000000001101010011000000100100011, rhs: 0b101001101010100011111110011010101010001000011000, expected: 140737488355328}, // lhs = -67731606372061 rhs = -98230223592936
        TestCaseTwoArgs{lhs: 0b110010100001101010001111101010010100011100010010, rhs: 84638205768941, expected: 25378657254399}, // lhs = -59259548514542
        TestCaseTwoArgs{lhs: 61571070277970, rhs: 56435220838492, expected: 118006291116462},
        TestCaseTwoArgs{lhs: 66289058585154, rhs: 0b101100000100000010000101100100001011011011011001, expected: 260080223834395}, // rhs = -87683811461415
        TestCaseTwoArgs{lhs: 0b110110110101110000000100111101100111010100011110, rhs: 0b100000011110000011100011101101110100001100000111, expected: 140737488355328}, // lhs = -40286709975778 rhs = -138672083614969
        TestCaseTwoArgs{lhs: 130824904716922, rhs: 49011710660671, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 140728183755941, rhs: 0b100111001000100110110010001101011001000010100010, expected: 31368421352775}, // rhs = -109359762403166
        TestCaseTwoArgs{lhs: 0b101111010010111010011011110000111110111110010001, rhs: 0b101101101101110100001110011100111010110000101010, expected: 140737488355328}, // lhs = -73467097256047 rhs = -80414430221270
        TestCaseTwoArgs{lhs: 14864656071349, rhs: 110477853569659, expected: 125342509641008},
        TestCaseTwoArgs{lhs: 0b110000110101010100001010100001111010001011001100, rhs: 21977000540359, expected: 236747016838035}, // lhs = -66704960412980
        TestCaseTwoArgs{lhs: 26710580860277, rhs: 122611454715848, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 72231663344212, rhs: 46111817675891, expected: 118343481020103},
        TestCaseTwoArgs{lhs: 0b101100100100111011010101111001010001111100100110, rhs: 0b111010010111100000110111100100010100000011010010, expected: 171279226658808}, // lhs = -85423310954714 rhs = -24772439097134
        TestCaseTwoArgs{lhs: 69997536514742, rhs: 0b100111011001011110101010110000011100110100101011, expected: 243272266964961}, // rhs = -108200246260437
        TestCaseTwoArgs{lhs: 63501458567250, rhs: 126114899767080, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b110101101010110100100110011111111101010100110011, rhs: 0b100001000100010000100000110001101110001011100111, expected: 140737488355328}, // lhs = -45435813112525 rhs = -136046834162969
        TestCaseTwoArgs{lhs: 32683398676530, rhs: 59731074148753, expected: 92414472825283},
        TestCaseTwoArgs{lhs: 0b110010110100100111000001000010111010101000001100, rhs: 16796347796275, expected: 240313979614527}, // lhs = -57957344892404
        TestCaseTwoArgs{lhs: 112535212957274, rhs: 108649697967380, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 72750200201157, rhs: 0b101010111010100110110010100101100111010010100001, expected: 261495534228582}, // rhs = -92729642683231
        TestCaseTwoArgs{lhs: 139395355055431, rhs: 0b101101110100111011011011011100001101101001001100, expected: 59469695283091}, // rhs = -79925659772340
        TestCaseTwoArgs{lhs: 38688537945456, rhs: 0b110010001001110110111101110000001010010101110100, expected: 259268356885220}, // rhs = -60895157770892
        TestCaseTwoArgs{lhs: 0b100001000101111010100111011011111001010001010000, rhs: 0b110110101110011001110000001111000011100001010011, expected: 140737488355328}, // lhs = -135932905810864 rhs = -40791716382637
        TestCaseTwoArgs{lhs: 0b110110110100010001101111010001000101011110010000, rhs: 100332641339149, expected: 59944635637405}, // lhs = -40388005701744
        TestCaseTwoArgs{lhs: 0b101001101111110100100111001010011001011100111000, rhs: 0b101010010101010100010100110100001010101111100000, expected: 140737488355328}, // lhs = -97868762736840 rhs = -95292090176544
        TestCaseTwoArgs{lhs: 0b100010110111001010010010001011111011101001010010, rhs: 0b101000011000111000001010100000111110001110001110, expected: 140737488355328}, // lhs = -128150781576622 rhs = -103843542867058
        TestCaseTwoArgs{lhs: 0b110000000011101100100000000110110001000011110110, rhs: 0b101000011101101001000000100010010101110000001110, expected: 140737488355328}, // lhs = -70114802462474 rhs = -103516219024370
        TestCaseTwoArgs{lhs: 114074905317995, rhs: 1680737060423, expected: 115755642378418},
        TestCaseTwoArgs{lhs: 86224317924083, rhs: 43907921832497, expected: 130132239756580},
        TestCaseTwoArgs{lhs: 0b111011010110110001010101000111100101010101110110, rhs: 0b101010001110100001110000001110110110000010000110, expected: 165290832410108}, // lhs = -20425436408458 rhs = -95758707892090
        TestCaseTwoArgs{lhs: 0b111111111000011000110100101111110000100101000101, rhs: 45222613612523, expected: 44699512537392}, // lhs = -523101075131
        TestCaseTwoArgs{lhs: 0b110000001000001000100100010001110110011011101001, rhs: 58704071266664, expected: 270369258207313}, // lhs = -69809789770007
        TestCaseTwoArgs{lhs: 0b100001011100000010111000100001101000001001100000, rhs: 76507554888062, expected: 223570330926046}, // lhs = -134412200672672
        TestCaseTwoArgs{lhs: 100877357755207, rhs: 0b111001111101010001011110111111111000111001111100, expected: 74301693934019}, // rhs = -26575663821188
        TestCaseTwoArgs{lhs: 0b110001000110111000110011000010100001000111101001, rhs: 0b100111011100001011000001110100011011001000011000, expected: 140737488355328}, // lhs = -65497394966039 rhs = -108015175749096
        TestCaseTwoArgs{lhs: 96708931417119, rhs: 105544446477276, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 82559043968457, rhs: 0b100101100001110101000011011111100111001011010100, expected: 247611474546845}, // rhs = -116422546132268
        TestCaseTwoArgs{lhs: 0b111001001111100111010011000111100001000110001100, rhs: 0b111111011101100010010110110011001101000101000011, expected: 249393348010703}, // lhs = -29713336757876 rhs = -2368291942077
        TestCaseTwoArgs{lhs: 121793657122346, rhs: 77315879013109, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b110101110010010010001100010000101011100101110111, rhs: 0b111000001100010101010110010010000100111100111101, expected: 202215156025524}, // lhs = -44923004733065 rhs = -34336815952067
        TestCaseTwoArgs{lhs: 0b100000000001001010000101100100111010000110111000, rhs: 0b110000001001010111010101000101111100100000001000, expected: 140737488355328}, // lhs = -140657937899080 rhs = -69725218945016
        TestCaseTwoArgs{lhs: 107663920938042, rhs: 0b101010000101110000011010010100011001100000000100, expected: 11302476239934}, // rhs = -96361444698108
        TestCaseTwoArgs{lhs: 16380075567260, rhs: 108578631025817, expected: 124958706593077},
        TestCaseTwoArgs{lhs: 0b101110000001000101101001101101101001011010011101, rhs: 45047548522712, expected: 247432476051317}, // lhs = -79090049182051
        TestCaseTwoArgs{lhs: 6760106677006, rhs: 0b101101011010000010001111000001110010001101101111, expected: 206461305681533}, // rhs = -81773777706129
        TestCaseTwoArgs{lhs: 25372276184834, rhs: 29763251808759, expected: 55135527993593},
        TestCaseTwoArgs{lhs: 0b100001001110100010111011110110100111011010010110, rhs: 84818759057224, expected: 230953877992926}, // lhs = -135339857774954
        TestCaseTwoArgs{lhs: 0b110001101100101011011101111110101001100011110100, rhs: 0b101100100011100101110101100011101011001011011000, expected: 140737488355328}, // lhs = -62900366829324 rhs = -85515121544488
        TestCaseTwoArgs{lhs: 0b110111001011011001010010001001001101110101101010, rhs: 0b110001011110000011100001101111000111000001010100, expected: 178770294164926}, // lhs = -38799356404374 rhs = -63905326141356
        TestCaseTwoArgs{lhs: 89007833537823, rhs: 36019414933080, expected: 125027248470903},
        TestCaseTwoArgs{lhs: 0b110110010110000100111101011101001100111000001001, rhs: 0b111011101000110100001100111101011101111000010110, expected: 219826264648735}, // lhs = -42463310590455 rhs = -19185401471466
        TestCaseTwoArgs{lhs: 0b101100000110111001011101000101010100100100000100, rhs: 140610445614217, expected: 53123523470733}, // lhs = -87486922143484
        TestCaseTwoArgs{lhs: 0b100101010001110010011110011011011000000111110101, rhs: 41706062820369, expected: 205656212420102}, // lhs = -117524827110923
        TestCaseTwoArgs{lhs: 0b101101010110110011110001000000101100101010011001, rhs: 18089843492403, expected: 217569348079820}, // lhs = -81995472123239
        TestCaseTwoArgs{lhs: 0b101101111100110011101101001001110110110000111110, rhs: 138393557719215, expected: 59009361003757}, // lhs = -79384196715458
        TestCaseTwoArgs{lhs: 0b101110010100110000100100100010010100111100001010, rhs: 0b111011111011101100111010110111011101101010011000, expected: 185849130461602}, // lhs = -77738295079158 rhs = -17887551169896
        TestCaseTwoArgs{lhs: 135804046284244, rhs: 0b100000101001000010001101111010011011010100101001, expected: 279361414089469}, // rhs = -137917608905431
        TestCaseTwoArgs{lhs: 0b100101011110001011011100010110011010010010011111, rhs: 0b101111100100010101101001101110001101100101110110, expected: 140737488355328}, // lhs = -116673384700769 rhs = -72269640967818
        TestCaseTwoArgs{lhs: 0b100110111100101110111000110000111100110101011110, rhs: 80850379471190, expected: 252149659977396}, // lhs = -110175696204450
        TestCaseTwoArgs{lhs: 0b110110100111011001001010000110101000101001100010, rhs: 0b100010110111101001111001000010000000001100010101, expected: 140737488355328}, // lhs = -41273392461214 rhs = -128116843871467
        TestCaseTwoArgs{lhs: 38667041949007, rhs: 89050517640526, expected: 127717559589533},
        TestCaseTwoArgs{lhs: 0b101101101111110110000110001000101011011111010001, rhs: 0b101011011001001111010111110010001000100101100101, expected: 140737488355328}, // lhs = -80274983307311 rhs = -90624484669083
        TestCaseTwoArgs{lhs: 81802632840186, rhs: 0b100011111000010110000010010111001100010110101101, expected: 239606213380519}, // rhs = -123671396170323
        TestCaseTwoArgs{lhs: 0b101101101001100000101111111011001110010111101100, rhs: 99140588896532, expected: 18430367524608}, // lhs = -80710221371924
        TestCaseTwoArgs{lhs: 69513798538644, rhs: 0b111100011110111100111000001010011100001011110100, expected: 54048563566728}, // rhs = -15465234971916
        TestCaseTwoArgs{lhs: 0b101110000101001110010100110101000001111000101010, rhs: 79305882555044, expected: 500024570062}, // lhs = -78805857984982
        TestCaseTwoArgs{lhs: 0b101111011100110110011000110010010110100011001100, rhs: 0b101101000001001000100100110100000101011011101001, expected: 140737488355328}, // lhs = -72784247428916 rhs = -83484956666135
        TestCaseTwoArgs{lhs: 0b101011000111011110011100001000000010111100000001, rhs: 0b101110110001111110101101011101111001000110011101, expected: 140737488355328}, // lhs = -91845256270079 rhs = -75730248035939
        TestCaseTwoArgs{lhs: 126202544131163, rhs: 0b101000111100011111001010111000100110010111101101, expected: 24806065074760}, // rhs = -101396479056403
        TestCaseTwoArgs{lhs: 0b110001000110000100010110001101000101110110010110, rhs: 36006088924279, expected: 251927352326669}, // lhs = -65553713308266
        TestCaseTwoArgs{lhs: 86113449324995, rhs: 98815816784936, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 109137232691808, rhs: 48368525036154, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 7602516161752, rhs: 86482328344643, expected: 94084844506395},
        TestCaseTwoArgs{lhs: 0b111100001001111101001010010111001101011110011010, rhs: 84101408011435, expected: 67193369365573}, // lhs = -16908038645862
        TestCaseTwoArgs{lhs: 16863293318559, rhs: 128655387718637, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b111111111110000111010111101100000111101000001100, rhs: 116183835515131, expected: 116054310195975}, // lhs = -129525319156
        TestCaseTwoArgs{lhs: 58417788428358, rhs: 0b100110101111111100000011110111000001100110100110, expected: 228837860522476}, // rhs = -111054904616538
        TestCaseTwoArgs{lhs: 0b111010011001111001110110011100110111011111000111, rhs: 112530861463437, expected: 87922686136148}, // lhs = -24608175327289
        TestCaseTwoArgs{lhs: 0b100000010100110111110101010011010100000011011000, rhs: 0b100110111111010000001011110110001110111101010111, expected: 140737488355328}, // lhs = -139303148764968 rhs = -110002503618729
        TestCaseTwoArgs{lhs: 0b110010001011010101110100011011001101100011001000, rhs: 0b111000110100010100101011011101101001010100111011, expected: 189092912655875}, // lhs = -60793308784440 rhs = -31588755270341
        TestCaseTwoArgs{lhs: 0b100011001011101000001100100001101110111000101100, rhs: 0b110111011001001110000000010001011001100101011000, expected: 140737488355328}, // lhs = -126744274735572 rhs = -37849394734760
        TestCaseTwoArgs{lhs: 91398879793663, rhs: 0b111011101010001000100000011000001001100101101010, expected: 72303998397289}, // rhs = -19094881396374
        TestCaseTwoArgs{lhs: 85307756033272, rhs: 119340457666031, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b111101011000001101100000110100110001011011100000, rhs: 0b111001110100000001101100101111011110110110101011, expected: 242733525566603}, // lhs = -11530362743072 rhs = -27211088400981
        TestCaseTwoArgs{lhs: 0b100001111011101010101011000000000101101011111110, rhs: 32277099307952, expected: 181512901901998}, // lhs = -132239174116610
        TestCaseTwoArgs{lhs: 0b101011100110010011101110111100010011000010100100, rhs: 0b101011001101111101010110011111100110110010010001, expected: 140737488355328}, // lhs = -89726447963996 rhs = -91399747900271
        TestCaseTwoArgs{lhs: 137920926920410, rhs: 35005811981447, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b110011010001010100000100000001101010000010101100, rhs: 38243468973131, expected: 263733614523639}, // lhs = -55984831160148
        TestCaseTwoArgs{lhs: 107335596831682, rhs: 135932402917387, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b111000100001110001101110010111001111101001010010, rhs: 0b111001100111110010000101100000000100101001111101, expected: 220559251948751}, // lhs = -32863238161838 rhs = -28052486600067
        TestCaseTwoArgs{lhs: 110709301040451, rhs: 123941083798152, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 9657035613680, rhs: 0b101011010100001001011110111001011101111101000111, expected: 200157607183671}, // rhs = -90974405140665
        TestCaseTwoArgs{lhs: 0b101111101011001100000111001101110000111111101011, rhs: 0b101101111001001101101100001111011100111001111100, expected: 140737488355328}, // lhs = -71798847238165 rhs = -79631172645252
        TestCaseTwoArgs{lhs: 103299691172130, rhs: 89922240803888, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 120444208042040, rhs: 0b110010100101010010110110111011110000101000001100, expected: 61434426513988}, // rhs = -59009781528052
        TestCaseTwoArgs{lhs: 95684325017028, rhs: 117533413378923, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 63963692388531, rhs: 0b110100111001111111101110100110100011110110000010, expected: 15172572024373}, // rhs = -48791120364158
        TestCaseTwoArgs{lhs: 9315092438788, rhs: 0b100110010000101000110000000011110101100111001010, expected: 177584127473870}, // rhs = -113205941675574
        TestCaseTwoArgs{lhs: 0b110011110100110001111110011101011011011010000101, rhs: 80143242126285, expected: 26595711523410}, // lhs = -53547530602875
        TestCaseTwoArgs{lhs: 0b100100111101000000111100101000100110010101111101, rhs: 56945504418497, expected: 219468084174910}, // lhs = -118952396954243
        TestCaseTwoArgs{lhs: 30855764930415, rhs: 0b101111010011111110001010111010111010011111100000, expected: 238936376219471}, // rhs = -73394365421600
        TestCaseTwoArgs{lhs: 0b100010011011101010010110110011010110000101011010, rhs: 136558247248360, expected: 6517757502274}, // lhs = -130040489746086
        TestCaseTwoArgs{lhs: 0b101101000000000100011100111110001011100110011001, rhs: 116613463555981, expected: 33055360874790}, // lhs = -83558102681191
        TestCaseTwoArgs{lhs: 0b111000110101000110110110110000101111111001001110, rhs: 103929356116152, expected: 72394477494022}, // lhs = -31534878622130
        TestCaseTwoArgs{lhs: 0b101110011101110000000011000101001110100111010111, rhs: 0b100110110001000100110001001110101110101100001100, expected: 140737488355328}, // lhs = -77120381064745 rhs = -110976834016500
        TestCaseTwoArgs{lhs: 123757320472759, rhs: 46022287172240, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 66606989244819, rhs: 30898549494927, expected: 97505538739746},
        TestCaseTwoArgs{lhs: 0b111101000001110101000110100000111110001111111101, rhs: 26817606687443, expected: 13749204254416}, // lhs = -13068402433027
        TestCaseTwoArgs{lhs: 0b111100101111010111001100000001010100111110011100, rhs: 90997299744298, expected: 76659826843078}, // lhs = -14337472901220
        TestCaseTwoArgs{lhs: 0b101010000011001001101000011100100011010011100000, rhs: 0b110101101111011010110000000001111111101100010010, expected: 140737488355328}, // lhs = -96540522564384 rhs = -45119973098734
        TestCaseTwoArgs{lhs: 129418058558190, rhs: 0b100110111101100010101101101110111110011101111010, expected: 19298011861608}, // rhs = -110120046696582
        TestCaseTwoArgs{lhs: 0b100010011011101100010101001100101101100011101000, rhs: 0b111011010101101010001011110010111101110100100001, expected: 140737488355328}, // lhs = -130038369167128 rhs = -20501828477663
        TestCaseTwoArgs{lhs: 0b101010110000001000001000101000100101000101101100, rhs: 21577235302078, expected: 209602458441770}, // lhs = -93449753570964
        TestCaseTwoArgs{lhs: 0b100111001010010010001001001001100111000010001110, rhs: 140444369115997, expected: 31199881972715}, // lhs = -109244487143282
        TestCaseTwoArgs{lhs: 0b101111000010101110010111011000001001111001110111, rhs: 0b111101110110111110000101110000000011011001010110, expected: 197478789993677}, // lhs = -74579567403401 rhs = -9416619313578
        TestCaseTwoArgs{lhs: 0b101111101011111111000100010000001010110011100111, rhs: 0b101011001001011100100100111101111100011010010000, expected: 140737488355328}, // lhs = -71744136106777 rhs = -91709816453488
        TestCaseTwoArgs{lhs: 115246047638529, rhs: 0b111000011011010101011111000010111100110100001110, expected: 81940170866959}, // rhs = -33305876771570
        TestCaseTwoArgs{lhs: 68183492076237, rhs: 0b100100111101101101010101101010001000100001110011, expected: 230753736305472}, // rhs = -118904732481421
        TestCaseTwoArgs{lhs: 0b100111111001100000100100010110110001110101010011, rhs: 0b111010110100000001100111101100111110010100111010, expected: 152662667362957}, // lhs = -105999182914221 rhs = -22813126433478
        TestCaseTwoArgs{lhs: 0b100100100111010100000011101110011000101001001000, rhs: 129807860436872, expected: 9364155046352}, // lhs = -120443705390520
        TestCaseTwoArgs{lhs: 0b110001011101011100001000110011111110011001101110, rhs: 9528428457510, expected: 227055784940692}, // lhs = -63947620227474
        TestCaseTwoArgs{lhs: 0b111001101000010010111000010011100111111111100100, rhs: 137211345047028, expected: 109194070560216}, // lhs = -28017274486812
        TestCaseTwoArgs{lhs: 0b101101010001000100111001001100001100000000010101, rhs: 0b101011111001001100100110101111001001100110111001, expected: 140737488355328}, // lhs = -82389398142955 rhs = -88428431763015
        TestCaseTwoArgs{lhs: 75768806808245, rhs: 8672829100771, expected: 84441635909016},
        TestCaseTwoArgs{lhs: 0b101000001001000011110111011101000010111000111111, rhs: 127127529631553, expected: 22197040242048}, // lhs = -104930489389505
        TestCaseTwoArgs{lhs: 52416952135268, rhs: 94595446662860, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b100001011110001100011110011010000010010110100001, rhs: 132888940581779, expected: 280099454794036}, // lhs = -134264462498399
        TestCaseTwoArgs{lhs: 100809086843369, rhs: 0b100011100000010001101001001000010000101101001101, expected: 256958681630006}, // rhs = -125325381924019
        TestCaseTwoArgs{lhs: 0b101111010001110001001011010111010011100000001110, rhs: 0b110000101111010111111011101101110101100111100010, expected: 140815990297072}, // lhs = -73545755576306 rhs = -67113230837278
        TestCaseTwoArgs{lhs: 0b111000010110010101000001001000001110000110100100, rhs: 109737103288787, expected: 76087127198583}, // lhs = -33649976090204
        TestCaseTwoArgs{lhs: 112333359042946, rhs: 2497089558766, expected: 114830448601712},
        TestCaseTwoArgs{lhs: 17016145665506, rhs: 0b100000011101100111101110110111001111100101101100, expected: 159789161011022}, // rhs = -138701961365140
        TestCaseTwoArgs{lhs: 135051276430556, rhs: 0b100010010011000101010101100010001111100100000001, expected: 4421281162717}, // rhs = -130629995267839
        TestCaseTwoArgs{lhs: 0b100110110010110011101101101110000111101001110111, rhs: 0b101100111111101011010100011001101010101101001000, expected: 140737488355328}, // lhs = -110857707554185 rhs = -83585090016440
        TestCaseTwoArgs{lhs: 77956456922111, rhs: 110826665814020, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 49911993684084, rhs: 24749368813022, expected: 74661362497106},
        TestCaseTwoArgs{lhs: 0b100011111110111000110010000110001010000101110010, rhs: 44708177914146, expected: 202961383377556}, // lhs = -123221771247246
        TestCaseTwoArgs{lhs: 28283994608559, rhs: 73576302278213, expected: 101860296886772},
        TestCaseTwoArgs{lhs: 20737493035541, rhs: 19132975193704, expected: 39870468229245},
        TestCaseTwoArgs{lhs: 56778436077603, rhs: 45945047901821, expected: 102723483979424},
        TestCaseTwoArgs{lhs: 0b111101001101010010000010100001001000101110001010, rhs: 80032491843117, expected: 67751075101111}, // lhs = -12281416742006
        TestCaseTwoArgs{lhs: 0b101000001101111101001101000010001100100110001011, rhs: 0b111101101100111111001111001101010001000111001101, expected: 166778348886872}, // lhs = -104594046137973 rhs = -10102581685811
        TestCaseTwoArgs{lhs: 0b101111110100010101101111111001100001101110001110, rhs: 90452746303962, expected: 19282720593256}, // lhs = -71170025710706
        TestCaseTwoArgs{lhs: 132911598501164, rhs: 65915838883354, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 75205799580375, rhs: 0b110110111010010011101111111110011111110110010100, expected: 35232270127211}, // rhs = -39973529453164
        TestCaseTwoArgs{lhs: 54009682370906, rhs: 0b111111101000101100001110010011000000100011011011, expected: 52407899433525}, // rhs = -1601782937381
        TestCaseTwoArgs{lhs: 0b110100111111101100010011111110110001101000010101, rhs: 0b111011101111101100100000100011011110101101101101, expected: 214362699138434}, // lhs = -48399651235307 rhs = -18712626336915
        TestCaseTwoArgs{lhs: 129576196527078, rhs: 62565289688279, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 129562884420672, rhs: 83545506806939, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b111010011010101011010010101111011100011101011000, rhs: 73355245957245, expected: 48800158611413}, // lhs = -24555087345832
        TestCaseTwoArgs{lhs: 47625782810295, rhs: 28175342819806, expected: 75801125630101},
        TestCaseTwoArgs{lhs: 0b111100101111010111110101110011100101101011000001, rhs: 0b100011011011101011110100011111000001010111110100, expected: 141497333346485}, // lhs = -14336771859775 rhs = -125640871504396
        TestCaseTwoArgs{lhs: 132222155525539, rhs: 101971897522208, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 79686783433401, rhs: 13612973138499, expected: 93299756571900},
        TestCaseTwoArgs{lhs: 0b110000001100000010100000110011100110001000010011, rhs: 0b100111001000100110001111010001111111110101100011, expected: 140737488355328}, // lhs = -69541412576749 rhs = -109360348398237
        TestCaseTwoArgs{lhs: 0b100100101110101001111001100010000100100111010010, rhs: 56047312319383, expected: 217583071296873}, // lhs = -119939217733166
        TestCaseTwoArgs{lhs: 119642031770569, rhs: 64665572052719, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b101101100011010001000101011101010001111001100001, rhs: 0b100011100010101110110011010110111011011011001100, expected: 140737488355328}, // lhs = -81139356852639 rhs = -125156632840500
        TestCaseTwoArgs{lhs: 122025414548833, rhs: 39621368477041, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b110011110101100011001010011011000110001101011111, rhs: 79599268579493, expected: 26104552041476}, // lhs = -53494716538017
        TestCaseTwoArgs{lhs: 0b101110010011111110110000011110000110000001100100, rhs: 47948505977721, expected: 251631700734941}, // lhs = -77791781953436
        TestCaseTwoArgs{lhs: 0b110000010000011101100100000010000010100101101100, rhs: 58260909614729, expected: 270498396803061}, // lhs = -69237489522324
        TestCaseTwoArgs{lhs: 46427705892297, rhs: 0b100101010001011001000111000110000101101110011001, expected: 210350620490082}, // rhs = -117552062112871
        TestCaseTwoArgs{lhs: 12414914682793, rhs: 38926646068906, expected: 51341560751699},
        TestCaseTwoArgs{lhs: 0b100001010011100110011100110101100001101011100101, rhs: 50071208643021, expected: 196553699550386}, // lhs = -134992485803291
        TestCaseTwoArgs{lhs: 0b101110111111011000010101010000000110001000010110, rhs: 0b110000100100010101011101110000010000000001000000, expected: 140737488355328}, // lhs = -74809383820778 rhs = -67871795249088
        TestCaseTwoArgs{lhs: 128561463950789, rhs: 0b101000110110001001001001111000100001111010101100, expected: 26729028918385}, // rhs = -101832435032404
        TestCaseTwoArgs{lhs: 60822331315677, rhs: 0b100000101010101010010101010110100001110011110101, expected: 204491493077714}, // rhs = -137805814948619
        TestCaseTwoArgs{lhs: 0b110101111000110000000011111001001101011100111101, rhs: 71108747884170, expected: 26630131895751}, // lhs = -44478615988419
        TestCaseTwoArgs{lhs: 49599937455743, rhs: 124966684599111, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b101011110111010001111111101011111100011110010010, rhs: 0b111001110110000100101001000001000111000010110111, expected: 165844402583625}, // lhs = -88560083417198 rhs = -27070490709833
        TestCaseTwoArgs{lhs: 80907293108023, rhs: 110453899630745, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 104816364185490, rhs: 2028112949791, expected: 106844477135281},
        TestCaseTwoArgs{lhs: 0b110101111001100000101010110111101011110001111001, rhs: 99691493432804, expected: 55265070963293}, // lhs = -44426422469511
        TestCaseTwoArgs{lhs: 0b101011000011110101010111111100111101110011111101, rhs: 111024540667486, expected: 18929032538971}, // lhs = -92095508128515
        TestCaseTwoArgs{lhs: 111166617562785, rhs: 32149502241021, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 110793501878294, rhs: 0b110110001111110011111110110001101111100101010010, expected: 67899642978664}, // rhs = -42893858899630
        TestCaseTwoArgs{lhs: 0b101111100010100100000000011011100100100010011110, rhs: 116917095893154, expected: 44525429346624}, // lhs = -72391666546530
        TestCaseTwoArgs{lhs: 98154298753435, rhs: 102419311498336, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0b100110011101101110100000011101101101001001001000, rhs: 132498002714606, expected: 20191595033142}, // lhs = -112306407681464
        TestCaseTwoArgs{lhs: 14743291961702, rhs: 72494300555062, expected: 87237592516764},
        TestCaseTwoArgs{lhs: 0b100000011111111110111010111011010111110101000110, rhs: 0b111001101011000100010110011001111111100101010101, expected: 140737488355328}, // lhs = -138539623940794 rhs = -27826717197995
        TestCaseTwoArgs{lhs: 0b100100010001110110001001001011111110011011101110, rhs: 36229347604031, expected: 195785389301037}, // lhs = -121918935013650
        TestCaseTwoArgs{lhs: 0b101101100111101011010100111011100111111100000101, rhs: 0b100100111010100110010111100111011100010000100111, expected: 140737488355328}, // lhs = -80836302045435 rhs = -119118374255577
        TestCaseTwoArgs{lhs: 62516018004250, rhs: 0b101000100110101110101010101101111010010110001000, expected: 241099327366818}, // rhs = -102891667348088
        TestCaseTwoArgs{lhs: 0b100111100000010001101100100110011000011000010000, rhs: 0b110100011111110000001110110110100011101110101110, expected: 140737488355328}, // lhs = -107733137652208 rhs = -50594465563730
        TestCaseTwoArgs{lhs: 103765600567273, rhs: 0b111010011110110101000000001101011111101010011001, expected: 79495817656962}, // rhs = -24269782910311
        TestCaseTwoArgs{lhs: 82894714225810, rhs: 0b100000100111010101100010001010000011001000110101, expected: 226335383811783}, // rhs = -138034307124683
        TestCaseTwoArgs{lhs: 120082500795737, rhs: 0b100000101000101100110000100010100110011010011100, expected: 263616827237365}, // rhs = -137940650269028
        TestCaseTwoArgs{lhs: 80874720451241, rhs: 113714359431829, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 36168688324458, rhs: 46960631860492, expected: 83129320184950},
        TestCaseTwoArgs{lhs: 0b111110001000111100001101111101110110101111110011, rhs: 84858934627498, expected: 76677256247453}, // lhs = -8181678380045
        TestCaseTwoArgs{lhs: 15993387089723, rhs: 0b111110110111011111010111100011111001111101011100, expected: 11010546572951}, // rhs = -4982840516772
        TestCaseTwoArgs{lhs: 0b110101011011010101011011011011000101000000010111, rhs: 87653301292702, expected: 41153224203957}, // lhs = -46500077088745
        TestCaseTwoArgs{lhs: 122356513626103, rhs: 93094798537115, expected: 140737488355327},

        // Edge cases
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0, expected: 140737488355328}, // lhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 140737488355327, expected: 281474976710655}, // lhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0b100000000000000000000000000000000000000000000000, expected: 140737488355328}, // lhs = -140737488355328 rhs = -140737488355328
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 140737488355327, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0, rhs: 0b100000000000000000000000000000000000000000000000, expected: 140737488355328}, // rhs = -140737488355328
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 140737488355327, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0b100000000000000000000000000000000000000000000000, expected: 281474976710655}, // rhs = -140737488355328
    ];

    #[test]
    fn test_i48() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_sadd_sat_k_k_k(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
