use crate::rtstate::RTState;
use crate::alu::srem::srem;
use crate::integer::u40::u40;

pub fn __llvm_srem_n_n_n(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    srem::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_srem_n_n_n;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 206] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 429007110876, rhs: 0b1110110110010110000100100000001001001000, expected: 0b1111010101100111001111010001000010001100}, // rhs = -79086615992 expected = -45512585076
        TestCaseTwoArgs{lhs: 158552107342, rhs: 0b1000011001100000010110111101001100000100, expected: 0b1010101101001010110011001111110001010010}, // rhs = -522369379580 expected = -363817272238
        TestCaseTwoArgs{lhs: 180870118451, rhs: 379197341384, expected: 180870118451},
        TestCaseTwoArgs{lhs: 0b1111101100101000110001101010100000000001, rhs: 424459924339, expected: 403669195636}, // lhs = -20790728703
        TestCaseTwoArgs{lhs: 255136463351, rhs: 0b1001101101000111110101001010001101011110, expected: 0b1101011010101111001001100001110101010101}, // rhs = -432586579106 expected = -177450115755
        TestCaseTwoArgs{lhs: 505125246019, rhs: 258779944280, expected: 246345301739},
        TestCaseTwoArgs{lhs: 0b1001100111010100101110010100000100000011, rhs: 0b1000110010010101110110011110100101110101, expected: 0b1001100111010100101110010100000100000011}, // lhs = -438812720893 rhs = -495702120075 expected = -438812720893
        TestCaseTwoArgs{lhs: 435557003541, rhs: 0b1011100011111010010010001001000111000001, expected: 0b1101011101011101110010011001010010010111}, // rhs = -305038585407 expected = -174520167273
        TestCaseTwoArgs{lhs: 86971313860, rhs: 447628199609, expected: 86971313860},
        TestCaseTwoArgs{lhs: 233372506504, rhs: 282790032765, expected: 233372506504},
        TestCaseTwoArgs{lhs: 0b1100000011001000011010100010111100100000, rhs: 0b1111000000100001110010100000111100000001, expected: 0b1111000001100011000011000000001000011101}, // lhs = -271515504864 rhs = -68152586495 expected = -67057745379
        TestCaseTwoArgs{lhs: 2258772915, rhs: 43684640004, expected: 2258772915},
        TestCaseTwoArgs{lhs: 431263392632, rhs: 0b1000111101011100110000010011010001101111, expected: 0b1111001111000110000011100101011111100111}, // rhs = -483775138705 expected = -52511746073
        TestCaseTwoArgs{lhs: 0b1001000001000000000000110100001110011101, rhs: 0b1100101011011111110010110000100010001101, expected: 0b1111101010000000011011010011001010000011}, // lhs = -479962381411 rhs = -228173608819 expected = -23615163773
        TestCaseTwoArgs{lhs: 0b1010110101100000111100001100100100110100, rhs: 0b1000101101001001010011100011011011100100, expected: 0b1010110101100000111100001100100100110100}, // lhs = -354855892684 rhs = -501281311004 expected = -354855892684
        TestCaseTwoArgs{lhs: 0b1001101010000001101111110101011000111101, rhs: 0b1110100010001100111000001100010000011110, expected: 0b1111100001001110001111000100010111000101}, // lhs = -435909863875 rhs = -100715674594 expected = -33047165499
        TestCaseTwoArgs{lhs: 292059692810, rhs: 447443072124, expected: 292059692810},
        TestCaseTwoArgs{lhs: 0b1010010011000111101011100111011110001011, rhs: 343819728815, expected: 295852566249}, // lhs = -391786891381
        TestCaseTwoArgs{lhs: 0b1010111011111111111110000000001010000101, rhs: 0b1011110000100010000100011001001101111010, expected: 0b1111001011011101111001100110111100001011}, // lhs = -347892874619 rhs = -291486198918 expected = -56406675701
        TestCaseTwoArgs{lhs: 50579653539, rhs: 373807213157, expected: 50579653539},
        TestCaseTwoArgs{lhs: 0b1100101011101100100100010001010110100110, rhs: 386681262954, expected: 158721960208}, // lhs = -227959302746
        TestCaseTwoArgs{lhs: 98613430644, rhs: 16174862321, expected: 1564256718},
        TestCaseTwoArgs{lhs: 112533647122, rhs: 0b1101001010111010111110100110011110110110, expected: 0b1110110011101110100000011001011011001000}, // rhs = -194431522890 expected = -81897875768
        TestCaseTwoArgs{lhs: 114739593317, rhs: 0b1011100011111011110011110000000100101101, expected: 0b1101001110110010110100100100000110010010}, // rhs = -305012997843 expected = -190273404526
        TestCaseTwoArgs{lhs: 0b1010110010011011000101000100110101010001, rhs: 180717679030, expected: 3259904189}, // lhs = -358175453871
        TestCaseTwoArgs{lhs: 0b1100000111010011100001011011010011101111, rhs: 308596415261, expected: 41562230796}, // lhs = -267034184465
        TestCaseTwoArgs{lhs: 457312132460, rhs: 0b1100100100110101010011100110000101010101, expected: 0b1111110011100100100010100010000000010110}, // rhs = -235328872107 expected = -13345611754
        TestCaseTwoArgs{lhs: 347504993086, rhs: 0b1010100101011010110011011000001011100101, expected: 0b1111101001000011101101101110011000100011}, // rhs = -372138736923 expected = -24633743837
        TestCaseTwoArgs{lhs: 0b1000000101001011101001011001110010010010, rhs: 0b1110101011101010010000110000010110010111, expected: 0b1111111111001110000100110111101100001000}, // lhs = -544191701870 rhs = -90559019625 expected = -837584120
        TestCaseTwoArgs{lhs: 0b1100001011010110001110100010010000001011, rhs: 127796613700, expected: 120696003287}, // lhs = -262693837813
        TestCaseTwoArgs{lhs: 0b1000101010000101110111110001010011101010, rhs: 0b1001100100110010001111110100100000010101, expected: 0b1111000101010011100111111100110011010101}, // lhs = -504560151318 rhs = -441538623467 expected = -63021527851
        TestCaseTwoArgs{lhs: 0b1110001011111001101100000101111101011101, rhs: 0b1011001000001111100001001000110011000010, expected: 0b1110001011111001101100000101111101011101}, // lhs = -124659933347 rhs = -334747104062 expected = -124659933347
        TestCaseTwoArgs{lhs: 340573974814, rhs: 0b1111111010101110110011000010100011110001, expected: 0b1111111011110010011100000011001010001011}, // rhs = -5657319183 expected = -4522495349
        TestCaseTwoArgs{lhs: 0b1000010010011110100110110111000110010110, rhs: 19720338242, expected: 2534175116}, // lhs = -529914957418
        TestCaseTwoArgs{lhs: 0b1110000011010011011110111101100111000000, rhs: 0b1100001101000000101100111110111110010000, expected: 0b1110000011010011011110111101100111000000}, // lhs = -133890844224 rhs = -260907470960 expected = -133890844224
        TestCaseTwoArgs{lhs: 0b1101110101000000101110100101000110000010, rhs: 538648980921, expected: 389411077947}, // lhs = -149237902974
        TestCaseTwoArgs{lhs: 352283103815, rhs: 402539060545, expected: 352283103815},
        TestCaseTwoArgs{lhs: 336797868803, rhs: 286521154910, expected: 50276713893},
        TestCaseTwoArgs{lhs: 0b1110100100100010101101111001010011100100, rhs: 286229901347, expected: 188028110087}, // lhs = -98201791260
        TestCaseTwoArgs{lhs: 0b1011101111110000001111011100100001010011, rhs: 412601767317, expected: 120279604712}, // lhs = -292322162605
        TestCaseTwoArgs{lhs: 0b1011101001010100110000100011101110101111, rhs: 163857257396, expected: 28488819479}, // lhs = -299225695313
        TestCaseTwoArgs{lhs: 0b1010001101101110001000011110010011000011, rhs: 121297904517, expected: 87607374551}, // lhs = -397584243517
        TestCaseTwoArgs{lhs: 468500353613, rhs: 40430071326, expected: 23769569027},
        TestCaseTwoArgs{lhs: 0b1100111100100001111011101100010101110000, rhs: 331336451966, expected: 121452350702}, // lhs = -209884101264
        TestCaseTwoArgs{lhs: 509385868664, rhs: 492335411933, expected: 17050456731},
        TestCaseTwoArgs{lhs: 0b1001000111001011110010111100011100010001, rhs: 420353439758, expected: 367384639277}, // lhs = -473322240239
        TestCaseTwoArgs{lhs: 323689333784, rhs: 114500041074, expected: 94689251636},
        TestCaseTwoArgs{lhs: 0b1111000010000001100100001010111000010010, rhs: 0b1110000010001001110010111101011010100010, expected: 0b1111000010000001100100001010111000010010}, // lhs = -66545734126 rhs = -135127116126 expected = -66545734126
        TestCaseTwoArgs{lhs: 360439984631, rhs: 0b1111111000010110001000101000111000010101, expected: 0b1111111110111001110101100001110110010011}, // rhs = -8218571243 expected = -1177150061
        TestCaseTwoArgs{lhs: 24546012859, rhs: 0b1000110000011000100011001010010011101100, expected: 0b1001000111001111100110110001001110100111}, // rhs = -497804335892 expected = -473258323033
        TestCaseTwoArgs{lhs: 0b1011011000111000100000101101111000110011, rhs: 0b1000001101111100011100100100111100000101, expected: 0b1011011000111000100000101101111000110011}, // lhs = -316879479245 rhs = -534783045883 expected = -316879479245
        TestCaseTwoArgs{lhs: 0b1100001011000001110000001010001111000110, rhs: 0b1010001101111110000110101011101110110111, expected: 0b1100001011000001110000001010001111000110}, // lhs = -263037344826 rhs = -397316277321 expected = -263037344826
        TestCaseTwoArgs{lhs: 0b1010010010011010110100001110110110101000, rhs: 0b1010111000000100100110101011000000011100, expected: 0b1111011010010110001101100011110110001100}, // lhs = -392539607640 rhs = -352110071780 expected = -40429535860
        TestCaseTwoArgs{lhs: 0b1100010110010100000010100111001011010111, rhs: 89616950893, expected: 17931494942}, // lhs = -250919357737
        TestCaseTwoArgs{lhs: 0b1100110100001011101100010000110111000101, rhs: 0b1000000000101011001000101011000101001110, expected: 0b1100110100001011101100010000110111000101}, // lhs = -218847179323 rhs = -549032119986 expected = -218847179323
        TestCaseTwoArgs{lhs: 348702051342, rhs: 187241180107, expected: 161460871235},
        TestCaseTwoArgs{lhs: 0b1111010101100000011010111101000001111001, rhs: 0b1100001010010111101000111101100011010101, expected: 0b1111010101100000011010111101000001111001}, // lhs = -45626961799 rhs = -263743874859 expected = -45626961799
        TestCaseTwoArgs{lhs: 0b1010110100110010001000111111000010110011, rhs: 436480877438, expected: 80839808049}, // lhs = -355641069389
        TestCaseTwoArgs{lhs: 215194488775, rhs: 3920478533, expected: 3488647993},
        TestCaseTwoArgs{lhs: 502121453793, rhs: 117842133855, expected: 30752918373},
        TestCaseTwoArgs{lhs: 0b1110110010111111011111011001111011101110, rhs: 0b1111001111000101010101110110111001001011, expected: 0b1111100011111010001001100011000010100011}, // lhs = -82686664978 rhs = -52523733429 expected = -30162931549
        TestCaseTwoArgs{lhs: 0b1001100000000000101100000001010100110110, rhs: 0b1111101100000000010100011000010111011100, expected: 0b1111101111111010010100011010000000000110}, // lhs = -446665059018 rhs = -21469493796 expected = -17275183098
        TestCaseTwoArgs{lhs: 0b1110101110001011010001111100100011001011, rhs: 0b1000000011100000010110000001110111000111, expected: 0b1110101110001011010001111100100011001011}, // lhs = -87857575733 rhs = -545991942713 expected = -87857575733
        TestCaseTwoArgs{lhs: 436583509152, rhs: 0b1110001110101110001111110011111011100100, expected: 0b1111010001011111011001001010100000110000}, // rhs = -121630671132 expected = -49939175376
        TestCaseTwoArgs{lhs: 499818158527, rhs: 307536251812, expected: 192281906715},
        TestCaseTwoArgs{lhs: 0b1010110001100101000100110000010110000110, rhs: 0b1100011001000101110101010100110000000010, expected: 0b1110011000011111001111011011100110000100}, // lhs = -359081507450 rhs = -247936496638 expected = -111145010812
        TestCaseTwoArgs{lhs: 340885019875, rhs: 25475476035, expected: 9703831420},
        TestCaseTwoArgs{lhs: 0b1110101100011100000000111001100111001101, rhs: 0b1100000100111000011001011010010101111010, expected: 0b1110101100011100000000111001100111001101}, // lhs = -89724315187 rhs = -269636754054 expected = -89724315187
        TestCaseTwoArgs{lhs: 0b1100011100101101001000000011111101001100, rhs: 0b1001010110001000010001100000000101011011, expected: 0b1100011100101101001000000011111101001100}, // lhs = -244056047796 rhs = -457275211429 expected = -244056047796
        TestCaseTwoArgs{lhs: 0b1001100110111011000100010011110000010111, rhs: 0b1010001001111000100001100000010011001111, expected: 0b1111011101000010100010110011011101001000}, // lhs = -439243162601 rhs = -401704876849 expected = -37538285752
        TestCaseTwoArgs{lhs: 305761004661, rhs: 0b1010011001100100000001101110110011111010, expected: 0b1110110110010100110011011001100101101111}, // rhs = -384868881158 expected = -79107876497
        TestCaseTwoArgs{lhs: 0b1001011101111110010011100010111011000011, rhs: 0b1011000011111101011110000110000111000001, expected: 0b1110011010000000110101011100110100000010}, // lhs = -448852513085 rhs = -339344858687 expected = -109507654398
        TestCaseTwoArgs{lhs: 427435744032, rhs: 0b1000001001100001011011111100101000001111, expected: 0b1110010111100110100101111010010100101111}, // rhs = -539531163121 expected = -112095419089
        TestCaseTwoArgs{lhs: 0b1111000100000111100011000110111111110100, rhs: 431945735845, expected: 367647870617}, // lhs = -64297865228
        TestCaseTwoArgs{lhs: 246273414756, rhs: 0b1011100000111010110101111101000110001010, expected: 0b1111000110010001111000011110011111101110}, // rhs = -308250422902 expected = -61977008146
        TestCaseTwoArgs{lhs: 494231973161, rhs: 130858742534, expected: 101655745559},
        TestCaseTwoArgs{lhs: 0b1101111101000101010001000010101010111101, rhs: 171562456252, expected: 30990630777}, // lhs = -140571825475
        TestCaseTwoArgs{lhs: 0b1001001111100101101001010110100100111111, rhs: 472210592953, expected: 7911980536}, // lhs = -464298612417
        TestCaseTwoArgs{lhs: 0b1001011101010100001010111000110001000100, rhs: 355038328714, expected: 260517231448}, // lhs = -449559425980
        TestCaseTwoArgs{lhs: 7661496629, rhs: 397410025731, expected: 7661496629},
        TestCaseTwoArgs{lhs: 516630503998, rhs: 265150243529, expected: 251480260469},
        TestCaseTwoArgs{lhs: 0b1100101000100010001001101010111111111010, rhs: 65990727451, expected: 32607636582}, // lhs = -231355273222
        TestCaseTwoArgs{lhs: 510976801638, rhs: 159391454353, expected: 32802438579},
        TestCaseTwoArgs{lhs: 0b1111111010101110010110110010011101011100, rhs: 291097412153, expected: 285432686997}, // lhs = -5664725156
        TestCaseTwoArgs{lhs: 332364451431, rhs: 109629764406, expected: 3475158213},
        TestCaseTwoArgs{lhs: 546749901217, rhs: 0b1111010010111010010110000101011010010100, expected: 0b1111100000001000111110010111100010010001}, // rhs = -48413256044 expected = -34209171311
        TestCaseTwoArgs{lhs: 145181215898, rhs: 329295188361, expected: 145181215898},
        TestCaseTwoArgs{lhs: 319166940101, rhs: 60753452461, expected: 15399677796},
        TestCaseTwoArgs{lhs: 0b1110101101100110111011010100000000110010, rhs: 0b1101001010010000110110101101000010000001, expected: 0b1110101101100110111011010100000000110010}, // lhs = -88467488718 rhs = -195138236287 expected = -88467488718
        TestCaseTwoArgs{lhs: 511248408235, rhs: 0b1001011110110100010010011111001000101101, expected: 0b1010011001110001010110111000001100000101}, // rhs = -447946821075 expected = -384645233915
        TestCaseTwoArgs{lhs: 539266630563, rhs: 314044964511, expected: 225221666052},
        TestCaseTwoArgs{lhs: 0b1100001010011101000010011000011001110011, rhs: 156675171178, expected: 49697017159}, // lhs = -263653325197
        TestCaseTwoArgs{lhs: 230180937234, rhs: 0b1001001011100000001010011010010111110001, expected: 0b1100100001111000000001000000010000000011}, // rhs = -468685576719 expected = -238504639485
        TestCaseTwoArgs{lhs: 522894673805, rhs: 0b1011010001011100010110001101111001011101, expected: 0b1110001001110111101001010100010001000111}, // rhs = -324868186531 expected = -126841699257
        TestCaseTwoArgs{lhs: 0b1100001110111111011001010011001101111110, rhs: 0b1100111001010101101011110000001011011101, expected: 0b1111010101101001101101100011000010100001}, // lhs = -258781924482 rhs = -213310831907 expected = -45471092575
        TestCaseTwoArgs{lhs: 0b1110000000000111011100010010110100100111, rhs: 87411325250, expected: 37508554667}, // lhs = -137314095833
        TestCaseTwoArgs{lhs: 0b1011011000001101011011111010001010000001, rhs: 547286847733, expected: 229684687734}, // lhs = -317602159999
        TestCaseTwoArgs{lhs: 306339228812, rhs: 0b1010011010111010110001110010110001110101, expected: 0b1110111000001110000001001101100100000001}, // rhs = -383413441419 expected = -77074212607
        TestCaseTwoArgs{lhs: 0b1111111011100111001100010101000010000010, rhs: 421729911696, expected: 417018745874}, // lhs = -4711165822
        TestCaseTwoArgs{lhs: 156380460062, rhs: 0b1111010000111010100001100001011001000010, expected: 0b1111010101010011000110001100110100100110}, // rhs = -50557741502 expected = -45850505946
        TestCaseTwoArgs{lhs: 0b1100000110001000100111001010001000010101, rhs: 543078073897, expected: 274787100734}, // lhs = -268290973163
        TestCaseTwoArgs{lhs: 0b1100000011010011000001101110110110000011, rhs: 0b1010111010111000101110110100110111000100, expected: 0b1100000011010011000001101110110110000011}, // lhs = -271337460349 rhs = -349088035388 expected = -271337460349
        TestCaseTwoArgs{lhs: 0b1000000101100110001000110100111101111110, rhs: 0b1010001011100100000111000100101010101111, expected: 0b1101111010000010000001110000010011001111}, // lhs = -543747256450 rhs = -399899866449 expected = -143847390001
        TestCaseTwoArgs{lhs: 137005604798, rhs: 0b1010001010000010011010111110111000011011, expected: 0b1100001001101000100101111000110111011001}, // rhs = -401538814437 expected = -264533209639
        TestCaseTwoArgs{lhs: 0b1100001110101101100000111110111100011101, rhs: 306274075954, expected: 47192175695}, // lhs = -259081900259
        TestCaseTwoArgs{lhs: 370078657723, rhs: 0b1111000001010100001100000001100110001011, expected: 0b1111100000100011100010001100010111111101}, // rhs = -67307038325 expected = -33763572227
        TestCaseTwoArgs{lhs: 207058452151, rhs: 0b1001000001111001000011111001111101010100, expected: 0b1100000010101110101101001101111000001011}, // rhs = -479005270188 expected = -271946818037
        TestCaseTwoArgs{lhs: 0b1100000110101010110101010100010111110110, rhs: 0b1001011110101110100111010011011111000011, expected: 0b1100000110101010110101010100010111110110}, // lhs = -267716835850 rhs = -448042027069 expected = -267716835850
        TestCaseTwoArgs{lhs: 74518054212, rhs: 2418826061, expected: 1953272382},
        TestCaseTwoArgs{lhs: 0b1100100110011010011010100001001001101000, rhs: 332746182819, expected: 99113624331}, // lhs = -233632558488
        TestCaseTwoArgs{lhs: 0b1111000000000010110010110000010010111010, rhs: 0b1000010101010110000000010000101111111101, expected: 0b1111000000000010110010110000010010111010}, // lhs = -68672617286 rhs = -526838068227 expected = -68672617286
        TestCaseTwoArgs{lhs: 176502102831, rhs: 399024729960, expected: 176502102831},
        TestCaseTwoArgs{lhs: 0b1111011110111101111110100010010100010100, rhs: 0b1001010101110110010000111001001011110101, expected: 0b1111011110111101111110100010010100010100}, // lhs = -35467418348 rhs = -457577360651 expected = -35467418348
        TestCaseTwoArgs{lhs: 0b1000001111010101101100111010001011101101, rhs: 0b1011001100011011100111110100110010000110, expected: 0b1101000010111010000101000101011001100111}, // lhs = -533285592339 rhs = -330249057146 expected = -203036535193
        TestCaseTwoArgs{lhs: 0b1110011010001100011100011010111000001110, rhs: 0b1001100000110011001111011100111011001111, expected: 0b1110011010001100011100011010111000001110}, // lhs = -109312889330 rhs = -445816910129 expected = -109312889330
        TestCaseTwoArgs{lhs: 185900645261, rhs: 0b1011011000101010011111010011011001100100, expected: 0b1110000101110011000001111111000111110001}, // rhs = -317114730908 expected = -131214085647
        TestCaseTwoArgs{lhs: 0b1001111101100101000100010000010111001111, rhs: 0b1101010001011110111010101111110100011001, expected: 0b1111011010100111001110110000101110011101}, // lhs = -414916213297 rhs = -187386102503 expected = -40144008291
        TestCaseTwoArgs{lhs: 485906738158, rhs: 0b1110010111101011010101000111000000000010, expected: 0b1110111010111010111100101001101111111000}, // rhs = -112015937534 expected = -74172949512
        TestCaseTwoArgs{lhs: 507058305243, rhs: 0b1101000010111000101110100001011000000101, expected: 0b1110100000111001001101011111101011101010}, // rhs = -203059227131 expected = -102119376150
        TestCaseTwoArgs{lhs: 0b1100010000101100100000100011100001010100, rhs: 0b1000001011010000011000000100110000101100, expected: 0b1100010000101100100000100011100001010100}, // lhs = -256951306156 rhs = -537669907412 expected = -256951306156
        TestCaseTwoArgs{lhs: 0b1111001100100100110111100100100101111001, rhs: 262097193313, expected: 206881166042}, // lhs = -55216027271
        TestCaseTwoArgs{lhs: 0b1010001011010100100100011101101100010011, rhs: 171208229666, expected: 113464091769}, // lhs = -400160597229
        TestCaseTwoArgs{lhs: 0b1000000001110110111100010100001110111100, rhs: 359741628643, expected: 171722966402}, // lhs = -547760290884
        TestCaseTwoArgs{lhs: 496977906888, rhs: 367808496538, expected: 129169410350},
        TestCaseTwoArgs{lhs: 239611357899, rhs: 0b1011111011011101001001100110101110100001, expected: 0b1111011010100111000110011001011001101100}, // rhs = -279757558879 expected = -40146200980
        TestCaseTwoArgs{lhs: 117451335090, rhs: 0b1001011110110100101100000111110111011001, expected: 0b1011001100001101010101011010001110001011}, // rhs = -447940100647 expected = -330488765557
        TestCaseTwoArgs{lhs: 476518218439, rhs: 13511241888, expected: 3624752359},
        TestCaseTwoArgs{lhs: 403466410829, rhs: 142062729969, expected: 119340950891},
        TestCaseTwoArgs{lhs: 437814871134, rhs: 0b1111111001111111010001110010001001000110, expected: 0b1111111110111110101100011101111011110110}, // rhs = -6454566330 expected = -1095639306
        TestCaseTwoArgs{lhs: 357247570746, rhs: 0b1111010110100110000001100001101100111000, expected: 0b1111011000000011110101000100100000110010}, // rhs = -44459222216 expected = -42885429198
        TestCaseTwoArgs{lhs: 0b1011101010111000000000101011011001101010, rhs: 0b1010001110101111000101011000111010010101, expected: 0b1011101010111000000000101011011001101010}, // lhs = -297560525206 rhs = -396494532971 expected = -297560525206
        TestCaseTwoArgs{lhs: 295250761450, rhs: 0b1010101010010000000101111001000010000111, expected: 0b1110111101001110011010001010011101110001}, // rhs = -366949724025 expected = -71698962575
        TestCaseTwoArgs{lhs: 392100856323, rhs: 0b1011101100111001100100011001101101010100, expected: 0b1101000110111110001010110111100010101011}, // rhs = -295386899628 expected = -198672942933
        TestCaseTwoArgs{lhs: 0b1110001101111111000101000110000010111101, rhs: 0b1001001110011001010110010110001010100000, expected: 0b1110001101111111000101000110000010111101}, // lhs = -122422009667 rhs = -465578663264 expected = -122422009667
        TestCaseTwoArgs{lhs: 90629394407, rhs: 79257075332, expected: 11372319075},
        TestCaseTwoArgs{lhs: 0b1001101010011100001100101010110111011000, rhs: 382951370292, expected: 330436643392}, // lhs = -435466097192
        TestCaseTwoArgs{lhs: 0b1000101000100111101011110001100000101111, rhs: 438107121694, expected: 370073888875}, // lhs = -506140354513
        TestCaseTwoArgs{lhs: 470317970686, rhs: 0b1000000111100100001101111111110100111001, expected: 0b1110111101100101010110101011001000110111}, // rhs = -541631972039 expected = -71314001353
        TestCaseTwoArgs{lhs: 426895260849, rhs: 0b1010100100001110000101010011001000110100, expected: 0b1011010110000001000110110010000100011001}, // rhs = -373425884620 expected = -319956508391
        TestCaseTwoArgs{lhs: 0b1101110001111100000111001011011101111111, rhs: 0b1001011010110100001101010001111110110010, expected: 0b1101110001111100000111001011011101111111}, // lhs = -152536565889 rhs = -452243152974 expected = -152536565889
        TestCaseTwoArgs{lhs: 70873929697, rhs: 44926320010, expected: 25947609687},
        TestCaseTwoArgs{lhs: 0b1011101000110100001111000111000111110000, rhs: 0b1111101001011101011011010000011111110010, expected: 0b1111110111010011001000000001001010011000}, // lhs = -299771334160 rhs = -24202377230 expected = -9342807400
        TestCaseTwoArgs{lhs: 132345653752, rhs: 142259137684, expected: 132345653752},
        TestCaseTwoArgs{lhs: 0b1110110111000101000001000101000000010001, rhs: 432085098352, expected: 353786113921}, // lhs = -78298984431
        TestCaseTwoArgs{lhs: 0b1011000111001110010011000001111110110100, rhs: 0b1001111010010100001111010001000110111100, expected: 0b1011000111001110010011000001111110110100}, // lhs = -335841321036 rhs = -418419764804 expected = -335841321036
        TestCaseTwoArgs{lhs: 245045780414, rhs: 109642469031, expected: 25760842352},
        TestCaseTwoArgs{lhs: 0b1101110010111011010010111000011100101010, rhs: 60084735364, expected: 28777672630}, // lhs = -151476533462
        TestCaseTwoArgs{lhs: 0b1110000110100001010101010101010111001011, rhs: 277828509728, expected: 147391247851}, // lhs = -130437261877
        TestCaseTwoArgs{lhs: 0b1101000000011100111010100110010101000011, rhs: 0b1011100111000100100111111000010010001010, expected: 0b1101000000011100111010100110010101000011}, // lhs = -205673306813 rhs = -301643889526 expected = -205673306813
        TestCaseTwoArgs{lhs: 153334936025, rhs: 0b1000001000000100000100100010000010010000, expected: 0b1010010110110111100010111001001001101001}, // rhs = -541097582448 expected = -387762646423
        TestCaseTwoArgs{lhs: 0b1000001110010110001101111001000110110001, rhs: 0b1011001110101101011110110010011111001100, expected: 0b1100111111101000101111000110100111100101}, // lhs = -534350687823 rhs = -327801952308 expected = -206548735515
        TestCaseTwoArgs{lhs: 131752101568, rhs: 116125848607, expected: 15626252961},
        TestCaseTwoArgs{lhs: 0b1110111101001111001111100101011001110011, rhs: 84667226932, expected: 12982268327}, // lhs = -71684958605
        TestCaseTwoArgs{lhs: 0b1001011110001011100110100100100110001100, rhs: 0b1001000101000000011101110011010100110000, expected: 0b1001011110001011100110100100100110001100}, // lhs = -448629421684 rhs = -475659815632 expected = -448629421684
        TestCaseTwoArgs{lhs: 74526092669, rhs: 189091745460, expected: 74526092669},
        TestCaseTwoArgs{lhs: 205865816405, rhs: 438168950471, expected: 205865816405},
        TestCaseTwoArgs{lhs: 0b1001010000101100101010101010101101010110, rhs: 63836559440, expected: 47585390038}, // lhs = -463107085482
        TestCaseTwoArgs{lhs: 125961275031, rhs: 0b1110111100111011010011100011110100011101, expected: 0b1111101111001010011111010000000011010001}, // rhs = -72019460835 expected = -18077646639
        TestCaseTwoArgs{lhs: 209832805243, rhs: 519178184427, expected: 209832805243},
        TestCaseTwoArgs{lhs: 508318409239, rhs: 0b1011010111001000100000010101011001000111, expected: 0b1110000111101011001001100000111010100101}, // rhs = -318758627769 expected = -129198846299
        TestCaseTwoArgs{lhs: 0b1100000011101100111111100110100101000101, rhs: 523832733158, expected: 252930922283}, // lhs = -270901810875
        TestCaseTwoArgs{lhs: 0b1100011100100101110111000101010110011110, rhs: 98717256707, expected: 51973831079}, // lhs = -244177939042
        TestCaseTwoArgs{lhs: 76008330955, rhs: 0b1010011010011011010010011011111101111000, expected: 0b1011100001001101101111001101011001000011}, // rhs = -383941755016 expected = -307933424061
        TestCaseTwoArgs{lhs: 0b1000011010001111110011111000111101001100, rhs: 0b1010101010011001011001011101010110011011, expected: 0b1101101111110110011010011011100110110001}, // lhs = -521573265588 rhs = -366793599589 expected = -154779665999
        TestCaseTwoArgs{lhs: 268616652408, rhs: 0b1100100000110011010001110101100110100001, expected: 0b1100111011110001010110111000100110111010}, // rhs = -239657854559 expected = -210699056710
        TestCaseTwoArgs{lhs: 503694524194, rhs: 448566297857, expected: 55128226337},
        TestCaseTwoArgs{lhs: 35300490443, rhs: 414936345290, expected: 35300490443},
        TestCaseTwoArgs{lhs: 502260250803, rhs: 0b1100110100100010111100001001011100011110, expected: 0b1101110001011001110111001111111000001101}, // rhs = -218457139426 expected = -153111167475
        TestCaseTwoArgs{lhs: 0b1010011011001110010111110110010101101011, rhs: 153204907877, expected: 76530025370}, // lhs = -383084698261
        TestCaseTwoArgs{lhs: 0b1011011000011010100000100101110011101000, rhs: 464989070800, expected: 147606241976}, // lhs = -317382828824
        TestCaseTwoArgs{lhs: 0b1011111000111111101111011011001111101010, rhs: 347009457367, expected: 64611012801}, // lhs = -282398444566
        TestCaseTwoArgs{lhs: 315430758123, rhs: 0b1101010011011011100101010111101101110101, expected: 0b1111001100101000010011100101110111010101}, // rhs = -185294554251 expected = -55158350379
        TestCaseTwoArgs{lhs: 0b1111110001101011110101001111011110010110, rhs: 0b1011101000101000101101100001011011100000, expected: 0b1111110001101011110101001111011110010110}, // lhs = -15370750058 rhs = -299964688672 expected = -15370750058
        TestCaseTwoArgs{lhs: 0b1101010000110100101011101000011100111010, rhs: 256815100446, expected: 68720392536}, // lhs = -188094707910
        TestCaseTwoArgs{lhs: 80368408978, rhs: 0b1111001011010001011011100101011011010001, expected: 0b1111100001011001001100010100011100110100}, // rhs = -56615872815 expected = -32863336652
        TestCaseTwoArgs{lhs: 495166333526, rhs: 66528568892, expected: 29466351282},
        TestCaseTwoArgs{lhs: 115117907190, rhs: 0b1110111001011000010010001001111000110100, expected: 0b1111011101111110001000010001100101011110}, // rhs = -75828257228 expected = -36538607266
        TestCaseTwoArgs{lhs: 0b1001010001101001011010101110010001111000, rhs: 11441345270, expected: 7007301086}, // lhs = -462087854984
        TestCaseTwoArgs{lhs: 40176136182, rhs: 93966200885, expected: 40176136182},
        TestCaseTwoArgs{lhs: 28956923593, rhs: 485680322192, expected: 28956923593},
        TestCaseTwoArgs{lhs: 0b1001001001111101101100101110101011100101, rhs: 0b1101011110011000110011001100011110101101, expected: 0b1110001101001100000110010101101110001011}, // lhs = -470337525019 rhs = -173530101843 expected = -123277321333
        TestCaseTwoArgs{lhs: 24895019222, rhs: 0b1100000110101101100101100011011101111110, expected: 0b1100011101111001011100100001000001010100}, // rhs = -267670636674 expected = -242775617452
        TestCaseTwoArgs{lhs: 0b1101010000111111101110011011100001101010, rhs: 0b1001110001110100111010011111011000101000, expected: 0b1101010000111111101110011011100001101010}, // lhs = -187909425046 rhs = -427535239640 expected = -187909425046
        TestCaseTwoArgs{lhs: 0b1100101000000100011111001011101011110011, rhs: 98657849237, expected: 64120596914}, // lhs = -231852950797
        TestCaseTwoArgs{lhs: 60536827685, rhs: 0b1110010001001011010010111111111000011110, expected: 0b1111001001100011100100101010110101000011}, // rhs = -118995812834 expected = -58458985149
        TestCaseTwoArgs{lhs: 0b1010010001101010001110011011101101110011, rhs: 0b1011001111001101100000101101111011110010, expected: 0b1111000010011100101101101101110010000001}, // lhs = -393354822797 rhs = -327264575758 expected = -66090247039
        TestCaseTwoArgs{lhs: 0b1101100111000110111110101000100001001000, rhs: 263735332508, expected: 99569915620}, // lhs = -164165416888
        TestCaseTwoArgs{lhs: 0b1110101101000111110100101000110110000111, rhs: 0b1100101101111011111001010101000111111101, expected: 0b1110101101000111110100101000110110000111}, // lhs = -88989332089 rhs = -225554640387 expected = -88989332089
        TestCaseTwoArgs{lhs: 0b1101011010001011110100011001011011000100, rhs: 0b1110011111100111010010000111100010001001, expected: 0b1110111010100100100010010001111000111011}, // lhs = -178042857788 rhs = -103493896055 expected = -74548961733
        TestCaseTwoArgs{lhs: 461812536884, rhs: 17001542737, expected: 2770882985},
        TestCaseTwoArgs{lhs: 294190987376, rhs: 523490337205, expected: 294190987376},
        TestCaseTwoArgs{lhs: 402993421971, rhs: 0b1111110111101101001100001010111010100110, expected: 0b1111111001110011000001110000000001100111}, // rhs = -8905511258 expected = -6660095897
        TestCaseTwoArgs{lhs: 371040614028, rhs: 383009285864, expected: 371040614028},
        TestCaseTwoArgs{lhs: 0b1100001101001100110100111001000110100100, rhs: 540937253597, expected: 280233182337}, // lhs = -260704071260
        TestCaseTwoArgs{lhs: 337232554632, rhs: 0b1100110011010111001111000000011010011110, expected: 0b1110100000110011000110000111011111000100}, // rhs = -219727264098 expected = -102221973564
        TestCaseTwoArgs{lhs: 418247006754, rhs: 81004316820, expected: 13225422654},
        TestCaseTwoArgs{lhs: 265923234304, rhs: 528090001077, expected: 265923234304},
        TestCaseTwoArgs{lhs: 379115850232, rhs: 518271164739, expected: 379115850232},
        TestCaseTwoArgs{lhs: 0b1001101001001000001100110110111101100111, rhs: 348810974690, expected: 260746615595}, // lhs = -436875333785
        TestCaseTwoArgs{lhs: 419016872982, rhs: 261124945233, expected: 157891927749},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 549755813887, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 0b1000000000000000000000000000000000000000, expected: 0}, // rhs = -549755813888
        TestCaseTwoArgs{lhs: 549755813887, rhs: 549755813887, expected: 0},
        TestCaseTwoArgs{lhs: 549755813887, rhs: 0b1000000000000000000000000000000000000000, expected: 0b1111111111111111111111111111111111111111}, // rhs = -549755813888 expected = -1
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 549755813887, expected: 549755813886}, // lhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 0b1000000000000000000000000000000000000000, expected: 0}, // lhs = -549755813888 rhs = -549755813888
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_srem_n_n_n(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
