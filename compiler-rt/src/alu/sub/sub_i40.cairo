use crate::rtstate::RTState;
use crate::alu::sub::sub;
use crate::integer::u40::u40;

pub fn __llvm_sub_n_n_n(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    sub::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_sub_n_n_n;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 209] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 548641270421, rhs: 203066900588, expected: 345574369833},
        TestCaseTwoArgs{lhs: 494909637873, rhs: 56112315121, expected: 438797322752},
        TestCaseTwoArgs{lhs: 103353581675, rhs: 215152718056, expected: 987712491395},
        TestCaseTwoArgs{lhs: 0b1100010010001010011010110101111100110110, rhs: 0b1100111011101000101010000000011000101100, expected: 1054980921610}, // lhs = -255375745226 rhs = -210845039060
        TestCaseTwoArgs{lhs: 0b1010011110100101101000101110001001010001, rhs: 194825333241, expected: 525213120600}, // lhs = -379473173935
        TestCaseTwoArgs{lhs: 295472972462, rhs: 0b1000110110110010101100000111100010111110, expected: 786396301808}, // rhs = -490923329346
        TestCaseTwoArgs{lhs: 470406662995, rhs: 421098098292, expected: 49308564703},
        TestCaseTwoArgs{lhs: 0b1010100111111100100110110000000001100000, rhs: 293171190595, expected: 436916299037}, // lhs = -369424138144
        TestCaseTwoArgs{lhs: 0b1011011110101111010010000101100110001111, rhs: 339025170883, expected: 449894598604}, // lhs = -310591858289
        TestCaseTwoArgs{lhs: 269764593302, rhs: 95620348351, expected: 174144244951},
        TestCaseTwoArgs{lhs: 47102761527, rhs: 0b1011010110110100000011111110111001110101, expected: 366204365762}, // rhs = -319101604235
        TestCaseTwoArgs{lhs: 473607798064, rhs: 201438784073, expected: 272169013991},
        TestCaseTwoArgs{lhs: 0b1110111011000001000111100001101101100010, rhs: 3639451175, expected: 1021802741051}, // lhs = -74069435550
        TestCaseTwoArgs{lhs: 192746270046, rhs: 300781039527, expected: 991476858295},
        TestCaseTwoArgs{lhs: 28997612688, rhs: 0b1100101001011100011110110010000001100110, expected: 259374273578}, // rhs = -230376660890
        TestCaseTwoArgs{lhs: 371954642413, rhs: 148160505675, expected: 223794136738},
        TestCaseTwoArgs{lhs: 512698975443, rhs: 206948861834, expected: 305750113609},
        TestCaseTwoArgs{lhs: 0b1101101010100011110000011011100000101011, rhs: 0b1101100011110010100010000000100001100000, expected: 7268315083}, // lhs = -160461375445 rhs = -167729690528
        TestCaseTwoArgs{lhs: 0b1000110000100011111001110101010001101010, rhs: 309284418795, expected: 292613365631}, // lhs = -497613843350
        TestCaseTwoArgs{lhs: 0b1100110011010111000000001101010010111000, rhs: 140416371897, expected: 739364112383}, // lhs = -219731143496
        TestCaseTwoArgs{lhs: 422287589273, rhs: 0b1010001011101111001010111100110001101110, expected: 822001890091}, // rhs = -399714300818
        TestCaseTwoArgs{lhs: 422163278569, rhs: 0b1111100111100011101100111111100100101010, expected: 448407826879}, // rhs = -26244548310
        TestCaseTwoArgs{lhs: 0b1011010011111110110111100110011101011000, rhs: 0b1001111101000111001101101101010100010111, expected: 93275525697}, // lhs = -322141526184 rhs = -415417051881
        TestCaseTwoArgs{lhs: 0b1101110101110111011000000101100101010111, rhs: 0b1011101111101001111000011111111110101101, expected: 144107788714}, // lhs = -148321052329 rhs = -292428841043
        TestCaseTwoArgs{lhs: 0b1100110111001010000101000010001101101000, rhs: 494617469239, expected: 389241143857}, // lhs = -215653014680
        TestCaseTwoArgs{lhs: 334155466539, rhs: 0b1100001100111001100111110111011110010111, expected: 595181719444}, // rhs = -261026252905
        TestCaseTwoArgs{lhs: 165238672235, rhs: 165104160762, expected: 134511473},
        TestCaseTwoArgs{lhs: 0b1000100000010101011110111101110000111011, rhs: 0b1111000100000110110100111101100110101001, expected: 648785953426}, // lhs = -515035636677 rhs = -64309962327
        TestCaseTwoArgs{lhs: 186693286501, rhs: 0b1100001001010101100101010010000100011001, expected: 451545422156}, // rhs = -264852135655
        TestCaseTwoArgs{lhs: 520217807149, rhs: 449381361878, expected: 70836445271},
        TestCaseTwoArgs{lhs: 0b1010010101010101011011001110101101101010, rhs: 0b1101011101010111010000011110101010010110, expected: 884732526804}, // lhs = -389408822422 rhs = -174629721450
        TestCaseTwoArgs{lhs: 6155782850, rhs: 0b1100110010010001010000101100001011100011, expected: 227057010655}, // rhs = -220901227805
        TestCaseTwoArgs{lhs: 0b1101101010010111111011001010001010010011, rhs: 0b1101101010110010000100010111011011110001, expected: 1099073006498}, // lhs = -160659889517 rhs = -160221268239
        TestCaseTwoArgs{lhs: 72327240982, rhs: 0b1000010000000011000011011010111110000110, expected: 604851957136}, // rhs = -532524716154
        TestCaseTwoArgs{lhs: 0b1101011011000111101111100100110000011100, rhs: 0b1110100010100111001000110010101011011111, expected: 1022749253949}, // lhs = -177037489124 rhs = -100275115297
        TestCaseTwoArgs{lhs: 35425106881, rhs: 378913472903, expected: 756023261754},
        TestCaseTwoArgs{lhs: 375874648152, rhs: 0b1011000111001001000000111111011000000011, expected: 711804584533}, // rhs = -335929936381
        TestCaseTwoArgs{lhs: 110566479287, rhs: 293113764941, expected: 916964342122},
        TestCaseTwoArgs{lhs: 1270563838, rhs: 390045987795, expected: 710736203819},
        TestCaseTwoArgs{lhs: 0b1011011000001111110011110101010110100100, rhs: 0b1011011100101100011010110000111010110001, expected: 1094736692979}, // lhs = -317562333788 rhs = -312787398991
        TestCaseTwoArgs{lhs: 0b1100111000111001100110000110101010001101, rhs: 296873286027, expected: 588856267010}, // lhs = -213782074739
        TestCaseTwoArgs{lhs: 0b1000101111010111111111101101111000111000, rhs: 0b1101001111100111001001101101101011110011, expected: 790019703621}, // lhs = -498887369160 rhs = -189395445005
        TestCaseTwoArgs{lhs: 423675110446, rhs: 0b1111001110001010110101000011000000100101, expected: 477180523529}, // rhs = -53505413083
        TestCaseTwoArgs{lhs: 0b1100110000010011010111001101110111000011, rhs: 0b1010001011101001110000110110001001101011, expected: 176791583576}, // lhs = -223013446205 rhs = -399805029781
        TestCaseTwoArgs{lhs: 50818517638, rhs: 402337771946, expected: 747992373468},
        TestCaseTwoArgs{lhs: 198408328965, rhs: 63771201696, expected: 134637127269},
        TestCaseTwoArgs{lhs: 247692192505, rhs: 0b1010011110101101011100101001110111010111, expected: 627034311970}, // rhs = -379342119465
        TestCaseTwoArgs{lhs: 537151081973, rhs: 528357872683, expected: 8793209290},
        TestCaseTwoArgs{lhs: 0b1011011101110111101101101110011000011011, rhs: 0b1001100010110100110110011110100011010000, expected: 132118281547}, // lhs = -311524137445 rhs = -443642418992
        TestCaseTwoArgs{lhs: 0b1111010000001000111011101111110110000001, rhs: 229076597945, expected: 819045302472}, // lhs = -51389727359
        TestCaseTwoArgs{lhs: 330947325401, rhs: 69446887455, expected: 261500437946},
        TestCaseTwoArgs{lhs: 0b1011001110000000000100010101101011001101, rhs: 0b1110110101111001101101000111010000001011, expected: 850510276290}, // lhs = -328563860787 rhs = -79562509301
        TestCaseTwoArgs{lhs: 0b1001100111110101101100001110110110010010, rhs: 403683828490, expected: 257568180872}, // lhs = -438259618414
        TestCaseTwoArgs{lhs: 180829904207, rhs: 196442670480, expected: 1083898861503},
        TestCaseTwoArgs{lhs: 0b1011000101100010001110001011011000111000, rhs: 89984813113, expected: 671872282111}, // lhs = -337654532552
        TestCaseTwoArgs{lhs: 285422357438, rhs: 0b1001010001110000111000000000111101101110, expected: 747385093200}, // rhs = -461962735762
        TestCaseTwoArgs{lhs: 413113819037, rhs: 0b1101010010100011000111011011100110101111, expected: 599355745774}, // rhs = -186241926737
        TestCaseTwoArgs{lhs: 96010861063, rhs: 86470095091, expected: 9540765972},
        TestCaseTwoArgs{lhs: 0b1010110101000100001111111000010101011011, rhs: 0b1100111100011011110000100111011001001010, expected: 954162024209}, // lhs = -355337271973 rhs = -209987668406
        TestCaseTwoArgs{lhs: 0b1100010100111111010100001110011001101111, rhs: 489037400589, expected: 358133423202}, // lhs = -252340803985
        TestCaseTwoArgs{lhs: 0b1010110010101001010011100100001000000000, rhs: 322364123917, expected: 419210729203}, // lhs = -357936774656
        TestCaseTwoArgs{lhs: 425142335243, rhs: 0b1001101110101111110001010001101011100111, expected: 855985101860}, // rhs = -430842766617
        TestCaseTwoArgs{lhs: 0b1001011001010001000011110101001111110110, rhs: 0b1111010110000000001000011011010001110111, expected: 690700001151}, // lhs = -453906574346 rhs = -45094947721
        TestCaseTwoArgs{lhs: 363916433795, rhs: 497913813385, expected: 965514248186},
        TestCaseTwoArgs{lhs: 0b1100111101111011100001001010001100000111, rhs: 0b1110101110010010100011100111100100011110, expected: 978866022889}, // lhs = -208381107449 rhs = -87735502562
        TestCaseTwoArgs{lhs: 0b1001110001001100111000101100111010010101, rhs: 414481149429, expected: 256823681184}, // lhs = -428206797163
        TestCaseTwoArgs{lhs: 0b1111000111110111000001011000011100100100, rhs: 188690518384, expected: 850540934580}, // lhs = -60280174812
        TestCaseTwoArgs{lhs: 273685107210, rhs: 136509824283, expected: 137175282927},
        TestCaseTwoArgs{lhs: 0b1010111010010101110011010000000011101111, rhs: 0b1111001100110110111001010101011100111010, expected: 804751124917}, // lhs = -349674077969 rhs = -54913575110
        TestCaseTwoArgs{lhs: 0b1101100011100111110111101110101001000100, rhs: 0b1101010011011001000001110010000100010000, expected: 17428891956}, // lhs = -167908545980 rhs = -185337437936
        TestCaseTwoArgs{lhs: 211439109738, rhs: 0b1011111110100000011011110001101011011110, expected: 487920348044}, // rhs = -276481238306
        TestCaseTwoArgs{lhs: 454306532351, rhs: 178829001281, expected: 275477531070},
        TestCaseTwoArgs{lhs: 0b1010011011010001101010000111000011111100, rhs: 528658697784, expected: 187823350468}, // lhs = -383029579524
        TestCaseTwoArgs{lhs: 122087720925, rhs: 397142276446, expected: 824457072255},
        TestCaseTwoArgs{lhs: 9428315553, rhs: 184278673713, expected: 924661269616},
        TestCaseTwoArgs{lhs: 58225780657, rhs: 0b1001110110110110011011001001011111100101, expected: 480366972876}, // rhs = -422141192219
        TestCaseTwoArgs{lhs: 201684226644, rhs: 65612352589, expected: 136071874055},
        TestCaseTwoArgs{lhs: 314141385609, rhs: 18253756822, expected: 295887628787},
        TestCaseTwoArgs{lhs: 356329895875, rhs: 291823782648, expected: 64506113227},
        TestCaseTwoArgs{lhs: 0b1001111111000001110101111100111101011111, rhs: 0b1001101111101110101011010110110001000000, expected: 16427672351}, // lhs = -413359681697 rhs = -429787354048
        TestCaseTwoArgs{lhs: 0b1111110000100011010111010010000111000111, rhs: 0b1111100001011111101101110011010110011111, expected: 16167332904}, // lhs = -16586563129 rhs = -32753896033
        TestCaseTwoArgs{lhs: 127139085224, rhs: 0b1110101001001001100011000000100101010111, expected: 220394451537}, // rhs = -93255366313
        TestCaseTwoArgs{lhs: 0b1111110111010100010011001010110010111110, rhs: 0b1111001001011010100011110011000010111100, expected: 49287101442}, // lhs = -9323107138 rhs = -58610208580
        TestCaseTwoArgs{lhs: 253923348231, rhs: 148191102114, expected: 105732246117},
        TestCaseTwoArgs{lhs: 0b1001110100100000001110011110111001000000, rhs: 0b1010001110111100011001001110101101100110, expected: 1071121760986}, // lhs = -424661094848 rhs = -396271228058
        TestCaseTwoArgs{lhs: 0b1111100110110010011100010000010110111011, rhs: 244124850542, expected: 828315757645}, // lhs = -27071019589
        TestCaseTwoArgs{lhs: 469115123956, rhs: 0b1001010110010011011001011111100011100101, expected: 926203691023}, // rhs = -457088567067
        TestCaseTwoArgs{lhs: 315518441870, rhs: 0b1000100010101100101011100010010001011101, expected: 828017423665}, // rhs = -512498981795
        TestCaseTwoArgs{lhs: 49758661752, rhs: 203194343128, expected: 946075946400},
        TestCaseTwoArgs{lhs: 0b1100011000000111110011001000100001100010, rhs: 382996791568, expected: 467537577810}, // lhs = -248977258398
        TestCaseTwoArgs{lhs: 547196936111, rhs: 0b1001001001011011101011000101110000100100, expected: 1018105316235}, // rhs = -470908380124
        TestCaseTwoArgs{lhs: 75240742686, rhs: 0b1000001001100010011110100100001001000010, expected: 614754442460}, // rhs = -539513699774
        TestCaseTwoArgs{lhs: 0b1001111000011111110111000010111011100111, rhs: 0b1010010000000110110001001000100110010111, expected: 1074162804048}, // lhs = -420372271385 rhs = -395023447657
        TestCaseTwoArgs{lhs: 0b1001101000000011000000100001101010010111, rhs: 0b1111011110110111110100101100011100101001, expected: 697046094702}, // lhs = -438036194665 rhs = -35570661591
        TestCaseTwoArgs{lhs: 0b1011100100111100001001001101100100111100, rhs: 0b1010110110111100110000100001001001101111, expected: 49381820109}, // lhs = -303933630148 rhs = -353315450257
        TestCaseTwoArgs{lhs: 311433450826, rhs: 0b1000110011011100111000100011010010100111, expected: 805943845027}, // rhs = -494510394201
        TestCaseTwoArgs{lhs: 275283042456, rhs: 0b1110111000101100100110000101001011010111, expected: 351844273601}, // rhs = -76561231145
        TestCaseTwoArgs{lhs: 313256939379, rhs: 360974756939, expected: 1051793810216},
        TestCaseTwoArgs{lhs: 0b1001000101001100110101110011011000110101, rhs: 0b1111110001000011011000010011001111000111, expected: 640108855918}, // lhs = -475452197323 rhs = -16049425465
        TestCaseTwoArgs{lhs: 282920663099, rhs: 0b1001010110000011011001000100100110001001, expected: 740277776050}, // rhs = -457357112951
        TestCaseTwoArgs{lhs: 523267004381, rhs: 0b1111111000100101010001000101000110001110, expected: 531231704655}, // rhs = -7964700274
        TestCaseTwoArgs{lhs: 5861837412, rhs: 0b1111111101000100110101111010101111001010, expected: 9001819802}, // rhs = -3139982390
        TestCaseTwoArgs{lhs: 11077781069, rhs: 0b1001001101000111010000000110100100111101, expected: 478033812752}, // rhs = -466956031683
        TestCaseTwoArgs{lhs: 145279979949, rhs: 398537824275, expected: 846253783450},
        TestCaseTwoArgs{lhs: 144290743623, rhs: 102893919438, expected: 41396824185},
        TestCaseTwoArgs{lhs: 17394907724, rhs: 0b1111100001000010010101101010101001010000, expected: 50641670140}, // rhs = -33246762416
        TestCaseTwoArgs{lhs: 0b1010100001100010101101000111100111001011, rhs: 0b1100110100101010101101000010000101010000, expected: 941537384571}, // lhs = -376301127221 rhs = -218326884016
        TestCaseTwoArgs{lhs: 0b1010010111010011111011101100010010100100, rhs: 0b1001001111111111110010100100001101011011, expected: 76573606217}, // lhs = -387286383452 rhs = -463859989669
        TestCaseTwoArgs{lhs: 292067244569, rhs: 225516295911, expected: 66550948658},
        TestCaseTwoArgs{lhs: 0b1000010100111000011001011010110111110000, rhs: 546949167520, expected: 25227670608}, // lhs = -527334789648
        TestCaseTwoArgs{lhs: 247952098180, rhs: 18765430175, expected: 229186668005},
        TestCaseTwoArgs{lhs: 187782103122, rhs: 299997303384, expected: 987296427514},
        TestCaseTwoArgs{lhs: 514530527046, rhs: 0b1011011001111101010100010001000111110010, expected: 830255641940}, // rhs = -315725114894
        TestCaseTwoArgs{lhs: 149432522029, rhs: 0b1000111100101100101101010000001101110000, expected: 634013766077}, // rhs = -484581244048
        TestCaseTwoArgs{lhs: 385610003828, rhs: 418160191202, expected: 1066961440402},
        TestCaseTwoArgs{lhs: 419911805031, rhs: 0b1100010010110111001101011001110010010110, expected: 674536098769}, // rhs = -254624293738
        TestCaseTwoArgs{lhs: 0b1001011101110100011001111110101111100001, rhs: 177888298490, expected: 472604730855}, // lhs = -449018598431
        TestCaseTwoArgs{lhs: 230413655300, rhs: 495816929383, expected: 834108353693},
        TestCaseTwoArgs{lhs: 377304234462, rhs: 0b1001111010011111110001000010011010001101, expected: 795530597201}, // rhs = -418226362739
        TestCaseTwoArgs{lhs: 517213899900, rhs: 0b1010000011011111010001011001111011001011, expected: 925784878513}, // rhs = -408570978613
        TestCaseTwoArgs{lhs: 49124408473, rhs: 360297460286, expected: 788338575963},
        TestCaseTwoArgs{lhs: 0b1111101001100011111000101100100111111110, rhs: 367352986087, expected: 708064645143}, // lhs = -24093996546
        TestCaseTwoArgs{lhs: 0b1101000010000000000000011100000101011011, rhs: 0b1110001011101001010011011100000011010001, expected: 1020435628170}, // lhs = -204010831525 rhs = -124934831919
        TestCaseTwoArgs{lhs: 0b1100101000001110001101100110111111110110, rhs: 0b1111110111110101000011101111011101000111, expected: 876595345583}, // lhs = -231689785354 rhs = -8773503161
        TestCaseTwoArgs{lhs: 483790178616, rhs: 453688744865, expected: 30101433751},
        TestCaseTwoArgs{lhs: 0b1110011001011101111001001111010011100100, rhs: 31882410947, expected: 957535353121}, // lhs = -110093863708
        TestCaseTwoArgs{lhs: 0b1110011110111011001000001001000001111000, rhs: 0b1001010100100110011011101011111001000110, expected: 354681999922}, // lhs = -104234708872 rhs = -458916708794
        TestCaseTwoArgs{lhs: 0b1011011101111110001011100010110111000101, rhs: 0b1000001000000101110110110001010001111001, expected: 229651978572}, // lhs = -311415657019 rhs = -541067635591
        TestCaseTwoArgs{lhs: 0b1001001101000101010101101101111000010110, rhs: 0b1001001101101001010000101110000100100110, expected: 1098908957936}, // lhs = -466988114410 rhs = -466385444570
        TestCaseTwoArgs{lhs: 0b1001000010000000010010100110010011111010, rhs: 26371573928, expected: 594256075858}, // lhs = -478883977990
        TestCaseTwoArgs{lhs: 28710838169, rhs: 0b1100100111001111011011001010100011111000, expected: 261454034593}, // rhs = -232743196424
        TestCaseTwoArgs{lhs: 213260995673, rhs: 144631459583, expected: 68629536090},
        TestCaseTwoArgs{lhs: 0b1000111010111010110010100100001010100011, rhs: 0b1001100011010000110011101111001000011010, expected: 1056192549001}, // lhs = -486492454237 rhs = -443173375462
        TestCaseTwoArgs{lhs: 0b1101101010111001110001001100010101000010, rhs: 346593831300, expected: 592825719742}, // lhs = -160092076734
        TestCaseTwoArgs{lhs: 520636696720, rhs: 0b1001101101011011111011100001111001110011, expected: 952886061597}, // rhs = -432249364877
        TestCaseTwoArgs{lhs: 310837738918, rhs: 117484170230, expected: 193353568688},
        TestCaseTwoArgs{lhs: 0b1001111101101001111110010010111000101100, rhs: 0b1100110110101010101000101001001011011000, expected: 900858288980}, // lhs = -414833889748 rhs = -216180550952
        TestCaseTwoArgs{lhs: 0b1110010001011111101011100101101111000001, rhs: 92382787938, expected: 888475017823}, // lhs = -118653822015
        TestCaseTwoArgs{lhs: 0b1001100000010011011011100001011110001011, rhs: 0b1111100001111000000000010100100101111101, expected: 685507399182}, // lhs = -446350616693 rhs = -32346388099
        TestCaseTwoArgs{lhs: 358620670600, rhs: 0b1101110110011100001101001011010001011011, expected: 506323826221}, // rhs = -147703155621
        TestCaseTwoArgs{lhs: 0b1110100001011000110110100010111101010011, rhs: 0b1111010011110110010110010110000000000111, expected: 1045329661772}, // lhs = -101588521133 rhs = -47406555129
        TestCaseTwoArgs{lhs: 0b1011110101001110011001111011011010100010, rhs: 0b1011001001110111110110000110111000100101, expected: 46549387389}, // lhs = -286447389022 rhs = -332996776411
        TestCaseTwoArgs{lhs: 14278663660, rhs: 0b1001010001111001110111110110000111011101, expected: 476090448911}, // rhs = -461811785251
        TestCaseTwoArgs{lhs: 478218146147, rhs: 132011661709, expected: 346206484438},
        TestCaseTwoArgs{lhs: 346374009392, rhs: 306842912339, expected: 39531097053},
        TestCaseTwoArgs{lhs: 453373543123, rhs: 0b1100101100100101110011000011010111001100, expected: 680372669703}, // rhs = -226999126580
        TestCaseTwoArgs{lhs: 0b1101110110010001111100110110001001100111, rhs: 115316288523, expected: 836320130652}, // lhs = -147875208601
        TestCaseTwoArgs{lhs: 357782008292, rhs: 0b1110101010000111010101100000001101111111, expected: 450000727653}, // rhs = -92218719361
        TestCaseTwoArgs{lhs: 433785663344, rhs: 395579016151, expected: 38206647193},
        TestCaseTwoArgs{lhs: 81904154082, rhs: 0b1110111011011101000111000010010100101001, expected: 155503956153}, // rhs = -73599802071
        TestCaseTwoArgs{lhs: 0b1111011111010010111101000010011011001001, rhs: 0b1100101000010110100100010001101110000011, expected: 196434135878}, // lhs = -35115489591 rhs = -231549625469
        TestCaseTwoArgs{lhs: 6144108452, rhs: 130610433479, expected: 975045302749},
        TestCaseTwoArgs{lhs: 494567553703, rhs: 306339512597, expected: 188228041106},
        TestCaseTwoArgs{lhs: 0b1100010101101101011010001010010110111001, rhs: 226106456531, expected: 621837675494}, // lhs = -251567495751
        TestCaseTwoArgs{lhs: 0b1011010010110001001000101100010010101100, rhs: 0b1011000000010111100111010110000010100101, expected: 19755525127}, // lhs = -323445668692 rhs = -343201193819
        TestCaseTwoArgs{lhs: 0b1101110000011011101111000101001001100000, rhs: 405379227230, expected: 539978904578}, // lhs = -154153495968
        TestCaseTwoArgs{lhs: 0b1101011010111001001011100000011010100010, rhs: 0b1000001100001000100100100101101100010100, expected: 359445277582}, // lhs = -177281825118 rhs = -536727102700
        TestCaseTwoArgs{lhs: 0b1110010001010101110010111100100001101101, rhs: 0b1010011001010010110001100100010010001111, expected: 266338665438}, // lhs = -118819665811 rhs = -385158331249
        TestCaseTwoArgs{lhs: 442609038641, rhs: 549393388045, expected: 992727278372},
        TestCaseTwoArgs{lhs: 0b1110110010001011111000110100111100010010, rhs: 0b1110110001101110101000011110001101111101, expected: 490826645}, // lhs = -83552415982 rhs = -84043242627
        TestCaseTwoArgs{lhs: 0b1101110011111110000110011101000111000010, rhs: 118468313081, expected: 830687597001}, // lhs = -150355717694
        TestCaseTwoArgs{lhs: 430827499224, rhs: 0b1110010110011101100011101100001111000010, expected: 544148237078}, // rhs = -113320737854
        TestCaseTwoArgs{lhs: 0b1001000101000110011011011001011010101101, rhs: 148907780176, expected: 475044064861}, // lhs = -475559782739
        TestCaseTwoArgs{lhs: 0b1111000001011111010001001100011110000111, rhs: 0b1010110000001101010011101011001110101010, expected: 293432857565}, // lhs = -67121133689 rhs = -360553991254
        TestCaseTwoArgs{lhs: 0b1000111111101001000000000001101001011111, rhs: 0b1011000001011110001010100001001101111000, expected: 960106989287}, // lhs = -481422206369 rhs = -342017567880
        TestCaseTwoArgs{lhs: 75243285681, rhs: 427943015417, expected: 746811898040},
        TestCaseTwoArgs{lhs: 112399199537, rhs: 236813201002, expected: 975097626311},
        TestCaseTwoArgs{lhs: 7916243449, rhs: 440535396687, expected: 666892474538},
        TestCaseTwoArgs{lhs: 0b1001001000001000001100001000111000101001, rhs: 0b1010000000000011100010111010001111001001, expected: 1039460002400}, // lhs = -472309002711 rhs = -412257377335
        TestCaseTwoArgs{lhs: 445480212964, rhs: 251781720752, expected: 193698492212},
        TestCaseTwoArgs{lhs: 0b1110100100000000111010011011011111101011, rhs: 0b1110100101100111111110101110010101111100, expected: 1097782448751}, // lhs = -98768930837 rhs = -97039751812
        TestCaseTwoArgs{lhs: 0b1111110110101011111000101110110010011100, rhs: 0b1011100000100101111010110100100010011010, expected: 298600342530}, // lhs = -10001126244 rhs = -308601468774
        TestCaseTwoArgs{lhs: 508706986912, rhs: 433745457329, expected: 74961529583},
        TestCaseTwoArgs{lhs: 0b1110000001000111101011010010000011000010, rhs: 524507037374, expected: 438768165380}, // lhs = -136236425022
        TestCaseTwoArgs{lhs: 0b1110110111010111010010111101010010001000, rhs: 0b1000001000011100010000010100010010011000, expected: 462699532272}, // lhs = -77992307576 rhs = -540691839848
        TestCaseTwoArgs{lhs: 360354671193, rhs: 0b1100000110101111011101010011011000110110, expected: 627993916451}, // rhs = -267639245258
        TestCaseTwoArgs{lhs: 479438129941, rhs: 0b1000001101010001001010011001111011111100, expected: 1014947359769}, // rhs = -535509229828
        TestCaseTwoArgs{lhs: 188714352875, rhs: 0b1111001010010001100101010011011001100011, expected: 246401419912}, // rhs = -57687067037
        TestCaseTwoArgs{lhs: 0b1101110001011111111011101001111000011011, rhs: 517715593557, expected: 428786685126}, // lhs = -153009349093
        TestCaseTwoArgs{lhs: 460029027206, rhs: 398470361818, expected: 61558665388},
        TestCaseTwoArgs{lhs: 307963297813, rhs: 0b1011111000111001001010010110110011100010, expected: 590472123187}, // rhs = -282508825374
        TestCaseTwoArgs{lhs: 422245311719, rhs: 455554341357, expected: 1066202598138},
        TestCaseTwoArgs{lhs: 261568954236, rhs: 0b1110100111101100010011011001001000100001, expected: 356388695387}, // rhs = -94819741151
        TestCaseTwoArgs{lhs: 191373943482, rhs: 471463981315, expected: 819421589943},
        TestCaseTwoArgs{lhs: 447267153349, rhs: 0b1011110100111011111110000010101110011001, expected: 734023842348}, // rhs = -286756688999
        TestCaseTwoArgs{lhs: 103050980496, rhs: 0b1101101111100010010000010101110101000110, expected: 258168835914}, // rhs = -155117855418
        TestCaseTwoArgs{lhs: 0b1000110111011011101001001011010011110110, rhs: 11956967143, expected: 597318426127}, // lhs = -490236234506
        TestCaseTwoArgs{lhs: 0b1111010010000111010001101110110110100011, rhs: 211867114216, expected: 838374478523}, // lhs = -49270035037
        TestCaseTwoArgs{lhs: 355924417077, rhs: 0b1011000111000110110101010101011101111000, expected: 691890963133}, // rhs = -335966546056
        TestCaseTwoArgs{lhs: 0b1001001111001000001011010101110000000011, rhs: 0b1011100010000001001001001011011000101100, expected: 941789586903}, // lhs = -464793019389 rhs = -307070978516
        TestCaseTwoArgs{lhs: 0b1000011010000110011011111101001001111100, rhs: 0b1111110101000010001110100001001111101101, expected: 589554892431}, // lhs = -521730534788 rhs = -11773799443
        TestCaseTwoArgs{lhs: 544103797495, rhs: 0b1111110001110001111010001010100010100101, expected: 559372593746}, // rhs = -15268796251
        TestCaseTwoArgs{lhs: 0b1111011011111001010011011011110111010000, rhs: 254878280874, expected: 805866295590}, // lhs = -38767051312
        TestCaseTwoArgs{lhs: 132850064753, rhs: 0b1110111010101001010101000000011110001011, expected: 207318619622}, // rhs = -74468554869
        TestCaseTwoArgs{lhs: 0b1001000101110110100101010111010101100111, rhs: 0b1111100100011111010110000101100001100111, expected: 654298651904}, // lhs = -474751863449 rhs = -29538887577
        TestCaseTwoArgs{lhs: 0b1001100011011010011000000101100001100000, rhs: 226423171612, expected: 430075604548}, // lhs = -443012851616
        TestCaseTwoArgs{lhs: 0b1010110101100000101000000001110111001010, rhs: 0b1100010111010000110010100111001110011110, expected: 994550589996}, // lhs = -354861179446 rhs = -249900141666
        TestCaseTwoArgs{lhs: 405898096167, rhs: 341276301448, expected: 64621794719},
        TestCaseTwoArgs{lhs: 0b1011010111010000011000100100101010000011, rhs: 193831646031, expected: 587053537076}, // lhs = -318626444669
        TestCaseTwoArgs{lhs: 8256553746, rhs: 454515892749, expected: 653252288773},

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 549755813887, expected: 549755813889},
        TestCaseTwoArgs{lhs: 0, rhs: 0b1000000000000000000000000000000000000000, expected: 549755813888}, // rhs = -549755813888
        TestCaseTwoArgs{lhs: 549755813887, rhs: 0, expected: 549755813887},
        TestCaseTwoArgs{lhs: 549755813887, rhs: 549755813887, expected: 0},
        TestCaseTwoArgs{lhs: 549755813887, rhs: 0b1000000000000000000000000000000000000000, expected: 1099511627775}, // rhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 0, expected: 549755813888}, // lhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 549755813887, expected: 1}, // lhs = -549755813888
        TestCaseTwoArgs{lhs: 0b1000000000000000000000000000000000000000, rhs: 0b1000000000000000000000000000000000000000, expected: 0}, // lhs = -549755813888 rhs = -549755813888
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_sub_n_n_n(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
