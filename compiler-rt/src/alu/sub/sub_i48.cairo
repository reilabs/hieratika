use crate::alu::sub::sub;
use crate::integer::u48::u48;

pub fn __llvm_sub_k_k_k(lhs: u128, rhs: u128) -> u128 {
    sub::<u48>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_sub_k_k_k;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 249] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 10934741867960, rhs: 104328659792123, expected: 188081058786493},
        TestCaseTwoArgs{lhs: 133406360479719, rhs: 0b111000011011011001010010001010010111100111011010, expected: 166708158443021}, // rhs = -33301797963302
        TestCaseTwoArgs{lhs: 0b100001001001101001000111000011100110110011101110, rhs: 0b100000101101010100100010111001110110010111100111, expected: 1946226722567}, // lhs = -135676824752914 rhs = -137623051475481
        TestCaseTwoArgs{lhs: 0b101001110110001101101110100010010111100000111111, rhs: 0b110010010111101110110000100011100111100101100010, expected: 243987394526941}, // lhs = -97429478606785 rhs = -59941896423070
        TestCaseTwoArgs{lhs: 0b101011100001001010010010100101110001101010111111, rhs: 12277680197618, expected: 179117111823053}, // lhs = -90080184689985
        TestCaseTwoArgs{lhs: 107947692641900, rhs: 0b100101011000011000101100110001010100011011101100, expected: 225019160070016}, // rhs = -117071467428116
        TestCaseTwoArgs{lhs: 0b101001011100101110001011111001011000110010001100, rhs: 0b101110001110100011010110001000101000101011011100, expected: 260458456220080}, // lhs = -99181332689780 rhs = -78164812199204
        TestCaseTwoArgs{lhs: 0b111001100110101001000010000000000000100000101000, rhs: 0b111110101011000011111001001011101001010110010101, expected: 259181023163027}, // lhs = -28130928490456 rhs = -5836974942827
        TestCaseTwoArgs{lhs: 0b110000001011110011000011111000100101000010110011, rhs: 56159761235074, expected: 155757211538481}, // lhs = -69558003937101
        TestCaseTwoArgs{lhs: 105604895675902, rhs: 20166306217944, expected: 85438589457958},
        TestCaseTwoArgs{lhs: 63080184793787, rhs: 0b100101110010101101010101000101001000101010010111, expected: 178342794706980}, // rhs = -115262609913193
        TestCaseTwoArgs{lhs: 0b111101101011111000001001000101010111101100111011, rhs: 50422619891974, expected: 220873436729909}, // lhs = -10178920088773
        TestCaseTwoArgs{lhs: 0b100001100100100000111001101001101001001011101100, rhs: 25731491973842, expected: 121913271011354}, // lhs = -133830213725460
        TestCaseTwoArgs{lhs: 82794915217249, rhs: 89185545519416, expected: 275084346408489},
        TestCaseTwoArgs{lhs: 0b110101110100011100100110101011100001110100000000, rhs: 27095667317756, expected: 209604924276996}, // lhs = -44774385115904
        TestCaseTwoArgs{lhs: 133446216028194, rhs: 0b110001011111101000101000011100100001101100001111, expected: 197242981676307}, // rhs = -63796765648113
        TestCaseTwoArgs{lhs: 95365918758375, rhs: 69615385241736, expected: 25750533516639},
        TestCaseTwoArgs{lhs: 0b110111001101110000000101010000111001111110000100, rhs: 0b111100111100111000010110100011111001010001101010, expected: 256246048623386}, // lhs = -38637437476988 rhs = -13408509389718
        TestCaseTwoArgs{lhs: 0b110110101101100010001101001111111010011001101000, rhs: 36303240675109, expected: 204320376874819}, // lhs = -40851359160728
        TestCaseTwoArgs{lhs: 0b101010011010000010111101000001000101110001101000, rhs: 0b100010101111100110100110010001010000100001110101, expected: 33702990009331}, // lhs = -94967145669528 rhs = -128670135678859
        TestCaseTwoArgs{lhs: 19399475105290, rhs: 47508088179832, expected: 253366363636114},
        TestCaseTwoArgs{lhs: 0b110110010010110100100111101001110011101011000000, rhs: 0b101011000000010100010010011010011100010101011111, expected: 49650178291041}, // lhs = -42687014683968 rhs = -92337192975009
        TestCaseTwoArgs{lhs: 0b100011001001100010001110101101100101101000111010, rhs: 47042607367512, expected: 107544249865442}, // lhs = -126888119477702
        TestCaseTwoArgs{lhs: 79054342971031, rhs: 0b100010101000011000101100001000000001010110011010, expected: 208220449130749}, // rhs = -129166106159718
        TestCaseTwoArgs{lhs: 109670671294351, rhs: 23603565456228, expected: 86067105838123},
        TestCaseTwoArgs{lhs: 118633176192872, rhs: 0b101101011111011100000101011101010010001000010101, expected: 200035599791443}, // rhs = -81402423598571
        TestCaseTwoArgs{lhs: 36186559138724, rhs: 0b100111011011100001101000101110011001001001110011, expected: 144246179313969}, // rhs = -108059620175245
        TestCaseTwoArgs{lhs: 0b100101010101010111010000101001110111010010111001, rhs: 0b101110010110011111011101111010001101001010111011, expected: 241815026311678}, // lhs = -117279171316551 rhs = -77619220917573
        TestCaseTwoArgs{lhs: 0b110101100101000101111111011010110111001000100011, rhs: 0b111100000110111000011010111101010110011110110001, expected: 252764805794418}, // lhs = -45829458267613 rhs = -17119287351375
        TestCaseTwoArgs{lhs: 107727225650629, rhs: 0b110100000001010011110101110111111011110011011011, expected: 160413759357162}, // rhs = -52686533706533
        TestCaseTwoArgs{lhs: 69433746995267, rhs: 92375883614270, expected: 258532840091653},
        TestCaseTwoArgs{lhs: 116205045307156, rhs: 0b110000010100000110101101100100110110011000011111, expected: 185192192864501}, // rhs = -68987147557345
        TestCaseTwoArgs{lhs: 69376616878141, rhs: 92298158671020, expected: 258553434917777},
        TestCaseTwoArgs{lhs: 0b111111110110001000010110111101010000111001001010, rhs: 0b101010100110111000010001011000100000111100101100, expected: 93407042273054}, // lhs = -678219674038 rhs = -94085261947092
        TestCaseTwoArgs{lhs: 106525732054764, rhs: 79684485111566, expected: 26841246943198},
        TestCaseTwoArgs{lhs: 34525326954557, rhs: 0b100101000001100100100110000100110101011101111011, expected: 153164569770178}, // rhs = -118639242815621
        TestCaseTwoArgs{lhs: 0b100010100110010101110100100011111000000000011000, rhs: 115477004088117, expected: 36691347803363}, // lhs = -129306624819176
        TestCaseTwoArgs{lhs: 0b101101010000011111010000001111110110011101100010, rhs: 120288344084492, expected: 78756819130198}, // lhs = -82429813495966
        TestCaseTwoArgs{lhs: 18685778921034, rhs: 18940045035562, expected: 281220710596128},
        TestCaseTwoArgs{lhs: 42733646198737, rhs: 7638499888151, expected: 35095146310586},
        TestCaseTwoArgs{lhs: 70600956430738, rhs: 68380652639719, expected: 2220303791019},
        TestCaseTwoArgs{lhs: 0b100011101100111100100011101101111011011001101010, rhs: 0b111111101010000011110001110011100010111111001000, expected: 158528080283298}, // lhs = -124454668093846 rhs = -1507771666488
        TestCaseTwoArgs{lhs: 0b100000111100110111011000000011111110000110111100, rhs: 0b101100100101100010100110110110001010101000001001, expected: 230301267081139}, // lhs = -136554860256836 rhs = -85381150627319
        TestCaseTwoArgs{lhs: 0b100101010010000111000111010101000111110111100111, rhs: 45619383292134, expected: 118352927370497}, // lhs = -117502666048025
        TestCaseTwoArgs{lhs: 92471322790744, rhs: 0b101001111000000001101000001111111001001111001010, expected: 189776352851854}, // rhs = -97305030061110
        TestCaseTwoArgs{lhs: 93986384621208, rhs: 0b110000010110100110110001011100011000110101101100, expected: 162801668596012}, // rhs = -68815283974804
        TestCaseTwoArgs{lhs: 103927868954329, rhs: 0b110001010011010001111110100001100000010100111111, expected: 168573593981338}, // rhs = -64645725027009
        TestCaseTwoArgs{lhs: 0b101101011011010001110001010001000111100001111011, rhs: 0b111100011010001100111101110110111010010100101000, expected: 215578155995987}, // lhs = -81688377657221 rhs = -15791556942552
        TestCaseTwoArgs{lhs: 0b100001011110101101110001101100100110111111101110, rhs: 134277285027732, expected: 12968986300506}, // lhs = -134228705382418
        TestCaseTwoArgs{lhs: 0b100000110110101111100010100011000010110111100101, rhs: 0b100101101001110011100010010100111001010110100110, expected: 260373806094399}, // lhs = -136975591133723 rhs = -115874420517466
        TestCaseTwoArgs{lhs: 5822338941893, rhs: 88836096679291, expected: 198461218973258},
        TestCaseTwoArgs{lhs: 0b110001011001111101101100000011001110011110010010, rhs: 57955880850946, expected: 159332622406032}, // lhs = -64186473453678
        TestCaseTwoArgs{lhs: 0b101010111000001101001000010010000011100001000101, rhs: 40772209906832, expected: 147808131851189}, // lhs = -92894634952635
        TestCaseTwoArgs{lhs: 0b111100100111011110101100011010001101000001001101, rhs: 0b101010101001111011100111110001010000100001110001, expected: 78996337575900}, // lhs = -14879169130419 rhs = -93875506706319
        TestCaseTwoArgs{lhs: 2224877779227, rhs: 0b101010000001100100111110000110011101100101100001, expected: 98873484959674}, // rhs = -96648607180447
        TestCaseTwoArgs{lhs: 0b110001011010000010101010100001101111100010110000, rhs: 0b101100000000010000111110101111001000110100000001, expected: 23761567509423}, // lhs = -64181130299216 rhs = -87942697808639
        TestCaseTwoArgs{lhs: 0b111000101101100111100101111101000111011000100010, rhs: 26964954969329, expected: 222460538814769}, // lhs = -32049482926558
        TestCaseTwoArgs{lhs: 68430978668960, rhs: 73032510362121, expected: 276873445017495},
        TestCaseTwoArgs{lhs: 17566912203621, rhs: 102799559250400, expected: 196242329663877},
        TestCaseTwoArgs{lhs: 0b111100011000001001110010011010100001010111100111, rhs: 0b100100001000000011000111101110000001110101000110, expected: 106659786651809}, // lhs = -15932409113113 rhs = -122592195764922
        TestCaseTwoArgs{lhs: 0b101111010111010000101000000110111011111110011110, rhs: 0b110000111000110100100110010010000000001010110100, expected: 274770563415274}, // lhs = -73168389947490 rhs = -66463976652108
        TestCaseTwoArgs{lhs: 0b110001101011110001000110000011101001110111110110, rhs: 0b110101011011101011101001010011110000011111100001, expected: 264988153320981}, // lhs = -62963045196298 rhs = -46476221806623
        TestCaseTwoArgs{lhs: 27122728369485, rhs: 0b110110011011100100011100100011111100101110111111, expected: 69208633717134}, // rhs = -42085905347649
        TestCaseTwoArgs{lhs: 0b100110010110100110011000010001110010010001101100, rhs: 113158525339226, expected: 55520280075794}, // lhs = -112796171295636
        TestCaseTwoArgs{lhs: 0b110000011010110011010100011100000011001011110011, rhs: 7777125958170, expected: 205170916700377}, // lhs = -68526934052109
        TestCaseTwoArgs{lhs: 0b101111111101001000001111101101111011110111001011, rhs: 8495078258265, expected: 202413849479026}, // lhs = -70566048973365
        TestCaseTwoArgs{lhs: 31368809612510, rhs: 36651044962443, expected: 276192741360723},
        TestCaseTwoArgs{lhs: 135822981268445, rhs: 0b110110111110101110100010110101011011111100111110, expected: 175492862264479}, // rhs = -39669880996034
        TestCaseTwoArgs{lhs: 96504490443702, rhs: 8541128785869, expected: 87963361657833},
        TestCaseTwoArgs{lhs: 0b101100000010110010101100001001010101000011101001, rhs: 0b110100111011111110100011101110001110110000100111, expected: 242360850867394}, // lhs = -87769063534359 rhs = -48654937691097
        TestCaseTwoArgs{lhs: 131505888539710, rhs: 0b110100110100100110100011011100000110010010100011, expected: 180667637125019}, // rhs = -49161748585309
        TestCaseTwoArgs{lhs: 0b100100111110001011101101101100110010100001101111, rhs: 0b101111010000100110100011111011011011011101101000, expected: 236228733923591}, // lhs = -118872116877201 rhs = -73625874090136
        TestCaseTwoArgs{lhs: 126846323626221, rhs: 137244814381011, expected: 271076485955866},
        TestCaseTwoArgs{lhs: 0b110111011101111000111111101010101100011110001010, rhs: 98771526498077, expected: 145175094136941}, // lhs = -37528356075638
        TestCaseTwoArgs{lhs: 135304723645001, rhs: 0b101010000100101000110100100100110101011100100011, expected: 231743037238054}, // rhs = -96438313593053
        TestCaseTwoArgs{lhs: 82423085871216, rhs: 0b110111001100001000101101011010001011010110110001, expected: 121171518978751}, // rhs = -38748433107535
        TestCaseTwoArgs{lhs: 8572435032846, rhs: 110429026636475, expected: 179618385107027},
        TestCaseTwoArgs{lhs: 0b111101100011000001011000110000101100011011110111, rhs: 120463618132011, expected: 150223889891020}, // lhs = -10787468687625
        TestCaseTwoArgs{lhs: 0b101110001100101010110000110001101101100010110001, rhs: 117855512588661, expected: 85325176137532}, // lhs = -78294287984463
        TestCaseTwoArgs{lhs: 87571488950772, rhs: 0b110111101000001101100010000010011111101111111010, expected: 124390598757882}, // rhs = -36819109807110
        TestCaseTwoArgs{lhs: 0b110010000111111000101110010000101000000101001100, rhs: 27799103274428, expected: 192645164270480}, // lhs = -61030709165748
        TestCaseTwoArgs{lhs: 0b101010000101100101000010110110111011010010000101, rhs: 115361309325309, expected: 69740017925256}, // lhs = -96373649460091
        TestCaseTwoArgs{lhs: 23379874378028, rhs: 138613854441680, expected: 166240996647004},
        TestCaseTwoArgs{lhs: 122853341364742, rhs: 0b101000100111011010111100010101000111000000111111, expected: 225697468584391}, // rhs = -102844127219649
        TestCaseTwoArgs{lhs: 0b101010010001101111111001000110100011100101110111, rhs: 35149376613355, expected: 150788231843212}, // lhs = -95537368254089
        TestCaseTwoArgs{lhs: 137864352246669, rhs: 0b101111011100100101101101111111100101100011110001, expected: 210666497495708}, // rhs = -72802145249039
        TestCaseTwoArgs{lhs: 0b111101010011100011010011010000100101011100111111, rhs: 0b110000100011101000001011101110010001111001101110, expected: 56069850740945}, // lhs = -11850565396673 rhs = -67920416137618
        TestCaseTwoArgs{lhs: 0b111110001001110000100000011100011100110001001011, rhs: 98154728066118, expected: 175194714849285}, // lhs = -8125533795253
        TestCaseTwoArgs{lhs: 43020782869777, rhs: 8145037822885, expected: 34875745046892},
        TestCaseTwoArgs{lhs: 0b110110011100100110010111001000111101101000001100, rhs: 0b100010001010101111001011100101111110011110011001, expected: 89188410847859}, // lhs = -42015129347572 rhs = -131203540195431
        TestCaseTwoArgs{lhs: 0b101011001111110010101111011001111010010110011111, rhs: 108446875760835, expected: 81754398780636}, // lhs = -91273702169185
        TestCaseTwoArgs{lhs: 52827797130412, rhs: 107550896305336, expected: 226751877535732},
        TestCaseTwoArgs{lhs: 0b110100111101011100100110011001100111011011111100, rhs: 38877327642035, expected: 194043688036681}, // lhs = -48553961031940
        TestCaseTwoArgs{lhs: 96705954608225, rhs: 83357837600086, expected: 13348117008139},
        TestCaseTwoArgs{lhs: 113191187137405, rhs: 84107887362677, expected: 29083299774728},
        TestCaseTwoArgs{lhs: 0b101101011101000110111010011011100000011010111011, rhs: 94628061073516, expected: 105284319491663}, // lhs = -81562596145477
        TestCaseTwoArgs{lhs: 0b110010110111101010111010111011001000110001011111, rhs: 0b110100011001110110110011111010111110111010000100, expected: 274727700569563}, // lhs = -57746994197409 rhs = -50999718056316
        TestCaseTwoArgs{lhs: 90939639094481, rhs: 92124088801732, expected: 280290527003405},
        TestCaseTwoArgs{lhs: 0b101001001011101100010110011111011100000110110100, rhs: 0b111001011100110110110011110110011110011000011101, expected: 209926771432343}, // lhs = -100351533530700 rhs = -28803328252387
        TestCaseTwoArgs{lhs: 0b101010011110110111010110000101111100110001010000, rhs: 69599967280801, expected: 117238996946351}, // lhs = -94636012483504
        TestCaseTwoArgs{lhs: 0b101010000001001011111111001010000101011010100111, rhs: 0b110111011001101000111000010101010010011110011100, expected: 222620080615179}, // lhs = -96675432999257 rhs = -37820536903780
        TestCaseTwoArgs{lhs: 0b100001101100100001010110011111000111001100000111, rhs: 73281711577533, expected: 74913291000138}, // lhs = -133279974132985
        TestCaseTwoArgs{lhs: 102096855113923, rhs: 101821888714945, expected: 274966398978},
        TestCaseTwoArgs{lhs: 0b110110001111001011110110100110111111001010101011, rhs: 125223524203252, expected: 113314506897335}, // lhs = -42936945610069
        TestCaseTwoArgs{lhs: 0b110011000101100111011101110111111000011010110110, rhs: 0b100111000010110101101011001100110100110100011010, expected: 52967460583836}, // lhs = -56788630141258 rhs = -109756090725094
        TestCaseTwoArgs{lhs: 66708966020807, rhs: 0b111110100100101001011001110001011010101011110100, expected: 72986702080979}, // rhs = -6277736060172
        TestCaseTwoArgs{lhs: 0b101001000111001101100101001101101101101101011100, rhs: 30620158698710, expected: 150195367589510}, // lhs = -100659450422436
        TestCaseTwoArgs{lhs: 94846155435194, rhs: 22585421248945, expected: 72260734186249},
        TestCaseTwoArgs{lhs: 133294866785503, rhs: 1457207614726, expected: 131837659170777},
        TestCaseTwoArgs{lhs: 0b101100000111000000100001101000100011001110000101, rhs: 19146877230895, expected: 174848769872982}, // lhs = -87479329606779
        TestCaseTwoArgs{lhs: 20322105578917, rhs: 47371580826848, expected: 254425501462725},
        TestCaseTwoArgs{lhs: 0b110111000001010000100110001001111110110101010010, rhs: 81768841826369, expected: 160210255781137}, // lhs = -39495879103150
        TestCaseTwoArgs{lhs: 0b100010100111001101000000000100001101000001101011, rhs: 0b110111100100111100010111000011100101101000010111, expected: 189271306827348}, // lhs = -129247375994773 rhs = -37043706111465
        TestCaseTwoArgs{lhs: 51235353303951, rhs: 51127499707268, expected: 107853596683},
        TestCaseTwoArgs{lhs: 111918224982935, rhs: 0b111011010100000000000010010001000001101000101001, expected: 132534029986158}, // rhs = -20615805003223
        TestCaseTwoArgs{lhs: 0b111111111000000001010101100000000111110001011010, rhs: 0b100111001011000010000011111111111100111101011010, expected: 108644712623360}, // lhs = -548321330086 rhs = -109193033953446
        TestCaseTwoArgs{lhs: 118614157734423, rhs: 0b101010111101011001101110011100111001001111011110, expected: 211151670025785}, // rhs = -92537512291362
        TestCaseTwoArgs{lhs: 92823863579235, rhs: 0b110000110010010100111110000011010000110011011001, expected: 159734118040970}, // rhs = -66910254461735
        TestCaseTwoArgs{lhs: 0b111001110010001111010100010100101110101101111001, rhs: 0b111111110111101001110111000010011100100010000000, expected: 254714600563449}, // lhs = -27333904635015 rhs = -573528487808
        TestCaseTwoArgs{lhs: 0b101111011110101011001001010101011001100000100010, rhs: 0b111101101000010000111100110011000111100010101011, expected: 219243258388343}, // lhs = -72658878883806 rhs = -10427160561493
        TestCaseTwoArgs{lhs: 30501206571063, rhs: 133510995903798, expected: 178465187377921},
        TestCaseTwoArgs{lhs: 0b100011011100010100001000001110010001010111000101, rhs: 0b101100110111000110011111111111001001000111100101, expected: 240051765937120}, // lhs = -125597590678075 rhs = -84174379904539
        TestCaseTwoArgs{lhs: 0b100000011101111101110000001000001000010101110000, rhs: 0b101110100001100111110001100001010001000001111100, expected: 219651046601972}, // lhs = -138678317841040 rhs = -76854387732356
        TestCaseTwoArgs{lhs: 0b100010100010001111000100011111111100010111001011, rhs: 0b110011011000010000011110100010010010010001000110, expected: 207393870225797}, // lhs = -129588751514165 rhs = -55507645029306
        TestCaseTwoArgs{lhs: 80859305811703, rhs: 193592592813, expected: 80665713218890},
        TestCaseTwoArgs{lhs: 0b101101010000000011010011101101100010111000101110, rhs: 24647925685165, expected: 174367230874241}, // lhs = -82459820151250
        TestCaseTwoArgs{lhs: 94434228986098, rhs: 0b111001000110101001100010110010111110101001001010, expected: 124763630499496}, // rhs = -30329401513398
        TestCaseTwoArgs{lhs: 0b101111111001101000100101010010110100001100100010, rhs: 132401551848935, expected: 78267219709243}, // lhs = -70806205152478
        TestCaseTwoArgs{lhs: 12409437247382, rhs: 0b110101110110100110000011000011011011001111110100, expected: 57036243706786}, // rhs = -44626806459404
        TestCaseTwoArgs{lhs: 129272834669836, rhs: 137440823706614, expected: 273306987673878},
        TestCaseTwoArgs{lhs: 0b101010111110011101001110101110001011110111001001, rhs: 0b100010101000100111001101110111111001100011101011, expected: 36685477389534}, // lhs = -92465030185527 rhs = -129150507575061
        TestCaseTwoArgs{lhs: 70100759565620, rhs: 87513824903948, expected: 264061911372328},
        TestCaseTwoArgs{lhs: 22499202896298, rhs: 108037656947061, expected: 195936522659893},
        TestCaseTwoArgs{lhs: 34846520725454, rhs: 23596392893078, expected: 11250127832376},
        TestCaseTwoArgs{lhs: 0b101111001001100100110101010110001010011110110101, rhs: 0b110110101011011000010011000111111000100101010011, expected: 248365647994466}, // lhs = -74108765689931 rhs = -40999436973741
        TestCaseTwoArgs{lhs: 0b101111111111001111100000011110000011110001110010, rhs: 0b110111111010001001111011000010111010101101101001, expected: 246640198586633}, // lhs = -70420812776334 rhs = -35586034652311
        TestCaseTwoArgs{lhs: 0b110101100010010101011010110011111111100010111101, rhs: 28431318684330, expected: 207024607028755}, // lhs = -46019050997571
        TestCaseTwoArgs{lhs: 0b101101111111111101101110001110101111111100101001, rhs: 122765636584397, expected: 79542057319260}, // lhs = -79167282806999
        TestCaseTwoArgs{lhs: 8601156414497, rhs: 0b111110001110001111100000101111000101010100000100, expected: 16418521421597}, // rhs = -7817365007100
        TestCaseTwoArgs{lhs: 0b111100110101100101011101101110110111000010000010, rhs: 62335672202029, expected: 205229478002005}, // lhs = -13909826506622
        TestCaseTwoArgs{lhs: 114479771278118, rhs: 0b110111001111010010001101100100111110100011000110, expected: 153011842576992}, // rhs = -38532071298874
        TestCaseTwoArgs{lhs: 0b100010000010010100011011101100110100011111000100, rhs: 112579030030860, expected: 37113929870776}, // lhs = -131782016809020
        TestCaseTwoArgs{lhs: 95712026247337, rhs: 0b100001000000010001010101010111001111011001011001, expected: 232032856066640}, // rhs = -136320829819303
        TestCaseTwoArgs{lhs: 0b111001100011101010110001010100001110101110011001, rhs: 0b101110001100111111010001010001001010011100010000, expected: 49937048683657}, // lhs = -28335219348583 rhs = -78272268032240
        TestCaseTwoArgs{lhs: 19647904602643, rhs: 0b111100010000100000101101101000110101101110111001, expected: 36105453600346}, // rhs = -16457548997703
        TestCaseTwoArgs{lhs: 95349959386516, rhs: 0b110000011010101101000000000110001010010100110001, expected: 163883677171811}, // rhs = -68533717785295
        TestCaseTwoArgs{lhs: 0b100010110100101110010001011010101101111000000101, rhs: 90280065247198, expected: 62876613260839}, // lhs = -128318298202619
        TestCaseTwoArgs{lhs: 117554402339883, rhs: 0b111011100110011110001011111100101110010011110110, expected: 136900882057013}, // rhs = -19346479717130
        TestCaseTwoArgs{lhs: 59614818906562, rhs: 23273477129786, expected: 36341341776776},
        TestCaseTwoArgs{lhs: 41681818639094, rhs: 120502600075976, expected: 202654195273774},
        TestCaseTwoArgs{lhs: 118850258219125, rhs: 8748328307525, expected: 110101929911600},
        TestCaseTwoArgs{lhs: 0b100001011010001010101111110000011001111011000100, rhs: 0b110011001110110000011111111000010110111001101101, expected: 203094237392983}, // lhs = -134541196812604 rhs = -56160457494931
        TestCaseTwoArgs{lhs: 0b100110110011100001001000110001100011010011010111, rhs: 113968609618815, expected: 56697431804248}, // lhs = -110808935287593
        TestCaseTwoArgs{lhs: 85968274238411, rhs: 102817555929131, expected: 264625695019936},
        TestCaseTwoArgs{lhs: 0b111000001110001100010010001110110011110011101001, rhs: 0b111011010001101010001111001010000100101100001001, expected: 268042518065632}, // lhs = -34209108640535 rhs = -20776649995511
        TestCaseTwoArgs{lhs: 32388360845755, rhs: 116581605483098, expected: 197281732073313},
        TestCaseTwoArgs{lhs: 117311514569569, rhs: 0b101101111010011100111101010110111011101111110111, expected: 196857574436714}, // rhs = -79546059867145
        TestCaseTwoArgs{lhs: 0b101011101011010100001011011101100011110010010101, rhs: 0b110010010101111011001100101101110011110111010100, expected: 252158582652609}, // lhs = -89382372098923 rhs = -60065978040876
        TestCaseTwoArgs{lhs: 0b110111110011001001000011010101110111111001010110, rhs: 118858680128648, expected: 126548291037646}, // lhs = -36068005544362
        TestCaseTwoArgs{lhs: 0b110101000110110010000111011000111110110101100010, rhs: 0b100001110110011101101101111011100101000011000111, expected: 84684297313435}, // lhs = -47912383681182 rhs = -132596680994617
        TestCaseTwoArgs{lhs: 130362476493667, rhs: 0b111010011111011001010000101011010000000110010101, expected: 154593328462286}, // rhs = -24230851968619
        TestCaseTwoArgs{lhs: 83149155726524, rhs: 0b111100000010110000111001101111000100111000101111, expected: 100551394567821}, // rhs = -17402238841297
        TestCaseTwoArgs{lhs: 51807228961177, rhs: 70821625172179, expected: 262460580499654},
        TestCaseTwoArgs{lhs: 21769940367230, rhs: 116140671891691, expected: 187104245186195},
        TestCaseTwoArgs{lhs: 113474668033513, rhs: 0b111100100001001111110010111110010110001100101000, expected: 128782150013633}, // rhs = -15307481980120
        TestCaseTwoArgs{lhs: 0b100011011001000101100110111010011111111001110101, rhs: 121068142088295, expected: 34587494297102}, // lhs = -125819340325259
        TestCaseTwoArgs{lhs: 26334831298080, rhs: 0b100011010010000011001001000011110111000000100110, expected: 152637856306682}, // rhs = -126303025008602
        TestCaseTwoArgs{lhs: 0b111101010110001101000110000111100011111011100010, rhs: 80189524083915, expected: 189617202870807}, // lhs = -11668249755934
        TestCaseTwoArgs{lhs: 44700705720627, rhs: 8798927471940, expected: 35901778248687},
        TestCaseTwoArgs{lhs: 99326735044112, rhs: 54653935801392, expected: 44672799242720},
        TestCaseTwoArgs{lhs: 106035221619129, rhs: 110055351849968, expected: 277454846479817},
        TestCaseTwoArgs{lhs: 135245286698112, rhs: 0b110111000010110011111111001001111000100011100001, expected: 174634445955999}, // rhs = -39389159257887
        TestCaseTwoArgs{lhs: 0b111100000011000111100101011010000000101001000101, rhs: 0b110011101000100001111111111111101000010010110011, expected: 37011434603922}, // lhs = -17377883846075 rhs = -54389318449997
        TestCaseTwoArgs{lhs: 37077526587240, rhs: 0b111001110010010100100000111010110110000110111001, expected: 64405851194799}, // rhs = -27328324607559
        TestCaseTwoArgs{lhs: 0b110111110010001000000010000110110111110111001110, rhs: 20366503590658, expected: 224970653647564}, // lhs = -36137819472434
        TestCaseTwoArgs{lhs: 73553466121178, rhs: 11032395355270, expected: 62521070765908},
        TestCaseTwoArgs{lhs: 114981715076220, rhs: 77884620334271, expected: 37097094741949},
        TestCaseTwoArgs{lhs: 0b100101111101010000101000001101110110011001110111, rhs: 116080934111642, expected: 50856529468637}, // lhs = -114537513130377
        TestCaseTwoArgs{lhs: 0b110010110101000101001010100000001101001111011001, rhs: 7859446431300, expected: 215690556315029}, // lhs = -57924973964327
        TestCaseTwoArgs{lhs: 25792801198524, rhs: 19108437961168, expected: 6684363237356},
        TestCaseTwoArgs{lhs: 0b101010010110100111011111011000000101100110100000, rhs: 19105313296779, expected: 167166870997013}, // lhs = -95202792416864
        TestCaseTwoArgs{lhs: 52081358119965, rhs: 76306603458535, expected: 257249731372086},
        TestCaseTwoArgs{lhs: 0b111100100110110100010111001000110110111010100000, rhs: 65611435423872, expected: 200938918131232}, // lhs = -14924623155552
        TestCaseTwoArgs{lhs: 0b110101101011100011001100111101010101100101110001, rhs: 41113254032059, expected: 194975946925750}, // lhs = -45385775752847
        TestCaseTwoArgs{lhs: 32802318453265, rhs: 50279046801159, expected: 263998248362762},
        TestCaseTwoArgs{lhs: 0b101110010010111110000001011111100111111000101001, rhs: 0b111011100110111111110110011101111111000010110000, expected: 222924020026745}, // lhs = -77861289558487 rhs = -19310332874576
        TestCaseTwoArgs{lhs: 0b101001011001011000010000110011001011110000110110, rhs: 26774867087310, expected: 155289078443112}, // lhs = -99411031180234
        TestCaseTwoArgs{lhs: 0b111000011110101000111110010111111011110000010011, rhs: 0b100101000011101011010111101010101001100000000011, expected: 85415737762832}, // lhs = -33078791652333 rhs = -118494529415165
        TestCaseTwoArgs{lhs: 0b111011001100011010000111000110001011101000100000, rhs: 0b101100100110001011101110110100101101101001110101, expected: 64199430889387}, // lhs = -21137562486240 rhs = -85336993375627
        TestCaseTwoArgs{lhs: 0b100100010111101010001110111000111110100101100000, rhs: 140562842507245, expected: 19392726831475}, // lhs = -121519407371936
        TestCaseTwoArgs{lhs: 107778853616746, rhs: 0b111110110010100100110010110111110111101111000000, expected: 113099464589482}, // rhs = -5320610972736
        TestCaseTwoArgs{lhs: 0b100100101010001101000010010111110011011100000001, rhs: 2091998233786, expected: 159137892627015}, // lhs = -120245085849855
        TestCaseTwoArgs{lhs: 0b101100101001000010000001101010010111101001100100, rhs: 0b111100110001100011000000011001100110000000110010, expected: 210521064413746}, // lhs = -85141256308124 rhs = -14187344011214
        TestCaseTwoArgs{lhs: 0b111010011101100010011110000100010011010111110011, rhs: 111394525601195, expected: 145722048534600}, // lhs = -24358402574861
        TestCaseTwoArgs{lhs: 9514923478006, rhs: 0b101111101111000101110001110010110000001100011110, expected: 81045694662872}, // rhs = -71530771184866
        TestCaseTwoArgs{lhs: 0b111000110100000010110101000101110010001001000001, rhs: 15891861940329, expected: 233975193663960}, // lhs = -31607921106367
        TestCaseTwoArgs{lhs: 40545048110112, rhs: 113922651818910, expected: 208097373001858},
        TestCaseTwoArgs{lhs: 41159473157617, rhs: 63518353992892, expected: 259116095875381},
        TestCaseTwoArgs{lhs: 0b111000010011000000011000011000100010111000111001, rhs: 75153313525395, expected: 172443370241958}, // lhs = -33878292943303
        TestCaseTwoArgs{lhs: 0b100101110011011110101110011010011101110000010101, rhs: 0b110100110110110000100011111100100001000001100001, expected: 215278968884148}, // lhs = -115209571541995 rhs = -49013563715487
        TestCaseTwoArgs{lhs: 0b100111100110110100110110011101011100010100111111, rhs: 0b101101110001010000011101011001101111100001101011, expected: 254369858505940}, // lhs = -107283074398913 rhs = -80177956194197
        TestCaseTwoArgs{lhs: 0b101001100111010010110011011010010110100000111111, rhs: 0b110100110010111111010101000100010111000101011010, expected: 232292741543653}, // lhs = -98454820263873 rhs = -49272585096870
        TestCaseTwoArgs{lhs: 878003879420, rhs: 0b111101011110101101010000100100100011001100101011, expected: 11961962711761}, // rhs = -11083958832341
        TestCaseTwoArgs{lhs: 73325492315600, rhs: 0b111111010001110110101100000100110110111010101010, expected: 76496586192678}, // rhs = -3171093877078
        TestCaseTwoArgs{lhs: 0b101101111000010100110100001011010110011100100110, rhs: 0b101111001111001111001000000111110100011110001001, expected: 275502490066845}, // lhs = -79692242786522 rhs = -73719756142711
        TestCaseTwoArgs{lhs: 54531159545983, rhs: 35689777095633, expected: 18841382450350},
        TestCaseTwoArgs{lhs: 0b110101000010010010111101011001000100111011101011, rhs: 0b100100010010011101011110010001101111101111001100, expected: 73655989916447}, // lhs = -48220715331861 rhs = -121876705248308
        TestCaseTwoArgs{lhs: 0b111100101001110111000110101011010110101001011000, rhs: 21371850915128, expected: 245387606125856}, // lhs = -14715519669672
        TestCaseTwoArgs{lhs: 0b101100000011111001111011111110000100101110000101, rhs: 0b100011101001101111001111001000010011011101001101, expected: 36982568195128}, // lhs = -87692562379899 rhs = -124675130575027
        TestCaseTwoArgs{lhs: 0b101001010000110111110110101100001000101111100100, rhs: 41103456946288, expected: 140375934976884}, // lhs = -99995584787484
        TestCaseTwoArgs{lhs: 108994247681732, rhs: 140546368154130, expected: 249922856238258},
        TestCaseTwoArgs{lhs: 53712334093990, rhs: 0b100001111011101100100011100010001001011110111001, expected: 185949486016237}, // rhs = -132237151922247
        TestCaseTwoArgs{lhs: 118727964658518, rhs: 31393526182037, expected: 87334438476481},
        TestCaseTwoArgs{lhs: 99286407201420, rhs: 0b100110010001000101001000111011010011001100110111, expected: 212461866913621}, // rhs = -113175459712201
        TestCaseTwoArgs{lhs: 0b110000010111110111100100011111011010001111000100, rhs: 101430840633907, expected: 111315607878033}, // lhs = -68728528198716
        TestCaseTwoArgs{lhs: 0b101100110100001011010001010101011011111100001100, rhs: 110162393756977, expected: 86937167514075}, // lhs = -84375415439604
        TestCaseTwoArgs{lhs: 0b101011001111001110001000110110011110111110011011, rhs: 6827235517822, expected: 183334737496605}, // lhs = -91313003696229
        TestCaseTwoArgs{lhs: 36824311075092, rhs: 19727651198841, expected: 17096659876251},
        TestCaseTwoArgs{lhs: 0b110011100110000000011000110110110100010111111100, rhs: 30171875323365, expected: 196740253882391}, // lhs = -54562847504900
        TestCaseTwoArgs{lhs: 4194881258274, rhs: 79854000985284, expected: 205815856983646},
        TestCaseTwoArgs{lhs: 0b101100010100111101100111011001110010101000000111, rhs: 64447058768446, expected: 130507536578505}, // lhs = -86520381363705
        TestCaseTwoArgs{lhs: 77592868574027, rhs: 0b111000101011011111101000010110111000110111010100, expected: 109788340077943}, // rhs = -32195471503916
        TestCaseTwoArgs{lhs: 124815668079639, rhs: 0b111010001101011010111110110001111100000101100011, expected: 150281623382708}, // rhs = -25465955303069
        TestCaseTwoArgs{lhs: 97452670308826, rhs: 0b110011000101000010101101101011100100110100100011, expected: 154280763688119}, // rhs = -56828093379293
        TestCaseTwoArgs{lhs: 133624028609430, rhs: 94529237548684, expected: 39094791060746},
        TestCaseTwoArgs{lhs: 42510382239704, rhs: 0b101001100010111000100111111011110101011100110011, expected: 141268190247077}, // rhs = -98757808007373
        TestCaseTwoArgs{lhs: 0b101110110111100100101100100010001011110010001101, rhs: 0b111100111111100011010001010000000110011101111000, expected: 219354101208341}, // lhs = -75345864115059 rhs = -13224988612744
        TestCaseTwoArgs{lhs: 11899861098103, rhs: 124593517483516, expected: 168781320325243},
        TestCaseTwoArgs{lhs: 47762874456246, rhs: 94610244665343, expected: 234627606501559},
        TestCaseTwoArgs{lhs: 0b110001101000101101010001111110010011010111111101, rhs: 119862069215973, expected: 98439608824600}, // lhs = -63173298670083
        TestCaseTwoArgs{lhs: 0b110110111010111101100011110011001100001110101001, rhs: 0b111000000000011100010110001101001010111110000001, expected: 276700274889768}, // lhs = -39928636587095 rhs = -35153934766207
        TestCaseTwoArgs{lhs: 15993070068302, rhs: 80948734126716, expected: 216519312652242},
        TestCaseTwoArgs{lhs: 97927994279335, rhs: 1081831458165, expected: 96846162821170},
        TestCaseTwoArgs{lhs: 0b101110000011011111010001010101111100111011000101, rhs: 0b101110010111010000100111011100111011110100010001, expected: 280116322374068}, // lhs = -78925101805883 rhs = -77566447469295
        TestCaseTwoArgs{lhs: 0b111010100010111000110110000101111111001010100110, rhs: 0b111110100100000001011010100100110111101100000101, expected: 263804869179297}, // lhs = -23990779776346 rhs = -6320672244987
        TestCaseTwoArgs{lhs: 72932045636994, rhs: 69505184174521, expected: 3426861462473},
        TestCaseTwoArgs{lhs: 53029905800762, rhs: 130505470023417, expected: 203999412488001},
        TestCaseTwoArgs{lhs: 0b111110000110101111111110001010110110111010101001, rhs: 0b100011010101111110101010011010101100110110010001, expected: 117700688912664}, // lhs = -8332267262295 rhs = -126032956174959
        TestCaseTwoArgs{lhs: 17326519829708, rhs: 14367403551671, expected: 2959116278037},
        TestCaseTwoArgs{lhs: 0b100000100001001000000111011010010110000001111000, rhs: 0b101011000101000011111010110000100110001101101001, expected: 235025117674767}, // lhs = -138461031341960 rhs = -92011172306071

        // Edge cases
        TestCaseTwoArgs{lhs: 0, rhs: 140737488355327, expected: 140737488355329},
        TestCaseTwoArgs{lhs: 0, rhs: 0b100000000000000000000000000000000000000000000000, expected: 140737488355328}, // rhs = -140737488355328
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 140737488355327, expected: 0},
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0b100000000000000000000000000000000000000000000000, expected: 281474976710655}, // rhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0, expected: 140737488355328}, // lhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 140737488355327, expected: 1}, // lhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0b100000000000000000000000000000000000000000000000, expected: 0}, // lhs = -140737488355328 rhs = -140737488355328
    ];

    #[test]
    fn test_i48() {
        for case in test_cases.span() {
            assert_eq!(__llvm_sub_k_k_k(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
