use crate::rtstate::RTState;
use crate::alu::sadd_with_overflow::sadd_with_overflow;
use crate::integer::u40::u40;

pub fn __llvm_sadd_with_overflow_n_n_Sncs(
    ref state: RTState, lhs: u128, rhs: u128,
) -> (u128, bool) {
    sadd_with_overflow::<u40>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_sadd_with_overflow_n_n_Sncs;
    use crate::alu::test_case::TestCaseTwoArgsTwoExpected;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgsTwoExpected; 209] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgsTwoExpected{lhs: 91158909659, rhs: 0b1111111100011001110111001101001010111000, expected: (87297844627, false)}, // rhs = -3861065032
        TestCaseTwoArgsTwoExpected{lhs: 63264188221, rhs: 0b1101111111010001100010111011101001110001, expected: (1024557490606, false)}, // rhs = -138218325391
        TestCaseTwoArgsTwoExpected{lhs: 0b1000001000010010000111111100101001000000, rhs: 0b1110001100100101110000111010111001110011, expected: (434729351347, true)}, // lhs = -540861806016 rhs = -123920470413
        TestCaseTwoArgsTwoExpected{lhs: 0b1011010000011101111001001110111000110010, rhs: 130162413628, expected: (903758069358, false)}, // lhs = -325915972046
        TestCaseTwoArgsTwoExpected{lhs: 373998660473, rhs: 388675356579, expected: (762674017052, true)},
        TestCaseTwoArgsTwoExpected{lhs: 541587180778, rhs: 431044504862, expected: (972631685640, true)},
        TestCaseTwoArgsTwoExpected{lhs: 16032251558, rhs: 0b1010111110001000111000001010111011100000, expected: (769947954566, false)}, // rhs = -345595924768
        TestCaseTwoArgsTwoExpected{lhs: 388108210707, rhs: 0b1000100000011111101000111101011111010011, expected: (972754594278, false)}, // rhs = -514865244205
        TestCaseTwoArgsTwoExpected{lhs: 491244061113, rhs: 44528268448, expected: (535772329561, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011000110000101001010111010010001000, rhs: 0b1110110010111010001000110001110011001110, expected: (493565284694, true)}, // lhs = -523169860472 rhs = -82776482610
        TestCaseTwoArgsTwoExpected{lhs: 0b1101001010111111101011110110011011101110, rhs: 0b1000001100010111101101011100101001010001, expected: (368685953343, true)}, // lhs = -194352552210 rhs = -536473122223
        TestCaseTwoArgsTwoExpected{lhs: 343216550382, rhs: 0b1111001111011111011000100100011010111111, expected: (291129735341, false)}, // rhs = -52086815041
        TestCaseTwoArgsTwoExpected{lhs: 214782517383, rhs: 0b1011111101010100000101000000110010000010, expected: (1036531870985, false)}, // rhs = -277762274174
        TestCaseTwoArgsTwoExpected{lhs: 0b1110110010011100100000100010010011010100, rhs: 491162654872, expected: (407889083756, false)}, // lhs = -83273571116
        TestCaseTwoArgsTwoExpected{lhs: 90819359803, rhs: 0b1000110100101010110001000101100101001010, expected: (697127259525, false)}, // rhs = -493203728054
        TestCaseTwoArgsTwoExpected{lhs: 305486529708, rhs: 0b1100111010111101010110101110000101010001, expected: (93915014653, false)}, // rhs = -211571515055
        TestCaseTwoArgsTwoExpected{lhs: 0b1001000010011001110001111101000011011100, rhs: 0b1001011010101001110011110110000110101011, expected: (168637706887, true)}, // lhs = -478456327972 rhs = -452417592917
        TestCaseTwoArgsTwoExpected{lhs: 0b1111110110101110101100010010001100101110, rhs: 424045149571, expected: (414091092145, false)}, // lhs = -9954057426
        TestCaseTwoArgsTwoExpected{lhs: 0b1111101011111110001000010110001100000101, rhs: 0b1001101101001000000001100011010011000101, expected: (645422094282, false)}, // lhs = -21506202875 rhs = -432583330619
        TestCaseTwoArgsTwoExpected{lhs: 314916429580, rhs: 9126162306, expected: (324042591886, false)},
        TestCaseTwoArgsTwoExpected{lhs: 166129567202, rhs: 0b1001011000011001110110100100100010110100, expected: (810808397462, false)}, // rhs = -454832797516
        TestCaseTwoArgsTwoExpected{lhs: 0b1001001010100001001110001111001000101010, rhs: 0b1000011010101001010010001010101100110110, expected: (108624190816, true)}, // lhs = -469741538774 rhs = -521145898186
        TestCaseTwoArgsTwoExpected{lhs: 0b1111011100010001101010010001001100100011, rhs: 0b1101011011110100011000010001000010010001, expected: (884864590772, false)}, // lhs = -38358412509 rhs = -176288624495
        TestCaseTwoArgsTwoExpected{lhs: 0b1001110011101111000100011010100111111101, rhs: 134470031027, expected: (808495841456, false)}, // lhs = -425485817347
        TestCaseTwoArgsTwoExpected{lhs: 0b1110101111111100000110101000101000101111, rhs: 0b1111110010111111011111000101110010111101, expected: (999579641580, false)}, // lhs = -85964715473 rhs = -13967270723
        TestCaseTwoArgsTwoExpected{lhs: 180662597271, rhs: 0b1100010001011011110100101000101011111100, expected: (1024016712083, false)}, // rhs = -256157512964
        TestCaseTwoArgsTwoExpected{lhs: 971611112, rhs: 0b1000110110011011010000101100110111001010, expected: (609166846386, false)}, // rhs = -491316392502
        TestCaseTwoArgsTwoExpected{lhs: 0b1010100110110010101001100010001101100111, rhs: 0b1011111000011111011000100111011011010110, expected: (445905410621, true)}, // lhs = -370664922265 rhs = -282941294890
        TestCaseTwoArgsTwoExpected{lhs: 100024050678, rhs: 0b1001101010111101110010101101010101100011, expected: (764633200985, false)}, // rhs = -434902477469
        TestCaseTwoArgsTwoExpected{lhs: 0b1110100000001111011010111000110000110000, rhs: 0b1100000111101100100000010101110111110010, expected: (730076080674, false)}, // lhs = -102820508624 rhs = -266615038478
        TestCaseTwoArgsTwoExpected{lhs: 2585879195, rhs: 364800397592, expected: (367386276787, false)},
        TestCaseTwoArgsTwoExpected{lhs: 220295970900, rhs: 239198155277, expected: (459494126177, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100111101101001011111111000110000110100, rhs: 0b1111010110101011010100001111100000111011, expected: (846457767023, false)}, // lhs = -208683430860 rhs = -44370429893
        TestCaseTwoArgsTwoExpected{lhs: 0b1010010111011010011110100000000010011110, rhs: 358460623317, expected: (1070795655795, false)}, // lhs = -387176595298
        TestCaseTwoArgsTwoExpected{lhs: 0b1111010100001011110110110101001110010001, rhs: 262148724427, expected: (215103007324, false)}, // lhs = -47045717103
        TestCaseTwoArgsTwoExpected{lhs: 0b1001100100010101100111011001001000111011, rhs: 0b1110010111001001011011011111101010110011, expected: (544907955438, true)}, // lhs = -442018983365 rhs = -112584688973
        TestCaseTwoArgsTwoExpected{lhs: 0b1010111001111100111010101010011000001011, rhs: 503665393853, expected: (153573828296, false)}, // lhs = -350091565557
        TestCaseTwoArgsTwoExpected{lhs: 422684296421, rhs: 42078001031, expected: (464762297452, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000001011111100001000110100110110111111, rhs: 186047206394, expected: (748623126969, false)}, // lhs = -536935707201
        TestCaseTwoArgsTwoExpected{lhs: 0b1001000100101000001011011011001110000110, rhs: 0b1011100000111101100001010111101100010011, expected: (315238854297, true)}, // lhs = -476067286138 rhs = -308205487341
        TestCaseTwoArgsTwoExpected{lhs: 172252483958, rhs: 0b1100110001000101000111000111000101001011, expected: (1049585304257, false)}, // rhs = -222178807477
        TestCaseTwoArgsTwoExpected{lhs: 16165431027, rhs: 0b1001110000111011111101111011101101110110, expected: (687186420329, false)}, // rhs = -428490638474
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101111000000001100010111101010100000, rhs: 0b1100001100001100101011101001111011110110, expected: (338444687766, true)}, // lhs = -499286705504 rhs = -261780234506
        TestCaseTwoArgsTwoExpected{lhs: 94923084086, rhs: 0b1011011010110010100100101100010110100111, expected: (879603095261, false)}, // rhs = -314831616601
        TestCaseTwoArgsTwoExpected{lhs: 0b1110101100000010000010011100000111010000, rhs: 0b1010011101101101101011110010110101010001, expected: (628939616033, false)}, // lhs = -90160119344 rhs = -380411892399
        TestCaseTwoArgsTwoExpected{lhs: 0b1100011001110001110010101001110011010101, rhs: 0b1011011110101010110001110000010111110001, expected: (541645185734, true)}, // lhs = -247198999339 rhs = -310667442703
        TestCaseTwoArgsTwoExpected{lhs: 0b1011111111001110010110000011110100111100, rhs: 0b1101100000010010000001001100011111010101, expected: (652304254225, false)}, // lhs = -275710984900 rhs = -171496388651
        TestCaseTwoArgsTwoExpected{lhs: 0b1000010001111101000110000101101101011100, rhs: 0b1010100110000001001001000101111111111101, expected: (197538921305, true)}, // lhs = -530477196452 rhs = -371495510019
        TestCaseTwoArgsTwoExpected{lhs: 0b1100101011111000010010011110111010011110, rhs: 372398438887, expected: (144635799685, false)}, // lhs = -227762639202
        TestCaseTwoArgsTwoExpected{lhs: 511035667217, rhs: 0b1001001111100001000110111010000000011010, expected: (46660916011, false)}, // rhs = -464374751206
        TestCaseTwoArgsTwoExpected{lhs: 10201517903, rhs: 0b1100010110000001101100110010011111101000, expected: (858486077239, false)}, // rhs = -251227068440
        TestCaseTwoArgsTwoExpected{lhs: 0b1000010001001111001011010010011001011001, rhs: 422964577865, expected: (991228619938, false)}, // lhs = -531247585703
        TestCaseTwoArgsTwoExpected{lhs: 352033003193, rhs: 24107673908, expected: (376140677101, false)},
        TestCaseTwoArgsTwoExpected{lhs: 42000690267, rhs: 0b1000001101011101110111000011011000001110, expected: (606216118889, false)}, // rhs = -535296199154
        TestCaseTwoArgsTwoExpected{lhs: 0b1001100010000010101011101011100010001000, rhs: 0b1111110011000111100110101101000101110111, expected: (641196460543, false)}, // lhs = -444484110200 rhs = -13831057033
        TestCaseTwoArgsTwoExpected{lhs: 0b1001011111001010110011001110101010100000, rhs: 81666744109, expected: (733609232845, false)}, // lhs = -447569139040
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100100011000010101010111011110111110, rhs: 0b1100111001111101100110001110111000010001, expected: (719774967247, false)}, // lhs = -167095470146 rhs = -212641190383
        TestCaseTwoArgsTwoExpected{lhs: 103136844431, rhs: 0b1110100010011110011101111011011100101000, expected: (2716275127, false)}, // rhs = -100420569304
        TestCaseTwoArgsTwoExpected{lhs: 0b1100110110001010010110101001000000100010, rhs: 515195298152, expected: (298473157002, false)}, // lhs = -216722141150
        TestCaseTwoArgsTwoExpected{lhs: 161361620701, rhs: 0b1100111100100101000111110010000110011010, expected: (1051042648183, false)}, // rhs = -209830600294
        TestCaseTwoArgsTwoExpected{lhs: 451789531829, rhs: 0b1110111101111111011010100101001000111010, expected: (380912762095, false)}, // rhs = -70876769734
        TestCaseTwoArgsTwoExpected{lhs: 325309141555, rhs: 0b1010101100110100000010010001010011011111, expected: (1060621559570, false)}, // rhs = -364199209761
        TestCaseTwoArgsTwoExpected{lhs: 0b1000101110010101001110000110011010101011, rhs: 299333385205, expected: (898837340832, false)}, // lhs = -500007672149
        TestCaseTwoArgsTwoExpected{lhs: 298658686459, rhs: 0b1100110011001000001110100110110110100000, expected: (78679659419, false)}, // rhs = -219979027040
        TestCaseTwoArgsTwoExpected{lhs: 0b1100100100011110101001111001110111101111, rhs: 324211702694, expected: (88502802837, false)}, // lhs = -235708899857
        TestCaseTwoArgsTwoExpected{lhs: 195015024866, rhs: 0b1100000101011000110011001000101111110010, expected: (1025433513172, false)}, // rhs = -269093139470
        TestCaseTwoArgsTwoExpected{lhs: 0b1011100001100100001111111111110010001011, rhs: 6682887988, expected: (798638785471, false)}, // lhs = -307555730293
        TestCaseTwoArgsTwoExpected{lhs: 0b1100100011100011010001100000111100011010, rhs: 0b1001110101011011110011101100110111010001, expected: (439144996075, true)}, // lhs = -236705149158 rhs = -423661482543
        TestCaseTwoArgsTwoExpected{lhs: 10602673009, rhs: 0b1010110100100011001010110101001101110011, expected: (754222057188, false)}, // rhs = -355892243597
        TestCaseTwoArgsTwoExpected{lhs: 131258263756, rhs: 0b1111001110110100110011111111001110110010, expected: (78457216126, false)}, // rhs = -52801047630
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011000000101100111011001110010101010, rhs: 0b1010001110101100011101001100001010101010, expected: (179081207636, true)}, // lhs = -523891794774 rhs = -396538625366
        TestCaseTwoArgsTwoExpected{lhs: 0b1010011110011110101000001110101011001101, rhs: 119066398228, expected: (838987282657, false)}, // lhs = -379590743347
        TestCaseTwoArgsTwoExpected{lhs: 285165033800, rhs: 125106641849, expected: (410271675649, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010000101000000001100000010110001111000, rhs: 0b1111111101010010000001001101110101001110, expected: (689647716806, false)}, // lhs = -406944994184 rhs = -2918916786
        TestCaseTwoArgsTwoExpected{lhs: 0b1001001000110100101100111101100001101010, rhs: 0b1010100001111110101101000011000100011111, expected: (252118043017, true)}, // lhs = -471562200982 rhs = -375831383777
        TestCaseTwoArgsTwoExpected{lhs: 379559936327, rhs: 0b1011101100100111000011110100011010011111, expected: (83862505446, false)}, // rhs = -295697430881
        TestCaseTwoArgsTwoExpected{lhs: 0b1110001010011010100000100110011111101010, rhs: 0b1010000111110010110011100001111110101101, expected: (569306548119, false)}, // lhs = -126256781334 rhs = -403948298323
        TestCaseTwoArgsTwoExpected{lhs: 81384400858, rhs: 150663674274, expected: (232048075132, false)},
        TestCaseTwoArgsTwoExpected{lhs: 157006846552, rhs: 67913284818, expected: (224920131370, false)},
        TestCaseTwoArgsTwoExpected{lhs: 59840747530, rhs: 0b1101000100111110011110000100111110001111, expected: (958536984473, false)}, // rhs = -200815390833
        TestCaseTwoArgsTwoExpected{lhs: 0b1101011111111111111101010100100011000101, rhs: 204263450952, expected: (32464056845, false)}, // lhs = -171799394107
        TestCaseTwoArgsTwoExpected{lhs: 323055471574, rhs: 0b1001010010101101010001011001001010001011, expected: (961617649249, false)}, // rhs = -460949450101
        TestCaseTwoArgsTwoExpected{lhs: 475855496184, rhs: 0b1000011100010000110110101011010101101110, expected: (1055958849894, false)}, // rhs = -519408274066
        TestCaseTwoArgsTwoExpected{lhs: 538970516773, rhs: 0b1001011011001001110100001100001100111000, expected: (87089885277, false)}, // rhs = -451880631496
        TestCaseTwoArgsTwoExpected{lhs: 0b1110011000011111110111000010000101101000, rhs: 458421971563, expected: (347287342035, false)}, // lhs = -111134629528
        TestCaseTwoArgsTwoExpected{lhs: 0b1111010000000001110101110110100011011011, rhs: 451238352440, expected: (399729639187, false)}, // lhs = -51508713253
        TestCaseTwoArgsTwoExpected{lhs: 0b1010110111110111000010110000000100110111, rhs: 0b1101110001110000110000010000111101001011, expected: (594446913666, false)}, // lhs = -352337592009 rhs = -152727122101
        TestCaseTwoArgsTwoExpected{lhs: 0b1010010011011110110111101001010000101110, rhs: 0b1001001100011110010110000010100101100101, expected: (240471424403, true)}, // lhs = -391397862354 rhs = -467642341019
        TestCaseTwoArgsTwoExpected{lhs: 224285421493, rhs: 208157472603, expected: (432442894096, false)},
        TestCaseTwoArgsTwoExpected{lhs: 395358146230, rhs: 461685274896, expected: (857043421126, true)},
        TestCaseTwoArgsTwoExpected{lhs: 190208798016, rhs: 0b1000100111100001111000010011001100000000, expected: (782408949824, false)}, // rhs = -507311475968
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101100111000101001010100100001000110, rhs: 0b1101100110001001011101110001110111110100, expected: (638911800890, false)}, // lhs = -295402387386 rhs = -165197439500
        TestCaseTwoArgsTwoExpected{lhs: 0b1011101101010111000101001111110001100011, rhs: 134326724133, expected: (938946601608, false)}, // lhs = -294891750301
        TestCaseTwoArgsTwoExpected{lhs: 0b1110101000110110000000011110101001000011, rhs: 0b1000010011111011100011101111000011101010, expected: (477572946733, true)}, // lhs = -93583185341 rhs = -528355495702
        TestCaseTwoArgsTwoExpected{lhs: 509911423113, rhs: 128785355622, expected: (638696778735, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110000001100111100101010110001001010010, rhs: 370319093010, expected: (234617982820, false)}, // lhs = -135701110190
        TestCaseTwoArgsTwoExpected{lhs: 175523434303, rhs: 0b1000111111001001110011110000001111011001, expected: (793089544984, false)}, // rhs = -481945517095
        TestCaseTwoArgsTwoExpected{lhs: 528241900956, rhs: 0b1000010110011101101111100011100100011000, expected: (2607412916, false)}, // rhs = -525634488040
        TestCaseTwoArgsTwoExpected{lhs: 377023404864, rhs: 0b1001000110011100110001011101011111000000, expected: (1002423874304, false)}, // rhs = -474111158336
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010010110011110111010001111000000011, rhs: 30353631315, expected: (669026403926, false)}, // lhs = -460838855165
        TestCaseTwoArgsTwoExpected{lhs: 264689327329, rhs: 218159968178, expected: (482849295507, false)},
        TestCaseTwoArgsTwoExpected{lhs: 377997369234, rhs: 0b1011100100011101001110100010111101010011, expected: (73545043685, false)}, // rhs = -304452325549
        TestCaseTwoArgsTwoExpected{lhs: 0b1110100100001001101000010011000001010011, rhs: 0b1101100111100000010100000011111111011100, expected: (837148569647, false)}, // lhs = -98622689197 rhs = -163740368932
        TestCaseTwoArgsTwoExpected{lhs: 296294003513, rhs: 406301064309, expected: (702595067822, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111000010111111000001110100111000011, rhs: 244394408164, expected: (236205089447, false)}, // lhs = -8189318717
        TestCaseTwoArgsTwoExpected{lhs: 168017760280, rhs: 0b1111101100010100111011010111100001000111, expected: (146894030943, false)}, // rhs = -21123729337
        TestCaseTwoArgsTwoExpected{lhs: 0b1001011001101110000100001101000111000101, rhs: 72430052743, expected: (718521743180, false)}, // lhs = -453419937339
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111100100001010000000011000011000110, rhs: 0b1001101111010011010101110000111111111010, expected: (665528516800, false)}, // lhs = -3737112378 rhs = -430245998598
        TestCaseTwoArgsTwoExpected{lhs: 0b1000011101110110100111000011001110000111, rhs: 0b1110000101110011001001001010101110001011, expected: (450598330130, true)}, // lhs = -517701094521 rhs = -131212203125
        TestCaseTwoArgsTwoExpected{lhs: 0b1110111111111001000000101001011111010001, rhs: 0b1111100000101101110101111001100001011100, expected: (997084246061, false)}, // lhs = -68836747311 rhs = -33590634404
        TestCaseTwoArgsTwoExpected{lhs: 248812030747, rhs: 406929558283, expected: (655741589030, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1010101010110010010101000110111111100110, rhs: 0b1001011111010000101111000011001111101001, expected: (285666747343, true)}, // lhs = -366375309338 rhs = -447469571095
        TestCaseTwoArgsTwoExpected{lhs: 220599210752, rhs: 538193164572, expected: (758792375324, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1101000001010011101100101010010110010100, rhs: 34874838708, expected: (929632253000, false)}, // lhs = -204754213484
        TestCaseTwoArgsTwoExpected{lhs: 0b1010100101001111101001001001001011001000, rhs: 0b1010011001111101100111010000000010111001, expected: (342746043265, true)}, // lhs = -372325969208 rhs = -384439615303
        TestCaseTwoArgsTwoExpected{lhs: 0b1111000101000111111111101100001001111000, rhs: 0b1101011001001100010111100101110100001110, expected: (857187622790, false)}, // lhs = -63216631176 rhs = -179107373810
        TestCaseTwoArgsTwoExpected{lhs: 450303130178, rhs: 0b1001010001101100011000111011101100001001, expected: (1087776765259, false)}, // rhs = -462037992695
        TestCaseTwoArgsTwoExpected{lhs: 0b1101101001001111011000001000101010001101, rhs: 213288280057, expected: (51411249798, false)}, // lhs = -161877030259
        TestCaseTwoArgsTwoExpected{lhs: 361561245613, rhs: 63707933378, expected: (425269178991, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001011100101101101010101100101000001111, rhs: 65239892521, expected: (714546121784, false)}, // lhs = -450205398513
        TestCaseTwoArgsTwoExpected{lhs: 231704190557, rhs: 0b1001111110001000011111001111110000010011, expected: (916893882992, false)}, // rhs = -414321935341
        TestCaseTwoArgsTwoExpected{lhs: 102584365015, rhs: 0b1010010101110010101010001001010001111101, expected: (813177619540, false)}, // rhs = -388918373251
        TestCaseTwoArgsTwoExpected{lhs: 0b1001010111111011101111101100011010110100, rhs: 434071804091, expected: (1078245515119, false)}, // lhs = -455337916748
        TestCaseTwoArgsTwoExpected{lhs: 0b1101000100101100110010101001000101100100, rhs: 0b1010111011000110001100110110100100111110, expected: (549537577634, true)}, // lhs = -201111989916 rhs = -348862060226
        TestCaseTwoArgsTwoExpected{lhs: 65371749591, rhs: 166304356401, expected: (231676105992, false)},
        TestCaseTwoArgsTwoExpected{lhs: 189736607511, rhs: 0b1010110010000100100100111101011100101000, expected: (930695263807, false)}, // rhs = -358552971480
        TestCaseTwoArgsTwoExpected{lhs: 339849396094, rhs: 8308182842, expected: (348157578936, false)},
        TestCaseTwoArgsTwoExpected{lhs: 507138256121, rhs: 95322793487, expected: (602461049608, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1011000000101001101010001010101010011001, rhs: 514140090397, expected: (171241626294, false)}, // lhs = -342898464103
        TestCaseTwoArgsTwoExpected{lhs: 237175261640, rhs: 429054920875, expected: (666230182515, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100011001111110101101100001100010000001, rhs: 228164236281, expected: (1080693623930, false)}, // lhs = -246982240127
        TestCaseTwoArgsTwoExpected{lhs: 330533430413, rhs: 488210821169, expected: (818744251582, true)},
        TestCaseTwoArgsTwoExpected{lhs: 409437323669, rhs: 0b1110010100011101010011111101010100011011, expected: (293964977840, false)}, // rhs = -115472345829
        TestCaseTwoArgsTwoExpected{lhs: 0b1000110001101111111001011000000001100010, rhs: 308292798148, expected: (911465531174, false)}, // lhs = -496338894750
        TestCaseTwoArgsTwoExpected{lhs: 415019825729, rhs: 330812433608, expected: (745832259337, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1000010010010110111100111111011111110001, rhs: 343912994945, expected: (913381249138, false)}, // lhs = -530043373583
        TestCaseTwoArgsTwoExpected{lhs: 0b1010011111100100001001110000011011000011, rhs: 0b1001110110110110010011011110011100110000, expected: (298944097779, true)}, // lhs = -378424326461 rhs = -422143203536
        TestCaseTwoArgsTwoExpected{lhs: 538237665715, rhs: 233759386532, expected: (771997052247, true)},
        TestCaseTwoArgsTwoExpected{lhs: 529393184370, rhs: 227196872178, expected: (756590056548, true)},
        TestCaseTwoArgsTwoExpected{lhs: 238161386593, rhs: 37933111226, expected: (276094497819, false)},
        TestCaseTwoArgsTwoExpected{lhs: 205410566075, rhs: 439384754561, expected: (644795320636, true)},
        TestCaseTwoArgsTwoExpected{lhs: 513833398901, rhs: 0b1000010000001000100100110110000010001101, expected: (1080912958210, false)}, // rhs = -532432068467
        TestCaseTwoArgsTwoExpected{lhs: 179050355370, rhs: 0b1011101011100110111110000011011110001110, expected: (981789299256, false)}, // rhs = -296772683890
        TestCaseTwoArgsTwoExpected{lhs: 0b1011110110101001111011001000101000001111, rhs: 0b1111010110001101000110011010100000100001, expected: (769722298928, false)}, // lhs = -284911957489 rhs = -44877371359
        TestCaseTwoArgsTwoExpected{lhs: 0b1000111010100110010010011101100010001111, rhs: 0b1110000111111001100101100100101101000000, expected: (483718603727, true)}, // lhs = -486836414321 rhs = -128956609728
        TestCaseTwoArgsTwoExpected{lhs: 148087034155, rhs: 0b1100000111001111110111000111100010010111, expected: (980503054786, false)}, // rhs = -267095607145
        TestCaseTwoArgsTwoExpected{lhs: 231426152205, rhs: 169206980038, expected: (400633132243, false)},
        TestCaseTwoArgsTwoExpected{lhs: 466723214618, rhs: 333348455108, expected: (800071669726, true)},
        TestCaseTwoArgsTwoExpected{lhs: 151746236750, rhs: 515785795647, expected: (667532032397, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001110001100011011001011110111101101111, rhs: 0b1010111000011111111110000101110111110010, expected: (320031575393, true)}, // lhs = -427829104785 rhs = -351650947598
        TestCaseTwoArgsTwoExpected{lhs: 127475188848, rhs: 320602965407, expected: (448078154255, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1101000000011101100011111010111111001000, rhs: 339652300010, expected: (133989825714, false)}, // lhs = -205662474296
        TestCaseTwoArgsTwoExpected{lhs: 408889319842, rhs: 83987189978, expected: (492876509820, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100101000000000010101101001010110011110, rhs: 0b1000101010110000100000010010111101111001, expected: (363744183575, true)}, // lhs = -231922559586 rhs = -503844884615
        TestCaseTwoArgsTwoExpected{lhs: 0b1011010110111100100101110100110000001110, rhs: 303769170727, expected: (1084322283317, false)}, // lhs = -318958515186
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000100000110100111100101001010011100, rhs: 0b1000111100001101001010001101010111100000, expected: (69051295868, true)}, // lhs = -545349807460 rhs = -485110524448
        TestCaseTwoArgsTwoExpected{lhs: 0b1001011100011100100011011101110011010100, rhs: 0b1011100101010110111110111111011100010111, expected: (345535796203, true)}, // lhs = -450492506924 rhs = -303483324649
        TestCaseTwoArgsTwoExpected{lhs: 0b1101100011110011101110111110010111000010, rhs: 437115057156, expected: (269405542854, false)}, // lhs = -167709514302
        TestCaseTwoArgsTwoExpected{lhs: 0b1010111000110100001001101110100001001101, rhs: 0b1010101000011001111010110011101101101101, expected: (379266933690, true)}, // lhs = -351312353203 rhs = -368932340883
        TestCaseTwoArgsTwoExpected{lhs: 0b1110001101000100110011100000110110010000, rhs: 301806876794, expected: (178407179786, false)}, // lhs = -123399697008
        TestCaseTwoArgsTwoExpected{lhs: 173455593078, rhs: 360277404348, expected: (533732997426, false)},
        TestCaseTwoArgsTwoExpected{lhs: 396589904784, rhs: 21030928505, expected: (417620833289, false)},
        TestCaseTwoArgsTwoExpected{lhs: 6228108907, rhs: 0b1100001010101001100111110110111001110100, expected: (842297562335, false)}, // rhs = -263442174348
        TestCaseTwoArgsTwoExpected{lhs: 0b1110101100000011100000010000011000001110, rhs: 0b1101010000010000100101010010011110010101, expected: (820675751331, false)}, // lhs = -90135525874 rhs = -188700350571
        TestCaseTwoArgsTwoExpected{lhs: 408138870767, rhs: 0b1101010010001011100000110000111100110111, expected: (221500931878, false)}, // rhs = -186637938889
        TestCaseTwoArgsTwoExpected{lhs: 307440211356, rhs: 0b1111011101110000100001001110000000110000, expected: (270673262028, false)}, // rhs = -36766949328
        TestCaseTwoArgsTwoExpected{lhs: 319209784569, rhs: 0b1010011111011110100100001000111011011100, expected: (1040203338709, false)}, // rhs = -378518073636
        TestCaseTwoArgsTwoExpected{lhs: 0b1000111011101100010001000111011100001010, rhs: 91318296299, expected: (705167562229, false)}, // lhs = -485662361846
        TestCaseTwoArgsTwoExpected{lhs: 252600135173, rhs: 0b1001111100100100011100111110101101111010, expected: (936111511935, false)}, // rhs = -416000251014
        TestCaseTwoArgsTwoExpected{lhs: 361114511206, rhs: 23009652750, expected: (384124163956, false)},
        TestCaseTwoArgsTwoExpected{lhs: 252654859724, rhs: 32076677341, expected: (284731537065, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1111111111010010100011000110100100111100, rhs: 98138007904, expected: (97375457948, false)}, // lhs = -762549956
        TestCaseTwoArgsTwoExpected{lhs: 0b1111100101000000110110011011101110101010, rhs: 199627196080, expected: (170650436186, false)}, // lhs = -28976759894
        TestCaseTwoArgsTwoExpected{lhs: 66131597543, rhs: 245867459058, expected: (311999056601, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1011000001011101000001000101111101100101, rhs: 45910550785, expected: (803385362534, false)}, // lhs = -342036816027
        TestCaseTwoArgsTwoExpected{lhs: 0b1111001011000001111011110101000101101010, rhs: 323509301120, expected: (266633445610, false)}, // lhs = -56875855510
        TestCaseTwoArgsTwoExpected{lhs: 346630590072, rhs: 53259859733, expected: (399890449805, false)},
        TestCaseTwoArgsTwoExpected{lhs: 34295075439, rhs: 142969414663, expected: (177264490102, false)},
        TestCaseTwoArgsTwoExpected{lhs: 143638173168, rhs: 255309208127, expected: (398947381295, false)},
        TestCaseTwoArgsTwoExpected{lhs: 519666328644, rhs: 39882067514, expected: (559548396158, true)},
        TestCaseTwoArgsTwoExpected{lhs: 408761173524, rhs: 0b1011101101100011000011010100010100110010, expected: (114070244166, false)}, // rhs = -294690929358
        TestCaseTwoArgsTwoExpected{lhs: 0b1111001101011001110100100000001011001011, rhs: 0b1010111111011011110011000010100001001100, expected: (700979227415, false)}, // lhs = -54327639349 rhs = -344204761012
        TestCaseTwoArgsTwoExpected{lhs: 263149475423, rhs: 526817352059, expected: (789966827482, true)},
        TestCaseTwoArgsTwoExpected{lhs: 167262345709, rhs: 160697494951, expected: (327959840660, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1001000101001010110010010000000110010111, rhs: 415395738310, expected: (1039420683357, false)}, // lhs = -475486682729
        TestCaseTwoArgsTwoExpected{lhs: 0b1001111011100000000010000101100101000011, rhs: 483412835634, expected: (66264684149, false)}, // lhs = -417148151485
        TestCaseTwoArgsTwoExpected{lhs: 78844084397, rhs: 59758856879, expected: (138602941276, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100010100101101001101110100001100101010, rhs: 0b1000101000001000110101001100011000100010, expected: (340209174860, true)}, // lhs = -252644474070 rhs = -506657978846
        TestCaseTwoArgsTwoExpected{lhs: 240787631973, rhs: 523358938967, expected: (764146570940, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1110100001110110100110000110100111001010, rhs: 338848488862, expected: (237758973800, false)}, // lhs = -101089515062
        TestCaseTwoArgsTwoExpected{lhs: 160447794170, rhs: 121270939402, expected: (281718733572, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b1100000000101010001010101010111010001100, rhs: 0b1011110000001110010111111110010010000000, expected: (533524550412, true)}, // lhs = -274170466676 rhs = -291816610688
        TestCaseTwoArgsTwoExpected{lhs: 0b1100011100000111101110000110110101100010, rhs: 0b1000100011001101101110010001001101000011, expected: (342883401893, true)}, // lhs = -244683608734 rhs = -511944617149
        TestCaseTwoArgsTwoExpected{lhs: 0b1011111010111110101111000000000010010100, rhs: 15780778999, expected: (835024557195, false)}, // lhs = -280267849580
        TestCaseTwoArgsTwoExpected{lhs: 114570419859, rhs: 0b1101011111001000111011000000101001011001, expected: (1041359300844, false)}, // rhs = -172722746791
        TestCaseTwoArgsTwoExpected{lhs: 0b1011111010101101101110000110010111010111, rhs: 0b1111011010011000110000010100110001100111, expected: (778571461182, false)}, // lhs = -280553298473 rhs = -40386868121
        TestCaseTwoArgsTwoExpected{lhs: 166579439046, rhs: 338008146807, expected: (504587585853, false)},
        TestCaseTwoArgsTwoExpected{lhs: 38690420599, rhs: 399778256693, expected: (438468677292, false)},
        TestCaseTwoArgsTwoExpected{lhs: 417276269627, rhs: 0b1010011000101011000011010000000011101010, expected: (31451485477, false)}, // rhs = -385824784150
        TestCaseTwoArgsTwoExpected{lhs: 417133025382, rhs: 0b1011010111010111011101000001000110000011, expected: (98625186281, false)}, // rhs = -318507839101

        // Edge cases
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0, expected: (0, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 549755813887, expected: (549755813887, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0b1000000000000000000000000000000000000000, expected: (549755813888, false)}, // rhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 0, expected: (549755813887, false)},
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 549755813887, expected: (1099511627774, true)},
        TestCaseTwoArgsTwoExpected{lhs: 549755813887, rhs: 0b1000000000000000000000000000000000000000, expected: (1099511627775, false)}, // rhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 0, expected: (549755813888, false)}, // lhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 549755813887, expected: (1099511627775, false)}, // lhs = -549755813888
        TestCaseTwoArgsTwoExpected{lhs: 0b1000000000000000000000000000000000000000, rhs: 0b1000000000000000000000000000000000000000, expected: (0, true)}, // lhs = -549755813888 rhs = -549755813888
    ];

    #[test]
    fn test_i40() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(
                __llvm_sadd_with_overflow_n_n_Sncs(ref state, *case.lhs, *case.rhs), *case.expected,
            );
        }
    }
}
