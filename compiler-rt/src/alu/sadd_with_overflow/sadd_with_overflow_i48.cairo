use crate::alu::sadd_with_overflow::sadd_with_overflow;
use crate::integer::u48::u48;

pub fn __llvm_sadd_with_overflow_k_k_Skcs(lhs: u128, rhs: u128) -> (u128, bool) {
    // Due to Cairo limitation in iN<->uN casting and not enough operations implemented on iN,
    // we cannot use i16 as the concrete type. The operation is performed using unsigned
    // types and overflow is manually detected.
    sadd_with_overflow::<u48>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_sadd_with_overflow_k_k_Skcs;
    use crate::alu::test_case::TestCaseTwoArgsTwoExpected;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgsTwoExpected; 249] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgsTwoExpected{lhs: 0b101110101101011000111001101000101100100110001000, rhs: 0b111001011000100000110111100111001100000001110011, expected: (176327487359483, false)}, // lhs = -76045723973240 rhs = -29101765377933
        TestCaseTwoArgsTwoExpected{lhs: 0b100000111001111101110000111011001011110010010100, rhs: 0b110111000111011000110110110100110000001101111101, expected: (105646124941329, true)}, // lhs = -136754159108972 rhs = -39074692660355
        TestCaseTwoArgsTwoExpected{lhs: 140369845421351, rhs: 113175350057302, expected: (253545195478653, true)},
        TestCaseTwoArgsTwoExpected{lhs: 136848357608648, rhs: 0b110000011111101101010001111010111011001101001101, expected: (68658536251413, false)}, // rhs = -68189821357235
        TestCaseTwoArgsTwoExpected{lhs: 92515544110608, rhs: 79462859144217, expected: (171978403254825, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101100111110110001001101110101110111110101011110, rhs: 0b101111110011011001010000100101011111101010100011, expected: (126592524056577, true)}, // lhs = -83647477088930 rhs = -71234975565149
        TestCaseTwoArgsTwoExpected{lhs: 0b110110001001111001100011111101010111011000000101, rhs: 138884319170265, expected: (95584135922910, false)}, // lhs = -43300183247355
        TestCaseTwoArgsTwoExpected{lhs: 110624866832440, rhs: 0b111110001111011110110000001011001110110100000110, expected: (102892586466622, false)}, // rhs = -7732280365818
        TestCaseTwoArgsTwoExpected{lhs: 0b100010110100110001100011001011011101110011111000, rhs: 57902030567388, expected: (211062228292820, false)}, // lhs = -128314778985224
        TestCaseTwoArgsTwoExpected{lhs: 0b101000111110111100001001100001010101101010000011, rhs: 0b101111110010110000100100001010011001000000110110, expected: (108968381704889, true)}, // lhs = -101227924465021 rhs = -71278670540746
        TestCaseTwoArgsTwoExpected{lhs: 0b100010100101100000000100001111111001111101000111, rhs: 0b100111100101011100010001010010100000001111101101, expected: (44732445729588, true)}, // lhs = -129364343677113 rhs = -107378187303955
        TestCaseTwoArgsTwoExpected{lhs: 37008826732172, rhs: 38403634821981, expected: (75412461554153, false)},
        TestCaseTwoArgsTwoExpected{lhs: 55982988298272, rhs: 1453942471922, expected: (57436930770194, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111100101100000010101110100000110100010001101111, rhs: 92270577325592, expected: (77704976095879, false)}, // lhs = -14565601229713
        TestCaseTwoArgsTwoExpected{lhs: 69375199244112, rhs: 0b101111110010110101100001001101100010101010110100, expected: (279576824617476, false)}, // rhs = -71273351337292
        TestCaseTwoArgsTwoExpected{lhs: 0b110011110111001110110010101111011011111100011010, rhs: 0b110010011011001010010000010010100111110000011001, expected: (168389612419891, false)}, // lhs = -53379149742310 rhs = -59706214548455
        TestCaseTwoArgsTwoExpected{lhs: 44491489766755, rhs: 0b111110111011010100110011010111100110010110111100, expected: (39772182532895, false)}, // rhs = -4719307233860
        TestCaseTwoArgsTwoExpected{lhs: 0b101101110110010111010110110011011001101001101000, rhs: 0b100011010110111011110100101010011100001100011001, expected: (75680737353089, true)}, // lhs = -79826953332120 rhs = -125967286025447
        TestCaseTwoArgsTwoExpected{lhs: 0b111010000011101110011001100111000111000110101010, rhs: 83702854378663, expected: (57570555549265, false)}, // lhs = -26132298829398
        TestCaseTwoArgsTwoExpected{lhs: 94538304215305, rhs: 0b110100011110101101101010000110010000100010000101, expected: (43872355049870, false)}, // rhs = -50665949165435
        TestCaseTwoArgsTwoExpected{lhs: 34447469031649, rhs: 0b111001011011011001110101000100010011101010110010, expected: (5544303192979, false)}, // rhs = -28903165838670
        TestCaseTwoArgsTwoExpected{lhs: 91173575575088, rhs: 0b100100101000111111110010000011001010011011010010, expected: (252320514469122, false)}, // rhs = -120328037816622
        TestCaseTwoArgsTwoExpected{lhs: 50321763068145, rhs: 0b101000000011100101011100111100100000011110010010, expected: (226489996013699, false)}, // rhs = -105306743765102
        TestCaseTwoArgsTwoExpected{lhs: 0b110110101001000001000100100110010000111001011001, rhs: 0b100110111010000110010010111011111001010000100100, expected: (129956441531005, true)}, // lhs = -41161815683495 rhs = -110356719496156
        TestCaseTwoArgsTwoExpected{lhs: 0b111001101001011001001100010010110010110111010100, rhs: 33459919305001, expected: (5518142072573, false)}, // lhs = -27941777232428
        TestCaseTwoArgsTwoExpected{lhs: 0b101111001011010100000101011000010011010101101111, rhs: 6771986202116, expected: (214257651561331, false)}, // lhs = -73989311351441
        TestCaseTwoArgsTwoExpected{lhs: 0b101111110101101111100110100110110110011111110010, rhs: 124508956588498, expected: (53435411751364, false)}, // lhs = -71073544837134
        TestCaseTwoArgsTwoExpected{lhs: 0b110111000000011001101010000011011111000100001111, rhs: 3811935005775, expected: (245732042218846, false)}, // lhs = -39554869497585
        TestCaseTwoArgsTwoExpected{lhs: 89942388843805, rhs: 133385910135766, expected: (223328298979571, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101000010101110110001101101000010010011011100, rhs: 23320031970725, expected: (186235417848449, false)}, // lhs = -118559590832932
        TestCaseTwoArgsTwoExpected{lhs: 4582399650755, rhs: 0b110111010101111111100111010110111101010011111011, expected: (247986372837566, false)}, // rhs = -38071003523845
        TestCaseTwoArgsTwoExpected{lhs: 103951549784313, rhs: 0b100001111001000000000101000000110100011110110010, expected: (253004178925739, false)}, // rhs = -132422347569230
        TestCaseTwoArgsTwoExpected{lhs: 0b110111001101010111011101010010001000011111100111, rhs: 50488266559068, expected: (11824388511299, false)}, // lhs = -38663878047769
        TestCaseTwoArgsTwoExpected{lhs: 69307974910501, rhs: 0b101000000100011101000100001011000111111110010011, expected: (245535921799608, false)}, // rhs = -105247029821549
        TestCaseTwoArgsTwoExpected{lhs: 39991198230036, rhs: 0b101010001000001011100100001100011110011001010011, expected: (225271325920359, false)}, // rhs = -96194849020333
        TestCaseTwoArgsTwoExpected{lhs: 123813115178550, rhs: 24003397176494, expected: (147816512355044, true)},
        TestCaseTwoArgsTwoExpected{lhs: 107061627156710, rhs: 8648310954150, expected: (115709938110860, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101110010110001010010010100111011100000111111, rhs: 0b101101011001101101011101100110101111000000000101, expected: (84420533856324, true)}, // lhs = -115258361137089 rhs = -81796081717243
        TestCaseTwoArgsTwoExpected{lhs: 0b100110100010101111000100010001101110110100000101, rhs: 0b101111000110011101011111101010110000110011111001, expected: (95189963241982, true)}, // lhs = -111962209456891 rhs = -74322804011783
        TestCaseTwoArgsTwoExpected{lhs: 100460562529506, rhs: 116101812353958, expected: (216562374883464, true)},
        TestCaseTwoArgsTwoExpected{lhs: 123587902633601, rhs: 137718220881213, expected: (261306123514814, true)},
        TestCaseTwoArgsTwoExpected{lhs: 90726250423440, rhs: 135837432078678, expected: (226563682502118, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110100110011010110111010000110100100110110010010, rhs: 10524341321581, expected: (242752050334975, false)}, // lhs = -49247267697262
        TestCaseTwoArgsTwoExpected{lhs: 0b100010001111011010000000011000110111011001111110, rhs: 123225652133826, expected: (273817949468224, false)}, // lhs = -130882679376258
        TestCaseTwoArgsTwoExpected{lhs: 81710127817652, rhs: 71820658977082, expected: (153530786794734, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100000111000111010010110011000000101111111111111, rhs: 0b100010000110001110000111100001100110000111111100, expected: (13134511653371, true)}, // lhs = -136826545217537 rhs = -131513919839748
        TestCaseTwoArgsTwoExpected{lhs: 61070524325837, rhs: 79647669178018, expected: (140718193503855, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100111100000000101011011010011100001010111101010, rhs: 0b100111011001000000111111111010100110100010110000, expected: (65496560467610, true)}, // lhs = -107746312710678 rhs = -108232103532368
        TestCaseTwoArgsTwoExpected{lhs: 117382367978579, rhs: 0b100011110101011010010111111000011011011110011010, expected: (274984446090221, false)}, // rhs = -123872898599014
        TestCaseTwoArgsTwoExpected{lhs: 58747473731468, rhs: 94618463803908, expected: (153365937535376, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110111101000110101011010101111010000010101001000, rhs: 4533402125054, expected: (249232096217158, false)}, // lhs = -36776282618552
        TestCaseTwoArgsTwoExpected{lhs: 0b111011001001001101011000100110100010111010000110, rhs: 130115285542498, expected: (108757899678952, false)}, // lhs = -21357385863546
        TestCaseTwoArgsTwoExpected{lhs: 0b100110011111000100010001010010000001100111011011, rhs: 103365439039587, expected: (272626095145534, false)}, // lhs = -112214320604709
        TestCaseTwoArgsTwoExpected{lhs: 83921990389260, rhs: 103642551378831, expected: (187564541768091, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100001100011010101011111101001101111001001110010, rhs: 0b111011001001101111001101110101001011001011011000, expected: (126242736809290, true)}, // lhs = -133911180545422 rhs = -21321059355944
        TestCaseTwoArgsTwoExpected{lhs: 134399596118411, rhs: 77001340388403, expected: (211400936506814, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101010000001010010011110000100001101110110100100, rhs: 50123513178462, expected: (234930017896194, false)}, // lhs = -96668471992924
        TestCaseTwoArgsTwoExpected{lhs: 84505657079297, rhs: 0b111000110010110111100101110101011011000000100101, expected: (52816949388838, false)}, // rhs = -31688707690459
        TestCaseTwoArgsTwoExpected{lhs: 41642354587006, rhs: 130505712299864, expected: (172148066886870, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101100000110111100100000101010011110001011010, rhs: 0b101000110010111010010111111000011110100011001101, expected: (62931940615463, true)}, // lhs = -116488571372454 rhs = -102054464722739
        TestCaseTwoArgsTwoExpected{lhs: 44374921106695, rhs: 0b110011000011000110000011011111010100010011010000, expected: (268887952595415, false)}, // rhs = -56961945221936
        TestCaseTwoArgsTwoExpected{lhs: 0b111101010010100100111110101001011010001110100101, rhs: 134437001628387, expected: (122519518424712, false)}, // lhs = -11917483203675
        TestCaseTwoArgsTwoExpected{lhs: 0b110101111010110011111100000011111110011100100111, rhs: 0b111100000101010011101010110110010100100011000000, expected: (219910494564327, false)}, // lhs = -44337013463257 rhs = -17227468683072
        TestCaseTwoArgsTwoExpected{lhs: 13195008529233, rhs: 0b110010101011011100100111111010100111011101100110, expected: (236083006032567, false)}, // rhs = -58586979207322
        TestCaseTwoArgsTwoExpected{lhs: 0b110100011010101000101010100010000110100011100110, rhs: 51367382593873, expected: (421194111543, false)}, // lhs = -50946188482330
        TestCaseTwoArgsTwoExpected{lhs: 0b111110001101011000001001110101111000110101011110, rhs: 114727184837481, expected: (106850379937991, false)}, // lhs = -7876804899490
        TestCaseTwoArgsTwoExpected{lhs: 14572787970458, rhs: 0b101100100100101111011000011001101001101010001111, expected: (210611610864681, false)}, // rhs = -85436153816433
        TestCaseTwoArgsTwoExpected{lhs: 63162134678418, rhs: 80310718620870, expected: (143472853299288, true)},
        TestCaseTwoArgsTwoExpected{lhs: 120190664853752, rhs: 0b100011010110010000100100011110110010000011010001, expected: (275651913148873, false)}, // rhs = -126013728415535
        TestCaseTwoArgsTwoExpected{lhs: 138804069952431, rhs: 116897099696385, expected: (255701169648816, true)},
        TestCaseTwoArgsTwoExpected{lhs: 57870839407483, rhs: 0b101111010011011011101100110110001010001000100100, expected: (265914438911391, false)}, // rhs = -73431377206748
        TestCaseTwoArgsTwoExpected{lhs: 5735881876226, rhs: 114953002797953, expected: (120688884674179, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110001000110100111001011111010111000011100100101, rhs: 0b110001011001110101110001000110000110010000101101, expected: (151763693071186, false)}, // lhs = -65516304890075 rhs = -64194978749395
        TestCaseTwoArgsTwoExpected{lhs: 0b111100000011010101010110110000101101111100100001, rhs: 81269273225886, expected: (63906176059839, false)}, // lhs = -17363097166047
        TestCaseTwoArgsTwoExpected{lhs: 52676544777686, rhs: 0b101001000110011101100000001000001011010110001000, expected: (233440446120798, false)}, // rhs = -100711075367544
        TestCaseTwoArgsTwoExpected{lhs: 0b110100100010010011001000010100010100111010100001, rhs: 0b110111100011111101010010001100000001101111001000, expected: (193943987907177, false)}, // lhs = -50419555283295 rhs = -37111433520184
        TestCaseTwoArgsTwoExpected{lhs: 85738043023270, rhs: 0b101100010110001011010110100110010100100011011010, expected: (280776108304512, false)}, // rhs = -86436911429414
        TestCaseTwoArgsTwoExpected{lhs: 13183412513618, rhs: 33287354025317, expected: (46470766538935, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111000100000010101110111000001111110000110111000, rhs: 0b100100101001100010011100110110011100101010001101, expected: (128222287211589, true)}, // lhs = -32961876991560 rhs = -120290812507507
        TestCaseTwoArgsTwoExpected{lhs: 0b101011010111111100000100100111010111110000100100, rhs: 84165397117873, expected: (274926446999509, false)}, // lhs = -90713926829020
        TestCaseTwoArgsTwoExpected{lhs: 0b111001110100000000100110110010001010011101111111, rhs: 0b111010010101111011101010110001011001000111111000, expected: (229381612910967, false)}, // lhs = -27212262103169 rhs = -24881101696520
        TestCaseTwoArgsTwoExpected{lhs: 0b101101111011010111111101111101000111000110011001, rhs: 0b100100000001001001000101101100010110000110111000, expected: (78925453972305, true)}, // lhs = -79482699091559 rhs = -123066823646792
        TestCaseTwoArgsTwoExpected{lhs: 124995006580796, rhs: 8707243347922, expected: (133702249928718, false)},
        TestCaseTwoArgsTwoExpected{lhs: 139333639101097, rhs: 0b110001100101011110011100110110111001010000011110, expected: (75938258480839, false)}, // rhs = -63395380620258
        TestCaseTwoArgsTwoExpected{lhs: 97558964001035, rhs: 49210633459751, expected: (146769597460786, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101110111111110100001001111101001100111000100110, rhs: 0b110101011110101101011011001011101011011111001001, expected: (160427315267055, false)}, // lhs = -74779508552154 rhs = -46268152891447
        TestCaseTwoArgsTwoExpected{lhs: 0b101001101111101000110100011001101010011110011011, rhs: 0b110000111110010110011011010001001000110000111000, expected: (117509494354899, true)}, // lhs = -97881425533029 rhs = -66084056822728
        TestCaseTwoArgsTwoExpected{lhs: 45995258781061, rhs: 137703491394861, expected: (183698750175922, true)},
        TestCaseTwoArgsTwoExpected{lhs: 50556101598969, rhs: 11922561486313, expected: (62478663085282, false)},
        TestCaseTwoArgsTwoExpected{lhs: 20169037321518, rhs: 23952772719365, expected: (44121810040883, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111110001000010111110000010001001000101000111001, rhs: 0b100010111111100100000100000101111001001101011111, expected: (145680800423320, false)}, // lhs = -8220831348167 rhs = -127573344939169
        TestCaseTwoArgsTwoExpected{lhs: 2765152928230, rhs: 55257787270819, expected: (58022940199049, false)},
        TestCaseTwoArgsTwoExpected{lhs: 74193156075487, rhs: 0b111100110111011011011101001101110111101000100100, expected: (60410022455811, false)}, // rhs = -13783133619676
        TestCaseTwoArgsTwoExpected{lhs: 91770019940520, rhs: 127701528957807, expected: (219471548898327, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101000111100000000111101101010100111101001000010, rhs: 0b110101011100011100011111101001111011111010000101, expected: (133622293215431, true)}, // lhs = -101428913079742 rhs = -46423770415483
        TestCaseTwoArgsTwoExpected{lhs: 0b111100110110011101100001001110101001101110100110, rhs: 0b100011000011110101110101010010100110001011010000, expected: (140345950404214, true)}, // lhs = -13849638298714 rhs = -127279388007728
        TestCaseTwoArgsTwoExpected{lhs: 123225922419894, rhs: 13240950874912, expected: (136466873294806, false)},
        TestCaseTwoArgsTwoExpected{lhs: 68896417612569, rhs: 6681978258331, expected: (75578395870900, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110000101111000000000100011001010100101011000101, rhs: 0b101000100000110011010111000111011000000111010110, expected: (111037177318555, true)}, // lhs = -67138855023931 rhs = -103298944368170
        TestCaseTwoArgsTwoExpected{lhs: 0b100111011011100000111101010101001011001000001000, rhs: 126374485413046, expected: (18314137206462, false)}, // lhs = -108060348206584
        TestCaseTwoArgsTwoExpected{lhs: 10713149305640, rhs: 140565028813684, expected: (151278178119324, true)},
        TestCaseTwoArgsTwoExpected{lhs: 68523715697234, rhs: 99289323828257, expected: (167813039525491, true)},
        TestCaseTwoArgsTwoExpected{lhs: 62989347407229, rhs: 45685869206055, expected: (108675216613284, false)},
        TestCaseTwoArgsTwoExpected{lhs: 4494731165842, rhs: 20337736502266, expected: (24832467668108, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101001100010110101011000010001010101111010010001, rhs: 86486267157239, expected: (269199951837576, false)}, // lhs = -98761292030319
        TestCaseTwoArgsTwoExpected{lhs: 0b110100011110101001001000111010000010000001011101, rhs: 0b101101111000111111100001011010111100000100001000, expected: (151157789155685, false)}, // lhs = -50670800986019 rhs = -79646386568952
        TestCaseTwoArgsTwoExpected{lhs: 0b100000101001010110100010010010010111000100010101, rhs: 0b100001110001011111111011100101110100001001000101, expected: (10641282741082, true)}, // lhs = -137895792250603 rhs = -132937901718971
        TestCaseTwoArgsTwoExpected{lhs: 138981575323816, rhs: 0b100111110100110101101100010110110000001010010111, expected: (32661477815103, false)}, // rhs = -106320097508713
        TestCaseTwoArgsTwoExpected{lhs: 30834136306229, rhs: 114557031359977, expected: (145391167666206, true)},
        TestCaseTwoArgsTwoExpected{lhs: 41358244259533, rhs: 76406215591042, expected: (117764459850575, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100010110101100010101011001000101001011101110001, rhs: 0b101110001110010001111000010001100010000011001011, expected: (75029377759292, true)}, // lhs = -128262032156815 rhs = -78183566794549
        TestCaseTwoArgsTwoExpected{lhs: 0b100110111011110101011111010010110000100100011000, rhs: 0b100101010110110001110100110011110000100100101111, expected: (54055721898567, true)}, // lhs = -110237326833384 rhs = -117181927978705
        TestCaseTwoArgsTwoExpected{lhs: 0b100110011010001101010101001011001010000100011000, rhs: 134062405256187, expected: (21514216252691, false)}, // lhs = -112548189003496
        TestCaseTwoArgsTwoExpected{lhs: 0b101100101101110011011011111001001000101111110000, rhs: 130366560388633, expected: (45553235415561, false)}, // lhs = -84813324973072
        TestCaseTwoArgsTwoExpected{lhs: 0b101111010001001001111111110111110101111101010100, rhs: 52007949614043, expected: (259895102020399, false)}, // lhs = -73587824304300
        TestCaseTwoArgsTwoExpected{lhs: 23290554510276, rhs: 47042459422023, expected: (70333013932299, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110111010110110011100100011101011001101000111000, rhs: 82311325686693, expected: (44296108094941, false)}, // lhs = -38015217591752
        TestCaseTwoArgsTwoExpected{lhs: 42312013761188, rhs: 0b110011001100100110101111000111010001011011111111, expected: (267478612173219, false)}, // rhs = -56308378298625
        TestCaseTwoArgsTwoExpected{lhs: 57996883561942, rhs: 127285953379012, expected: (185282836940954, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110010001100100000110000000110110001001011000100, rhs: 0b100011001110011001111000110111110001001111010110, expected: (94208647636634, true)}, // lhs = -60712850615612 rhs = -126553478458410
        TestCaseTwoArgsTwoExpected{lhs: 0b110100011110110001001111000000010010000100111011, rhs: 0b111100001100011111011101010101010011110011001100, expected: (214079093759495, false)}, // lhs = -50662108749509 rhs = -16733774201652
        TestCaseTwoArgsTwoExpected{lhs: 30519396133702, rhs: 66642035323751, expected: (97161431457453, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111100100101010101100100110101100011100000100000, rhs: 0b101010000011011001000010001011110111101011100001, expected: (169924593300225, false)}, // lhs = -15026398808032 rhs = -96523984602399
        TestCaseTwoArgsTwoExpected{lhs: 0b111111101011111100101001100000011000111110101111, rhs: 138981775950565, expected: (137603787805332, false)}, // lhs = -1377988145233
        TestCaseTwoArgsTwoExpected{lhs: 0b101011011000001100000011101100000100011000111110, rhs: 73190966173188, expected: (263969180378178, false)}, // lhs = -90696762505666
        TestCaseTwoArgsTwoExpected{lhs: 11862372849710, rhs: 28669742868553, expected: (40532115718263, false)},
        TestCaseTwoArgsTwoExpected{lhs: 112709876305627, rhs: 0b110000111110100111001001011111101011100011110100, expected: (46643774916559, false)}, // rhs = -66066101389068
        TestCaseTwoArgsTwoExpected{lhs: 76419191028893, rhs: 0b100100010001111110000110111111001100011100011101, expected: (235983785755578, false)}, // rhs = -121910381983971
        TestCaseTwoArgsTwoExpected{lhs: 30381850810716, rhs: 0b101101101011010110101000110001010011101100010010, expected: (231273187644526, false)}, // rhs = -80583639876846
        TestCaseTwoArgsTwoExpected{lhs: 23228218201158, rhs: 0b101110101000100000111001011011000000101111001100, expected: (228322459901970, false)}, // rhs = -76380735009844
        TestCaseTwoArgsTwoExpected{lhs: 0b111011110011100101010011011010011011101111100001, rhs: 0b100011111000101000111110011010111011111001000110, expected: (139378430409255, true)}, // lhs = -18445485098015 rhs = -123651061203386
        TestCaseTwoArgsTwoExpected{lhs: 0b110110011001000011011010101110001001001101101110, rhs: 23837222553372, expected: (263053390600842, false)}, // lhs = -42258808663186
        TestCaseTwoArgsTwoExpected{lhs: 0b111110001101101011011001010011111000111101011011, rhs: 0b101001100110010101111111001000110001001101001110, expected: (175098710631081, false)}, // lhs = -7856144281765 rhs = -98520121797810
        TestCaseTwoArgsTwoExpected{lhs: 0b100101100111101010001110111010000010101101000001, rhs: 46339948876560, expected: (211793076633169, false)}, // lhs = -116021848954047
        TestCaseTwoArgsTwoExpected{lhs: 92125438528140, rhs: 0b110001110011001110111010101101011110110100000010, expected: (29675451561870, false)}, // rhs = -62449986966270
        TestCaseTwoArgsTwoExpected{lhs: 0b110000110000100111110101100001001011110010101011, rhs: 0b100111110000110111011010001100011101010010011001, expected: (107854408618308, true)}, // lhs = -67027435471701 rhs = -106593132620647
        TestCaseTwoArgsTwoExpected{lhs: 18787562809680, rhs: 64486503355677, expected: (83274066165357, false)},
        TestCaseTwoArgsTwoExpected{lhs: 26783968754555, rhs: 24419878736807, expected: (51203847491362, false)},
        TestCaseTwoArgsTwoExpected{lhs: 15139218299135, rhs: 59671968522514, expected: (74811186821649, false)},
        TestCaseTwoArgsTwoExpected{lhs: 109803702309788, rhs: 122302107041577, expected: (232105809351365, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101100011011001010101010010001111111011100101000, rhs: 0b100011010011110000110011111001111101100010111010, expected: (69195650813922, true)}, // lhs = -86094057572568 rhs = -126185268324166
        TestCaseTwoArgsTwoExpected{lhs: 0b100101011101010010011110100101000011011011101110, rhs: 0b100100110111010100110100110011110000101011101001, expected: (45397055848919, true)}, // lhs = -116734550591762 rhs = -119343370269975
        TestCaseTwoArgsTwoExpected{lhs: 32028211174141, rhs: 62549147352932, expected: (94577358527073, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110000110110000001010101000101011101110101100111, rhs: 111222139188420, expected: (44565674250795, false)}, // lhs = -66656464937625
        TestCaseTwoArgsTwoExpected{lhs: 0b111101100101011001111001110011110110110101000000, rhs: 0b100111110100010111110101010001011000111000100010, expected: (164499111082850, false)}, // lhs = -10623705453248 rhs = -106352160174558
        TestCaseTwoArgsTwoExpected{lhs: 63579292777250, rhs: 58125142522278, expected: (121704435299528, false)},
        TestCaseTwoArgsTwoExpected{lhs: 83056947727365, rhs: 89637734697867, expected: (172694682425232, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111110110110101111101011001010000110001110011001, rhs: 0b110110111101111000000111001110010001000000011011, expected: (236712599057332, false)}, // lhs = -5034051345511 rhs = -39728326307813
        TestCaseTwoArgsTwoExpected{lhs: 0b111111110001110100100010101110001111011011000111, rhs: 139758568494625, expected: (138784193465576, false)}, // lhs = -974375029049
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000011101010110111111110100111010111101, rhs: 91118643300287, expected: (231887655999100, false)}, // lhs = -140705964011843
        TestCaseTwoArgsTwoExpected{lhs: 0b110011110101000101101011111000000001010011011001, rhs: 20478940568118, expected: (248427549716239, false)}, // lhs = -53526367562535
        TestCaseTwoArgsTwoExpected{lhs: 6790175432695, rhs: 88683278708734, expected: (95473454141429, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101011001111010010100000110011010001000110000, rhs: 92740569833784, expected: (257248891913064, false)}, // lhs = -116966654631376
        TestCaseTwoArgsTwoExpected{lhs: 0b101000010011000100111000001000100000000111001100, rhs: 0b101101011110001110010010010011110100101111000111, expected: (95746807385491, true)}, // lhs = -104242209488436 rhs = -81485959836729
        TestCaseTwoArgsTwoExpected{lhs: 0b100000110001000111011100100101010010010010011001, rhs: 118088497996727, expected: (262201236441168, false)}, // lhs = -137362238266215
        TestCaseTwoArgsTwoExpected{lhs: 0b111001100110110000110011101001001111000011100010, rhs: 0b101000011100000111111111100101111011010000011011, expected: (149732009485565, false)}, // lhs = -28122579406622 rhs = -103620387818469
        TestCaseTwoArgsTwoExpected{lhs: 0b110010000100100111100000110101011101010101101111, rhs: 0b111110110111101101111010011011001010000000000111, expected: (215252407055734, false)}, // lhs = -61255346432657 rhs = -4967223222265
        TestCaseTwoArgsTwoExpected{lhs: 23696475076613, rhs: 0b111110010111001110101101001101011111101000110101, expected: (16496720917050, false)}, // rhs = -7199754159563
        TestCaseTwoArgsTwoExpected{lhs: 50039504912616, rhs: 111196843655414, expected: (161236348568030, true)},
        TestCaseTwoArgsTwoExpected{lhs: 111483848843934, rhs: 0b100010100011111100101111010011011001100000111011, expected: (263487830031065, false)}, // rhs = -129470995523525
        TestCaseTwoArgsTwoExpected{lhs: 0b111101100111101001010010000101000100110100101111, rhs: 21429344804684, expected: (10959591599227, false)}, // lhs = -10469753205457
        TestCaseTwoArgsTwoExpected{lhs: 55321806724050, rhs: 0b110101001001011110101101010001011100000101000111, expected: (7594742193433, false)}, // rhs = -47727064530617
        TestCaseTwoArgsTwoExpected{lhs: 0b100111001000101100001010011011111011010000010110, rhs: 110158786810319, expected: (804799579621, false)}, // lhs = -109353987230698
        TestCaseTwoArgsTwoExpected{lhs: 128976318162432, rhs: 0b100010000111101010011100000110100001011101000110, expected: (279036504505670, false)}, // rhs = -131414790367418
        TestCaseTwoArgsTwoExpected{lhs: 126099903024581, rhs: 110065964811693, expected: (236165867836274, true)},
        TestCaseTwoArgsTwoExpected{lhs: 81878853609943, rhs: 48216398751189, expected: (130095252361132, false)},
        TestCaseTwoArgsTwoExpected{lhs: 86171354065299, rhs: 0b111100010111110000111010010000010011000110001110, expected: (70212232944417, false)}, // rhs = -15959121120882
        TestCaseTwoArgsTwoExpected{lhs: 0b110100001101110111011100110101000111011100011001, rhs: 0b101010111010110011010101100000100000111101111001, expected: (136935139346066, true)}, // lhs = -51823665449191 rhs = -92716171915399
        TestCaseTwoArgsTwoExpected{lhs: 0b100000101000011100110100010101001001111010010001, rhs: 0b100011111100110011001001101100001001111000110001, expected: (20151953341634, true)}, // lhs = -137957766553967 rhs = -123365256815055
        TestCaseTwoArgsTwoExpected{lhs: 128725797337703, rhs: 54983071162107, expected: (183708868499810, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110110010101110011110111001111110110110100001111, rhs: 0b101010010010000100100011110001001101110011111010, expected: (143478130756105, false)}, // lhs = -42481668362993 rhs = -95515177591558
        TestCaseTwoArgsTwoExpected{lhs: 139709923437832, rhs: 0b110010001001000101111111011110000010001101000100, expected: (78762181120076, false)}, // rhs = -60947742317756
        TestCaseTwoArgsTwoExpected{lhs: 45922956398277, rhs: 103825591057295, expected: (149748547455572, true)},
        TestCaseTwoArgsTwoExpected{lhs: 113706398723221, rhs: 0b100011011100011000100000110001101100100001111111, expected: (269588491662612, false)}, // rhs = -125592883771265
        TestCaseTwoArgsTwoExpected{lhs: 23255302538584, rhs: 106085437092967, expected: (129340739631551, false)},
        TestCaseTwoArgsTwoExpected{lhs: 60123377287404, rhs: 34779895357442, expected: (94903272644846, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101001111010111001110011101001101101011101010001, rhs: 0b110100011110010101000110001111100111010110000010, expected: (133675385965779, true)}, // lhs = -97107270248623 rhs = -50692320496254
        TestCaseTwoArgsTwoExpected{lhs: 0b110101101100000001011101110101110011110011000011, rhs: 0b111011010010101000111000111000010010011100111111, expected: (215412318430210, false)}, // lhs = -45353280258877 rhs = -20709378021569
        TestCaseTwoArgsTwoExpected{lhs: 0b111101010111110110101000001101010110111101001010, rhs: 0b100001010011100010001001001010100110111101101111, expected: (134922931003065, true)}, // lhs = -11554934919350 rhs = -134997110788241
        TestCaseTwoArgsTwoExpected{lhs: 95242194059988, rhs: 114048725361455, expected: (209290919421443, true)},
        TestCaseTwoArgsTwoExpected{lhs: 6143698370075, rhs: 0b100100000101010100111111001000010000111100010100, expected: (164839504121135, false)}, // rhs = -122779170959596
        TestCaseTwoArgsTwoExpected{lhs: 0b100110111101100011101101001100100000001111111110, rhs: 104622616018471, expected: (275978610737701, false)}, // lhs = -110118981991426
        TestCaseTwoArgsTwoExpected{lhs: 126540577911087, rhs: 0b100101000110111010011110110000010010010010001100, expected: (8268431971771, false)}, // rhs = -118272145939316
        TestCaseTwoArgsTwoExpected{lhs: 30595417847562, rhs: 0b110111111110100100001010100010101010111111001001, expected: (276787415082707, false)}, // rhs = -35282979475511
        TestCaseTwoArgsTwoExpected{lhs: 0b111011010110001101100101001110000011011100010111, rhs: 0b111100001101100111110010011110001000110101101111, expected: (244355045573766, false)}, // lhs = -20463820982505 rhs = -16656110154385
        TestCaseTwoArgsTwoExpected{lhs: 0b101101100000010011000100000011000011010000011011, rhs: 0b101011101111100111010001100110100111010110110110, expected: (111044595198417, true)}, // lhs = -81343391452133 rhs = -89086990060106
        TestCaseTwoArgsTwoExpected{lhs: 6404748298408, rhs: 50774198372925, expected: (57178946671333, false)},
        TestCaseTwoArgsTwoExpected{lhs: 17552578001693, rhs: 119010875263508, expected: (136563453265201, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100000001001110000101000111000010011010101001011, rhs: 0b111010100010111101111110010110001101111000101000, expected: (117422916506483, true)}, // lhs = -140066787609269 rhs = -23985272594904
        TestCaseTwoArgsTwoExpected{lhs: 29001728231759, rhs: 72894138996450, expected: (101895867228209, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100111000001011010110001100011100101011010100111, rhs: 0b100110001100111001001011001101011100101111101010, expected: (58158097900177, true)}, // lhs = -109853694601561 rhs = -113463184208918
        TestCaseTwoArgsTwoExpected{lhs: 128344939622389, rhs: 0b110101001110111011110000010101111000110011001100, expected: (80992662486209, false)}, // rhs = -47352277136180
        TestCaseTwoArgsTwoExpected{lhs: 0b111010110101001010110001110011001100111111101000, rhs: 0b111110110110000111101010010100011001110010110011, expected: (253663387741339, false)}, // lhs = -22734573875224 rhs = -5077015094093
        TestCaseTwoArgsTwoExpected{lhs: 0b110100001101101101100110111011110111101111001010, rhs: 85714698084750, expected: (33880464760152, false)}, // lhs = -51834233324598
        TestCaseTwoArgsTwoExpected{lhs: 0b100000001100101010001111111101100101111111100011, rhs: 0b101110000010000110000101111111011101011000001100, expected: (62586631763439, true)}, // lhs = -139867489673245 rhs = -79020855273972
        TestCaseTwoArgsTwoExpected{lhs: 98583982291046, rhs: 67665484286481, expected: (166249466577527, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111000010101011111011100101111011011100110110100, rhs: 116928902919177, expected: (83221408034237, false)}, // lhs = -33707494884940
        TestCaseTwoArgsTwoExpected{lhs: 0b111010001001100111010000111110111111101110011110, rhs: 38833230694276, expected: (13105587798818, false)}, // lhs = -25727642895458
        TestCaseTwoArgsTwoExpected{lhs: 0b101001011010001110001000000101001011000001010011, rhs: 0b100010001111010100010001010010000111001010010001, expected: (51232942924516, true)}, // lhs = -99353195401133 rhs = -130888838385007
        TestCaseTwoArgsTwoExpected{lhs: 0b101100100010001011101001001001010000010100011111, rhs: 9893291621721, expected: (205756301771384, false)}, // lhs = -85611966560993
        TestCaseTwoArgsTwoExpected{lhs: 50556930609743, rhs: 25901733686493, expected: (76458664296236, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b111110000101100010100101100010011011110110110110, rhs: 76267534527681, expected: (67852175895159, false)}, // lhs = -8415358632522
        TestCaseTwoArgsTwoExpected{lhs: 81428186818343, rhs: 36793925428416, expected: (118222112246759, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b100101111100111110111000110010100001111101010110, rhs: 0b111110000110110111001110111111110000100100000110, expected: (158593945512028, false)}, // lhs = -114556562432170 rhs = -8324468766458
        TestCaseTwoArgsTwoExpected{lhs: 0b100001001010011001111100110000000110010111000110, rhs: 0b111110000010001010111011100111101110100011111010, expected: (137203676040896, true)}, // lhs = -135624384289338 rhs = -8646916380422
        TestCaseTwoArgsTwoExpected{lhs: 0b101100001100100010101101111100111000110010110001, rhs: 62097089600896, expected: (256473047968305, false)}, // lhs = -87099018343247
        TestCaseTwoArgsTwoExpected{lhs: 0b111001001110000000011101110100010010110011000011, rhs: 132907960514057, expected: (103084207858380, false)}, // lhs = -29823752655677
        TestCaseTwoArgsTwoExpected{lhs: 97724155598943, rhs: 0b111010101011101001101111001011110010011000110111, expected: (74335629065878, false)}, // rhs = -23388526533065
        TestCaseTwoArgsTwoExpected{lhs: 0b101101111110011111001010101111011011001101101010, rhs: 28529573498775, expected: (230735740257025, false)}, // lhs = -79268809952406
        TestCaseTwoArgsTwoExpected{lhs: 41235421036883, rhs: 65438329000022, expected: (106673750036905, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b101010001010000110111000001100000000111111010100, rhs: 0b110100101010011101111010000010011010111001000111, expected: (135554305474075, true)}, // lhs = -96062443352108 rhs = -49858227884473
        TestCaseTwoArgsTwoExpected{lhs: 0b101100011010101010110000010101110001000101111111, rhs: 0b110001100110011010001011010100011100100110110001, expected: (132015410699056, true)}, // lhs = -86128315657857 rhs = -63331250353743
        TestCaseTwoArgsTwoExpected{lhs: 79271833051042, rhs: 0b110100001010001101010100111110101111101011001100, expected: (27196780321390, false)}, // rhs = -52075052729652
        TestCaseTwoArgsTwoExpected{lhs: 37591350506176, rhs: 0b111110111001111111000101001100110001000001100001, expected: (32780000625441, false)}, // rhs = -4811349880735
        TestCaseTwoArgsTwoExpected{lhs: 29712519650444, rhs: 0b110110011100110111000111011111001010010100010110, expected: (269190358008226, false)}, // rhs = -41997138352874
        TestCaseTwoArgsTwoExpected{lhs: 10836154527338, rhs: 47620742935326, expected: (58456897462664, false)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110110111101011001010110001111011000110001110101, rhs: 65895244460334, expected: (26133884108195, false)}, // lhs = -39761360352139
        TestCaseTwoArgsTwoExpected{lhs: 125406677537677, rhs: 0b100101100000101100001011101001011111111111000011, expected: (8905885061968, false)}, // rhs = -116500792475709
        TestCaseTwoArgsTwoExpected{lhs: 0b101011110001111101111000011010111100101011110011, rhs: 0b101001010111011001101110010011101011001000010101, expected: (93002797841672, true)}, // lhs = -88925277533453 rhs = -99546901335531
        TestCaseTwoArgsTwoExpected{lhs: 0b101011011101001010111010111001001111110000010011, rhs: 49487217990227, expected: (240607808296550, false)}, // lhs = -90354386404333
        TestCaseTwoArgsTwoExpected{lhs: 81617834993930, rhs: 0b110111010001011110000011010010011110001000011101, expected: (43235914926887, false)}, // rhs = -38381920067043
        TestCaseTwoArgsTwoExpected{lhs: 0b101110001110111000001001001000100011100110001001, rhs: 0b110111100001111100000010110101010000001001011011, expected: (166082291121124, false)}, // lhs = -78142481745527 rhs = -37250203844005
        TestCaseTwoArgsTwoExpected{lhs: 0b100101110101011011011101101001011110110011110000, rhs: 0b100100010101101111000001101001111000001101001110, expected: (44747641942078, true)}, // lhs = -115075635090192 rhs = -121651699678386
        TestCaseTwoArgsTwoExpected{lhs: 5622705922063, rhs: 0b111101001011001100010000011001100000000110010001, expected: (274672617365920, false)}, // rhs = -12425065266799
        TestCaseTwoArgsTwoExpected{lhs: 37199000006204, rhs: 78552187893553, expected: (115751187899757, false)},
        TestCaseTwoArgsTwoExpected{lhs: 50999879331520, rhs: 21118401625624, expected: (72118280957144, false)},
        TestCaseTwoArgsTwoExpected{lhs: 52873075991358, rhs: 0b100001000011010001001100001100100111011111001001, expected: (198233227533063, false)}, // rhs = -136114825168951
        TestCaseTwoArgsTwoExpected{lhs: 0b101110110111010001101110101110010011010011111001, rhs: 121604160911293, expected: (46237932432566, false)}, // lhs = -75366228478727
        TestCaseTwoArgsTwoExpected{lhs: 0b111110100011110101101000011010110110111100010110, rhs: 0b111010011010010011000000011100101110101000101010, expected: (250560487774528, false)}, // lhs = -6333324890346 rhs = -24581164045782
        TestCaseTwoArgsTwoExpected{lhs: 0b101000110100100100110101000010100111111011010010, rhs: 103066613739504, expected: (1126454849218, false)}, // lhs = -101940158890286
        TestCaseTwoArgsTwoExpected{lhs: 54022592094379, rhs: 0b100011110101000010101110110011001100100010111100, expected: (211599284906343, false)}, // rhs = -123898283898692
        TestCaseTwoArgsTwoExpected{lhs: 125095078385086, rhs: 75223908873632, expected: (200318987258718, true)},
        TestCaseTwoArgsTwoExpected{lhs: 134905170574823, rhs: 104212842164861, expected: (239118012739684, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0b110001010100101011000111100110011011100101000101, rhs: 0b110001011111111100110000101100100001000001010100, expected: (153149814589849, false)}, // lhs = -64550009718459 rhs = -63775152402348
        TestCaseTwoArgsTwoExpected{lhs: 67071387087133, rhs: 0b100101110011000011110110110010011001011011000001, expected: (233307941717982, false)}, // rhs = -115238422079807
        TestCaseTwoArgsTwoExpected{lhs: 0b100010110101111100000110100111111011100110000001, rhs: 0b101110010111011110011100110001100010011101001001, expected: (75688655053002, true)}, // lhs = -128234727425663 rhs = -77551594231991
        TestCaseTwoArgsTwoExpected{lhs: 105800757470271, rhs: 0b101101010001000101001101101111110000001011001100, expected: (23411704194827, false)}, // rhs = -82389053275444
        TestCaseTwoArgsTwoExpected{lhs: 24551516006551, rhs: 0b110110110001100110000100100000011101011101110001, expected: (265454159773704, false)}, // rhs = -40572332943503
        TestCaseTwoArgsTwoExpected{lhs: 1789520079478, rhs: 0b101101111000011110000001011010101001001011110100, expected: (203582139792746, false)}, // rhs = -79682356997388
        TestCaseTwoArgsTwoExpected{lhs: 24772775757074, rhs: 0b111100111101000011100000000110001001111011100111, expected: (11376237503481, false)}, // rhs = -13396538253593

        // Edge cases
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0, expected: (140737488355328, false)}, // lhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 140737488355327, expected: (281474976710655, false)}, // lhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0b100000000000000000000000000000000000000000000000, expected: (0, true)}, // lhs = -140737488355328 rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 140737488355327, expected: (140737488355327, false)},
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 0b100000000000000000000000000000000000000000000000, expected: (281474976710655, false)}, // rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0b100000000000000000000000000000000000000000000000, expected: (140737488355328, false)}, // rhs = -140737488355328
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 0, expected: (140737488355327, false)},
        TestCaseTwoArgsTwoExpected{lhs: 140737488355327, rhs: 140737488355327, expected: (281474976710654, true)},
        TestCaseTwoArgsTwoExpected{lhs: 0, rhs: 0, expected: (0, false)},
    ];

    #[test]
    fn test_i48() {
        for case in test_cases.span() {
            assert_eq!(__llvm_sadd_with_overflow_k_k_Skcs(*case.lhs, *case.rhs), *case.expected);
        }
    }
}
