use crate::alu::or::or;

pub fn __llvm_or_i64_i64(lhs: u128, rhs: u128) -> u128 {
    or::<u64>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use super::__llvm_or_i64_i64;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 43] = [
        // Random test cases
        TestCaseTwoArgs{lhs: 0b0000010100101011101000011110001000111110000100010111100101011101, rhs: 0b0110011111001100100000111100101011101010100110000100000101110101, expected: 0b0110011111101111101000111110101011111110100110010111100101111101},
        TestCaseTwoArgs{lhs: 0b0101010111110111111111011010011101001101111011000111110100000001, rhs: 0b0110101001000100011111011110101010001111101101000001011100100100, expected: 0b0111111111110111111111011110111111001111111111000111111100100101},
        TestCaseTwoArgs{lhs: 0b0001000111101001111110111111000001111111001011011111100010010111, rhs: 0b0101100000011000101000101010110110010101100100111101011001101011, expected: 0b0101100111111001111110111111110111111111101111111111111011111111},
        TestCaseTwoArgs{lhs: 0b0100000010101110011001111110111100110001001011110001001011010000, rhs: 0b0110100110101010010101111001110101000000101000101001010011000100, expected: 0b0110100110101110011101111111111101110001101011111001011011010100},
        TestCaseTwoArgs{lhs: 0b0000111011101010101100110011010110100011110001100110010101011011, rhs: 0b0011000111111010111111010111110101001110011010000000110000101000, expected: 0b0011111111111010111111110111110111101111111011100110110101111011},
        TestCaseTwoArgs{lhs: 0b0011011101000000111010101111000101000100101101110110010000000110, rhs: 0b0011000000000010100100101001010001101001001101001010011101001101, expected: 0b0011011101000010111110101111010101101101101101111110011101001111},
        TestCaseTwoArgs{lhs: 0b0111111011010010100011111000010001110111000111001000000001011000, rhs: 0b0000111110001101001101001000010101101000011101011100001010111010, expected: 0b0111111111011111101111111000010101111111011111011100001011111010},
        TestCaseTwoArgs{lhs: 0b0111101111110101000101100011001101101010010011001001010110101010, rhs: 0b0110000000001101010011110100101000000001110011100000110010110010, expected: 0b0111101111111101010111110111101101101011110011101001110110111010},
        TestCaseTwoArgs{lhs: 0b0011010010000001101011101010111001010010001100000010101011010101, rhs: 0b0000101100000000010011001000100100111110011111100110100110010010, expected: 0b0011111110000001111011101010111101111110011111100110101111010111},
        TestCaseTwoArgs{lhs: 0b0001000011011100000101111000010010110001000001111011010001110101, rhs: 0b0011110010111101101101100001011101111100111100101111101101111110, expected: 0b0011110011111101101101111001011111111101111101111111111101111111},
        TestCaseTwoArgs{lhs: 0b1101001111111110001000000100010110010100101001110010100110010001, rhs: 0b0010001011111111100011011100010000011000000001001101110110001100, expected: 0b1111001111111111101011011100010110011100101001111111110110011101},
        TestCaseTwoArgs{lhs: 0b1000000011000000001001010001011101010101010010011100010100000110, rhs: 0b0100001001000000111110010111100101011001101001000001010110011101, expected: 0b1100001011000000111111010111111101011101111011011101010110011111},
        TestCaseTwoArgs{lhs: 0b1010011011110000000110010010011001001010000001011001101000011110, rhs: 0b0001100110011100001100111110101010110110100010110010111110001011, expected: 0b1011111111111100001110111110111011111110100011111011111110011111},
        TestCaseTwoArgs{lhs: 0b1000001110111010100001101000110000000101100000011011000101011100, rhs: 0b0110100011111110101110000000101110110100101111001000110110001111, expected: 0b1110101111111110101111101000111110110101101111011011110111011111},
        TestCaseTwoArgs{lhs: 0b1101001101100101110110001001110101101010011110101010110010111010, rhs: 0b0111011001000011110111011110001001110011101101001111100011101010, expected: 0b1111011101100111110111011111111101111011111111101111110011111010},
        TestCaseTwoArgs{lhs: 0b1010011100001110011000110001011001000100000110111111000101011010, rhs: 0b0011100110100010111001111111010100000100101110011000011000110001, expected: 0b1011111110101110111001111111011101000100101110111111011101111011},
        TestCaseTwoArgs{lhs: 0b1011110010001000100001111111000100001111011001100110110110011110, rhs: 0b0111110010001101101110011010100110110100011111011001110010011101, expected: 0b1111110010001101101111111111100110111111011111111111110110011111},
        TestCaseTwoArgs{lhs: 0b1000001101000110100100100001110101110010001011000101110110001110, rhs: 0b0011100111001110001110101000010110111000101111000010101001001100, expected: 0b1011101111001110101110101001110111111010101111000111111111001110},
        TestCaseTwoArgs{lhs: 0b1100011001010111011011100110001010111001101001011100010000001011, rhs: 0b0111011001111110100010111001000110001111011111011010100101001000, expected: 0b1111011001111111111011111111001110111111111111011110110101001011},
        TestCaseTwoArgs{lhs: 0b1110110011000101011011000011001010000001011001000101011111000110, rhs: 0b0100011011001000111110010000111000111101101101011011111110101000, expected: 0b1110111011001101111111010011111010111101111101011111111111101110},
        TestCaseTwoArgs{lhs: 0b0101011110001101001011010111100010111111001110101100101000110001, rhs: 0b1011111101011001101101110001001001001000011010111011111010101110, expected: 0b1111111111011101101111110111101011111111011110111111111010111111},
        TestCaseTwoArgs{lhs: 0b0111100000111101101011010100111101110011001101111101111101010110, rhs: 0b1100111101001000111111010110100111011101001011111100101001110011, expected: 0b1111111101111101111111010110111111111111001111111101111101110111},
        TestCaseTwoArgs{lhs: 0b0110110101100000100111000000001000001001100100010011011011101001, rhs: 0b1011110010100010100101001000101101001000110100001110101001100111, expected: 0b1111110111100010100111001000101101001001110100011111111011101111},
        TestCaseTwoArgs{lhs: 0b0100010110000101101011110000111111100111101111110010010000101010, rhs: 0b1000011011010001010110010000010110001011011110000101010101110010, expected: 0b1100011111010101111111110000111111101111111111110111010101111010},
        TestCaseTwoArgs{lhs: 0b0001111010000110101010101001010000000000101000100010010011010010, rhs: 0b1010011011111100011010011111000011011001100111011000001001011010, expected: 0b1011111011111110111010111111010011011001101111111010011011011010},
        TestCaseTwoArgs{lhs: 0b0001111000100010111111010101111011000001011001011000000111001010, rhs: 0b1100010000100001111000111000111011000010111011111010101110100101, expected: 0b1101111000100011111111111101111011000011111011111010101111101111},
        TestCaseTwoArgs{lhs: 0b0001000001000001100010001110001100100011101110010111000000011101, rhs: 0b1011100100000101111101110010100100111110011110100110001101001101, expected: 0b1011100101000101111111111110101100111111111110110111001101011101},
        TestCaseTwoArgs{lhs: 0b0101110001000010110101011100101011000010100110101010010011000110, rhs: 0b1000010100110111000000110011100101110011010000010100001111101101, expected: 0b1101110101110111110101111111101111110011110110111110011111101111},
        TestCaseTwoArgs{lhs: 0b0110011011001011111010101110001101000000100011101000101000110000, rhs: 0b1101100000001001111111001110000001011001000000100101000010100001, expected: 0b1111111011001011111111101110001101011001100011101101101010110001},
        TestCaseTwoArgs{lhs: 0b0101010100011010011101111010101101010101100010001110111101111100, rhs: 0b1111101001000001101010111101110010001000111010100100100110101110, expected: 0b1111111101011011111111111111111111011101111010101110111111111110},
        TestCaseTwoArgs{lhs: 0b1111000010010110010011001100100010001001111111100100001001111100, rhs: 0b1010011110010100011110001101000101111111110011110110101011110001, expected: 0b1111011110010110011111001101100111111111111111110110101011111101},
        TestCaseTwoArgs{lhs: 0b1110111000011101100011110100001110101011110101101011111011110010, rhs: 0b1000110001001110011100000100100011011110100100011010011111010100, expected: 0b1110111001011111111111110100101111111111110101111011111111110110},
        TestCaseTwoArgs{lhs: 0b1100101000000100101010100010000010010000000011000101110110110010, rhs: 0b1100010011110001100101111010001011110100001010010010100100001100, expected: 0b1100111011110101101111111010001011110100001011010111110110111110},
        TestCaseTwoArgs{lhs: 0b1000010000110100101000011000000000111100111110010110010000001110, rhs: 0b1101101111111010111001100000010010000010100010110010110000100111, expected: 0b1101111111111110111001111000010010111110111110110110110000101111},
        TestCaseTwoArgs{lhs: 0b1011011001101001010001100110001110100000000010110011100000110110, rhs: 0b1111000010110111101111001001010001010100101111111111001001111110, expected: 0b1111011011111111111111101111011111110100101111111111101001111110},
        TestCaseTwoArgs{lhs: 0b1100110000011001001001000101111000000111010011100001111101000101, rhs: 0b1110100011100101110110000001111101000011100011100100111110111110, expected: 0b1110110011111101111111000101111101000111110011100101111111111111},
        TestCaseTwoArgs{lhs: 0b1001100010011110101110011000101111000000100011001110101011001010, rhs: 0b1101100011110100101100010011111101000111110110110111001100111100, expected: 0b1101100011111110101110011011111111000111110111111111101111111110},
        TestCaseTwoArgs{lhs: 0b1010011011011010100101011100001011111111000001010111111000100011, rhs: 0b1000101100010101111110000101011010010101001110001010011101010110, expected: 0b1010111111011111111111011101011011111111001111011111111101110111},
        TestCaseTwoArgs{lhs: 0b1011110011011100010011110000100110110011100001011110000111100011, rhs: 0b1011001000000100111111110100001001001110000111010011010010101000, expected: 0b1011111011011100111111110100101111111111100111011111010111101011},
        TestCaseTwoArgs{lhs: 0b1100101100011011010000000001100111001010010011100111011111010000, rhs: 0b1011111101111111000011100110100001001100011011110110010011011001, expected: 0b1111111101111111010011100111100111001110011011110111011111011001},

        // Edge cases
        TestCaseTwoArgs{lhs: 0b1111111111111111111111111111111111111111111111111111111111111111, rhs: 0b1111111111111111111111111111111111111111111111111111111111111111, expected: 0b1111111111111111111111111111111111111111111111111111111111111111}, // Edge case: max & max (all bits set)
        TestCaseTwoArgs{lhs: 0b0000000000000000000000000000000000000000000000000000000000000000, rhs: 0b0000000000000000000000000000000000000000000000000000000000000000, expected: 0b0000000000000000000000000000000000000000000000000000000000000000}, // Edge case: min & min (no bits set)
        TestCaseTwoArgs{lhs: 0b1111111111111111111111111111111111111111111111111111111111111111, rhs: 0b0000000000000000000000000000000000000000000000000000000000000000, expected: 0b1111111111111111111111111111111111111111111111111111111111111111}, // Edge case: max & min (all bits vs no bits)
    ];

    #[test]
    fn test_i64() {
        for case in test_cases
            .span() {
                assert_eq!(__llvm_or_i64_i64(*case.lhs, *case.rhs), *case.expected);
            }
    }
}
