use crate::alu::fshl::fshl;

pub fn __llvm_fshl_i16_i16_i16(a: u128, b: u128, shift: u128) -> u128 {
    fshl::<u16>(a, b, shift)
}

#[cfg(test)]
mod tests {
    use super::__llvm_fshl_i16_i16_i16;
    use crate::alu::test_case::TestCaseThreeArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseThreeArgs; 132] = [
        // Funnel shifts through all bits of random bit patterns
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 0, expected: 0b0000111110100110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 1, expected: 0b0001111101001101 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 2, expected: 0b0011111010011010 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 3, expected: 0b0111110100110100 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 4, expected: 0b1111101001101000 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 5, expected: 0b1111010011010000 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 6, expected: 0b1110100110100001 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 7, expected: 0b1101001101000011 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 8, expected: 0b1010011010000110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 9, expected: 0b0100110100001100 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 10, expected: 0b1001101000011001 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 11, expected: 0b0011010000110011 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 12, expected: 0b0110100001100111 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 13, expected: 0b1101000011001110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 14, expected: 0b1010000110011101 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 15, expected: 0b0100001100111010 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 16, expected: 0b0000111110100110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 17, expected: 0b0001111101001101 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 18, expected: 0b0011111010011010 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 19, expected: 0b0111110100110100 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 20, expected: 0b1111101001101000 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 21, expected: 0b1111010011010000 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 22, expected: 0b1110100110100001 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 23, expected: 0b1101001101000011 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 24, expected: 0b1010011010000110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 25, expected: 0b0100110100001100 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 26, expected: 0b1001101000011001 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 27, expected: 0b0011010000110011 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 28, expected: 0b0110100001100111 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 29, expected: 0b1101000011001110 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 30, expected: 0b1010000110011101 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 31, expected: 0b0100001100111010 },
        TestCaseThreeArgs { a: 0b0000111110100110, b: 0b1000011001110100, c: 32, expected: 0b0000111110100110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 0, expected: 0b0110111010100111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 1, expected: 0b1101110101001110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 2, expected: 0b1011101010011100 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 3, expected: 0b0111010100111001 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 4, expected: 0b1110101001110010 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 5, expected: 0b1101010011100101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 6, expected: 0b1010100111001011 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 7, expected: 0b0101001110010110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 8, expected: 0b1010011100101101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 9, expected: 0b0100111001011011 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 10, expected: 0b1001110010110111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 11, expected: 0b0011100101101111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 12, expected: 0b0111001011011110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 13, expected: 0b1110010110111101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 14, expected: 0b1100101101111010 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 15, expected: 0b1001011011110100 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 16, expected: 0b0110111010100111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 17, expected: 0b1101110101001110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 18, expected: 0b1011101010011100 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 19, expected: 0b0111010100111001 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 20, expected: 0b1110101001110010 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 21, expected: 0b1101010011100101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 22, expected: 0b1010100111001011 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 23, expected: 0b0101001110010110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 24, expected: 0b1010011100101101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 25, expected: 0b0100111001011011 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 26, expected: 0b1001110010110111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 27, expected: 0b0011100101101111 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 28, expected: 0b0111001011011110 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 29, expected: 0b1110010110111101 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 30, expected: 0b1100101101111010 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 31, expected: 0b1001011011110100 },
        TestCaseThreeArgs { a: 0b0110111010100111, b: 0b0010110111101001, c: 32, expected: 0b0110111010100111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 0, expected: 0b0001001001000110 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 1, expected: 0b0010010010001100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 2, expected: 0b0100100100011001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 3, expected: 0b1001001000110011 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 4, expected: 0b0010010001100111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 5, expected: 0b0100100011001111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 6, expected: 0b1001000110011110 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 7, expected: 0b0010001100111100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 8, expected: 0b0100011001111001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 9, expected: 0b1000110011110010 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 10, expected: 0b0001100111100100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 11, expected: 0b0011001111001001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 12, expected: 0b0110011110010011 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 13, expected: 0b1100111100100111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 14, expected: 0b1001111001001111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 15, expected: 0b0011110010011111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 16, expected: 0b0001001001000110 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 17, expected: 0b0010010010001100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 18, expected: 0b0100100100011001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 19, expected: 0b1001001000110011 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 20, expected: 0b0010010001100111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 21, expected: 0b0100100011001111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 22, expected: 0b1001000110011110 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 23, expected: 0b0010001100111100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 24, expected: 0b0100011001111001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 25, expected: 0b1000110011110010 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 26, expected: 0b0001100111100100 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 27, expected: 0b0011001111001001 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 28, expected: 0b0110011110010011 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 29, expected: 0b1100111100100111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 30, expected: 0b1001111001001111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 31, expected: 0b0011110010011111 },
        TestCaseThreeArgs { a: 0b0001001001000110, b: 0b0111100100111110, c: 32, expected: 0b0001001001000110 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 0, expected: 0b1010011011110101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 1, expected: 0b0100110111101011 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 2, expected: 0b1001101111010110 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 3, expected: 0b0011011110101101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 4, expected: 0b0110111101011010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 5, expected: 0b1101111010110101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 6, expected: 0b1011110101101010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 7, expected: 0b0111101011010101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 8, expected: 0b1111010110101010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 9, expected: 0b1110101101010100 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 10, expected: 0b1101011010101000 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 11, expected: 0b1010110101010001 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 12, expected: 0b0101101010100011 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 13, expected: 0b1011010101000110 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 14, expected: 0b0110101010001100 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 15, expected: 0b1101010100011001 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 16, expected: 0b1010011011110101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 17, expected: 0b0100110111101011 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 18, expected: 0b1001101111010110 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 19, expected: 0b0011011110101101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 20, expected: 0b0110111101011010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 21, expected: 0b1101111010110101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 22, expected: 0b1011110101101010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 23, expected: 0b0111101011010101 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 24, expected: 0b1111010110101010 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 25, expected: 0b1110101101010100 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 26, expected: 0b1101011010101000 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 27, expected: 0b1010110101010001 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 28, expected: 0b0101101010100011 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 29, expected: 0b1011010101000110 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 30, expected: 0b0110101010001100 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 31, expected: 0b1101010100011001 },
        TestCaseThreeArgs { a: 0b1010011011110101, b: 0b1010101000110010, c: 32, expected: 0b1010011011110101 },
    ];

    #[test]
    fn test_i16() {
        for case in test_cases
            .span() {
                assert_eq!(__llvm_fshl_i16_i16_i16(*case.a, *case.b, *case.c), *case.expected);
            }
    }
}

