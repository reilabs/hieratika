use crate::rtstate::RTState;
use crate::alu::add::add;
use crate::integer::u48::u48;

pub fn __llvm_add_k_k_k(ref state: RTState, lhs: u128, rhs: u128) -> u128 {
    add::<u48>(lhs, rhs)
}

#[cfg(test)]
mod tests {
    use crate::rtstate::RTStateOps;
    use super::__llvm_add_k_k_k;
    use crate::alu::test_case::TestCaseTwoArgs;
    #[cairofmt::skip]
    pub const test_cases: [TestCaseTwoArgs; 249] = [
        // Due to Cairo's casting limitation, negative numbers are represented as bit patterns.

        // Random test cases
        TestCaseTwoArgs{lhs: 74241232220372, rhs: 13620870287579, expected: 87862102507951},
        TestCaseTwoArgs{lhs: 132372898177185, rhs: 116756056505055, expected: 249128954682240},
        TestCaseTwoArgs{lhs: 11531539435997, rhs: 79664845724253, expected: 91196385160250},
        TestCaseTwoArgs{lhs: 43022715533024, rhs: 126995956396005, expected: 170018671929029},
        TestCaseTwoArgs{lhs: 62641919577802, rhs: 0b110001110010000111000110010100110101000000001001, expected: 114818064083}, // rhs = -62527101513719
        TestCaseTwoArgs{lhs: 0b110110001110010110011110110000111100111111110010, rhs: 0b100000000110000001011011000110001001001101110111, expected: 98157079585641}, // lhs = -42994253967374 rhs = -140323643157641
        TestCaseTwoArgs{lhs: 0b100101000011001111110100110100100010111100100111, rhs: 0b100000011011101110101100100001110001001011100101, expected: 24118948348428}, // lhs = -118524105052377 rhs = -138831923309851
        TestCaseTwoArgs{lhs: 0b101011010001111001110110011100001100000100011101, rhs: 0b100101100011010101000011100111111111011000111011, expected: 74026883004248}, // lhs = -91128628985571 rhs = -116319464720837
        TestCaseTwoArgs{lhs: 24010220352762, rhs: 0b111011011111001101101011000110100010110111001110, expected: 4164973355720}, // rhs = -19845246997042
        TestCaseTwoArgs{lhs: 4025294640687, rhs: 0b100101010000101010011001100000101101111101111110, expected: 167898052343213}, // rhs = -117602219008130
        TestCaseTwoArgs{lhs: 0b100110010101111010011001000100011000001010100001, rhs: 0b100100101110000100010000111110101000110010100000, expected: 48651947478849}, // lhs = -112843402673503 rhs = -119979626558304
        TestCaseTwoArgs{lhs: 0b110001011011000110001001101100001000111010011100, rhs: 0b110101000011011111111000001000100000111010100011, expected: 169228184493375}, // lhs = -64108666777956 rhs = -48138125439325
        TestCaseTwoArgs{lhs: 62442787874467, rhs: 0b111010011010000001111000110001111101010110110000, expected: 37843241565267}, // rhs = -24599546309200
        TestCaseTwoArgs{lhs: 0b101111011110000101100000010001110010010000100001, rhs: 0b100110101101000110110100101101000110100001000000, expected: 97526174420065}, // lhs = -72699296144351 rhs = -111249506146240
        TestCaseTwoArgs{lhs: 35469050777934, rhs: 0b101110011110101110011110000010110011101000010110, expected: 239890670766948}, // rhs = -77053356721642
        TestCaseTwoArgs{lhs: 130892924440076, rhs: 48952159908004, expected: 179845084348080},
        TestCaseTwoArgs{lhs: 64024113638903, rhs: 97209255275421, expected: 161233368914324},
        TestCaseTwoArgs{lhs: 101982819556181, rhs: 21800413678851, expected: 123783233235032},
        TestCaseTwoArgs{lhs: 0b110100001110110111111000111100101000110110000000, rhs: 0b101100110001000101111010010100001111011001100111, expected: 145133173703655}, // lhs = -51754474238592 rhs = -84587328768409
        TestCaseTwoArgs{lhs: 0b111110100011101010011010010100010100001100000000, rhs: 103509327278442, expected: 97163954631786}, // lhs = -6345372646656
        TestCaseTwoArgs{lhs: 87765850974021, rhs: 0b110011000001110101000110000000110011010101110011, expected: 30716974996664}, // rhs = -57048875977357
        TestCaseTwoArgs{lhs: 0b111101000101110101011000011000110101000110011101, rhs: 114947268379885, expected: 102154043709066}, // lhs = -12793224670819
        TestCaseTwoArgs{lhs: 46833082363773, rhs: 49007448440383, expected: 95840530804156},
        TestCaseTwoArgs{lhs: 0b100001001000110111100101010100101011110110101110, rhs: 14296822711764, expected: 160041795371906}, // lhs = -135730004050514
        TestCaseTwoArgs{lhs: 0b110100010110001001110001001110010001100010000011, rhs: 0b100000001110001010101110111011011111111000100000, expected: 90456845653667}, // lhs = -51254240143229 rhs = -139763890913760
        TestCaseTwoArgs{lhs: 129848064634446, rhs: 136148981499827, expected: 265997046134273},
        TestCaseTwoArgs{lhs: 0b100110011010110010110101000110001111001001110100, rhs: 0b101111101101000110110111000010101001000001010111, expected: 97300003390155}, // lhs = -112507924974988 rhs = -71667048345513
        TestCaseTwoArgs{lhs: 36901250044248, rhs: 103319901425050, expected: 140221151469298},
        TestCaseTwoArgs{lhs: 36707495610856, rhs: 94668769173318, expected: 131376264784174},
        TestCaseTwoArgs{lhs: 117251531921614, rhs: 0b111101011011010100111000010110111101010001101111, expected: 105935238638909}, // rhs = -11316293282705
        TestCaseTwoArgs{lhs: 0b100100011111000101110011110001010110011100100000, rhs: 125105003783587, expected: 4096242535619}, // lhs = -121008761247968
        TestCaseTwoArgs{lhs: 73570895524630, rhs: 138415602850006, expected: 211986498374636},
        TestCaseTwoArgs{lhs: 0b111101010111011010000111110001110101110101111011, rhs: 0b110101100111010000111011001101100010001001011100, expected: 224209154179031}, // lhs = -11585543774853 rhs = -45680278756772
        TestCaseTwoArgs{lhs: 0b101000010011110110101111111000010100010000010111, rhs: 127716382277572, expected: 23527721419739}, // lhs = -104188660857833
        TestCaseTwoArgs{lhs: 92675812635344, rhs: 10203099543909, expected: 102878912179253},
        TestCaseTwoArgs{lhs: 0b101101001100111100001011011111101000000111101111, rhs: 119312239731264, expected: 36638607090735}, // lhs = -82673632640529
        TestCaseTwoArgs{lhs: 0b101101101100010101100111111011100111110101001010, rhs: 113849142862292, expected: 33333134647070}, // lhs = -80516008215222
        TestCaseTwoArgs{lhs: 29663810660178, rhs: 0b110010001001001110111100010110101011100101110001, expected: 250200656470211}, // rhs = -60938130900623
        TestCaseTwoArgs{lhs: 0b110100100101001111101000001000100110101000100110, rhs: 0b111011011010101011101101110010111001111111100110, expected: 211101231745548}, // lhs = -50217158022618 rhs = -20156586942490
        TestCaseTwoArgs{lhs: 2576435762875, rhs: 135342998898267, expected: 137919434661142},
        TestCaseTwoArgs{lhs: 35776678823154, rhs: 0b111011011101101111110001101100010111111110111100, expected: 15830610674862}, // rhs = -19946068148292
        TestCaseTwoArgs{lhs: 91886721417059, rhs: 106387604535868, expected: 198274325952927},
        TestCaseTwoArgs{lhs: 34857165045144, rhs: 106481778904967, expected: 141338943950111},
        TestCaseTwoArgs{lhs: 50218837511467, rhs: 125261761840139, expected: 175480599351606},
        TestCaseTwoArgs{lhs: 0b101101001010001101100100011001101100111010101111, rhs: 0b110011110101111001111110111010011100100000101000, expected: 145143643543255}, // lhs = -82861119582545 rhs = -53470213584856
        TestCaseTwoArgs{lhs: 0b100110001101000011001100111000011111011111100000, rhs: 0b111000101101111111000010100011010110011100111101, expected: 135998250901277}, // lhs = -113452418730016 rhs = -32024307079363
        TestCaseTwoArgs{lhs: 0b100011111100010100101011110001011111000101011110, rhs: 61198841065673, expected: 219275846787623}, // lhs = -123397970988706
        TestCaseTwoArgs{lhs: 76734461314049, rhs: 0b100011000111110010010111111101111111011010101110, expected: 231201214757551}, // rhs = -127008223267154
        TestCaseTwoArgs{lhs: 51943206091293, rhs: 68435875120171, expected: 120379081211464},
        TestCaseTwoArgs{lhs: 76042423940804, rhs: 0b111101001011110101101011110011001000000101000011, expected: 63661841790983}, // rhs = -12380582149821
        TestCaseTwoArgs{lhs: 0b100100010100001110100100111101011001001100001010, rhs: 0b110110101111101011110000010100110111100110001010, expected: 119016048364692}, // lhs = -121755260316918 rhs = -40703668029046
        TestCaseTwoArgs{lhs: 0b101010110001000101011111000011101010100100100000, rhs: 105006254547827, expected: 11622375427219}, // lhs = -93383879120608
        TestCaseTwoArgs{lhs: 0b101010000000010001011000110010000101100001100100, rhs: 67860354374189, expected: 252596977234577}, // lhs = -96738353850268
        TestCaseTwoArgs{lhs: 0b110101011010101010001010000101100000001000010011, rhs: 0b110011100111111011111100101000000111100100110011, expected: 180498260720454}, // lhs = -46546538855917 rhs = -54430177134285
        TestCaseTwoArgs{lhs: 0b110000111101100000100110111000010000100110110010, rhs: 0b110111010011010100000110000001000111111000111011, expected: 177077959886829}, // lhs = -66141844076110 rhs = -38255172747717
        TestCaseTwoArgs{lhs: 20787787938750, rhs: 0b111101110101111101111011001101110111111010111000, expected: 11302272416374}, // rhs = -9485515522376
        TestCaseTwoArgs{lhs: 0b101110010100000100010011111000100011011000001101, rhs: 67408469276397, expected: 271097626881274}, // lhs = -77785819105779
        TestCaseTwoArgs{lhs: 0b100101100000110110010111010111101010011011101000, rhs: 0b111011111010001111110100110100111110110110100000, expected: 146997607830664}, // lhs = -116489858406680 rhs = -17987510473312
        TestCaseTwoArgs{lhs: 105597606571924, rhs: 105191197550850, expected: 210788804122774},
        TestCaseTwoArgs{lhs: 12978417133549, rhs: 0b101011011010101010011001101010110011010111100011, expected: 203926651313616}, // rhs = -90526742530589
        TestCaseTwoArgs{lhs: 107225239309396, rhs: 99189390223387, expected: 206414629532783},
        TestCaseTwoArgs{lhs: 0b101101011011010000101100100000111110010001001011, rhs: 0b111011101101110110100001000101000110011100010111, expected: 180946126523234}, // lhs = -81689531128757 rhs = -18839319058665
        TestCaseTwoArgs{lhs: 0b101010001011111000011110000010110100101100000010, rhs: 95758039869186, expected: 281292541178372}, // lhs = -95940475401470
        TestCaseTwoArgs{lhs: 0b100000001100100100011101100001010110010110111110, rhs: 0b111010111101111010000001100100101111110010100111, expected: 119467184513637}, // lhs = -139873704647234 rhs = -22134087549785
        TestCaseTwoArgs{lhs: 30136324001046, rhs: 134021061835886, expected: 164157385836932},
        TestCaseTwoArgs{lhs: 104529575205931, rhs: 0b100011001010000110101101000001110111011101101000, expected: 259155595776915}, // rhs = -126848956139672
        TestCaseTwoArgs{lhs: 26517898826651, rhs: 0b100000101000011110101110110011101110110111110001, expected: 170037163819404}, // rhs = -137955711717903
        TestCaseTwoArgs{lhs: 0b100111100111100110111011011111010111110110010001, rhs: 135855271194072, expected: 28625968278377}, // lhs = -107229302915695
        TestCaseTwoArgs{lhs: 0b110100110101111101011010101001000000100010011111, rhs: 111831592817954, expected: 62763112160705}, // lhs = -49068480657249
        TestCaseTwoArgs{lhs: 0b100000100110100101001001101010101100110110100011, rhs: 134457215971000, expected: 277845935078491}, // lhs = -138086257603165
        TestCaseTwoArgs{lhs: 0b101101010011101100000100101000111100000000001110, rhs: 46792753050831, expected: 246057838589149}, // lhs = -82209891172338
        TestCaseTwoArgs{lhs: 54329206191422, rhs: 0b111000111111010100010101100101001100001010110100, expected: 23495998044146}, // rhs = -30833208147276
        TestCaseTwoArgs{lhs: 5263799691171, rhs: 0b101110111011101110011111001001101100001101111111, expected: 211678303087394}, // rhs = -75060473314433
        TestCaseTwoArgs{lhs: 49185181943755, rhs: 0b110000100011000011100110011100000100001111100100, expected: 262700462279599}, // rhs = -67959696374812
        TestCaseTwoArgs{lhs: 0b100111001011101001000001110110100000100101100101, rhs: 0b100011011010000100001111011010011011100100011001, expected: 46571693785726}, // lhs = -109151194052251 rhs = -125752088872679
        TestCaseTwoArgs{lhs: 0b111100110101011011011000111110101010101011101110, rhs: 122948755507223, expected: 109028111840005}, // lhs = -13920643667218
        TestCaseTwoArgs{lhs: 3609289203602, rhs: 7789396227589, expected: 11398685431191},
        TestCaseTwoArgs{lhs: 6399981447779, rhs: 0b100011101000111001010000111111010100101110011000, expected: 163141876725243}, // rhs = -124733081433192
        TestCaseTwoArgs{lhs: 55140488043596, rhs: 113203768938814, expected: 168344256982410},
        TestCaseTwoArgs{lhs: 0b111100111000001011000011011010001011001111100001, rhs: 903212162928, expected: 268646161879889}, // lhs = -13732026993695
        TestCaseTwoArgs{lhs: 0b101110110111101010101111101011101101000110110000, rhs: 123152481106501, expected: 47813112269813}, // lhs = -75339368836688
        TestCaseTwoArgs{lhs: 0b110000010111011111010101010010011010001101010011, rhs: 102983483512938, expected: 34228930444221}, // lhs = -68754553068717
        TestCaseTwoArgs{lhs: 20200942309943, rhs: 0b100001100010111100100101111010100100111000010101, expected: 167738000007244}, // rhs = -133937919013355
        TestCaseTwoArgs{lhs: 0b111000101000111111100001011101111010010000101011, rhs: 0b110111010111010110111101110001101011010100011001, expected: 211130379032900}, // lhs = -32367385795541 rhs = -37977211882215
        TestCaseTwoArgs{lhs: 0b110100100011100110101011001011011001101101010000, rhs: 0b101000001001001111111011110011101010010011110111, expected: 126227595411527}, // lhs = -50329849849008 rhs = -104917531450121
        TestCaseTwoArgs{lhs: 0b111100110000011000000000111000110101000101010001, rhs: 98440018060106, expected: 84172151600283}, // lhs = -14267866459823
        TestCaseTwoArgs{lhs: 10884225842634, rhs: 68603531054372, expected: 79487756897006},
        TestCaseTwoArgs{lhs: 104815182376479, rhs: 0b101101010100101001101000000000100001000011110001, expected: 22671382839056}, // rhs = -82143799537423
        TestCaseTwoArgs{lhs: 0b101010110010000101000011110100010100101001000010, rhs: 0b101111000000011111001100001100100101100010110001, expected: 113426059993843}, // lhs = -93315616650686 rhs = -74733300066127
        TestCaseTwoArgs{lhs: 136903536386518, rhs: 0b111011000001110111101110000001101010110111011011, expected: 115041851297713}, // rhs = -21861685088805
        TestCaseTwoArgs{lhs: 91548903077521, rhs: 0b101111000010011011100111101100011110000011000011, expected: 16949208340308}, // rhs = -74599694737213
        TestCaseTwoArgs{lhs: 128108993077061, rhs: 62176157469997, expected: 190285150547058},
        TestCaseTwoArgs{lhs: 0b111101110011101101000010101000110101000100010001, rhs: 55080188753452, expected: 45439105173309}, // lhs = -9641083580143
        TestCaseTwoArgs{lhs: 32750844952662, rhs: 38117733677475, expected: 70868578630137},
        TestCaseTwoArgs{lhs: 115216380820983, rhs: 39348088101221, expected: 154564468922204},
        TestCaseTwoArgs{lhs: 26358572874318, rhs: 85591225533610, expected: 111949798407928},
        TestCaseTwoArgs{lhs: 0b111010000010111100011010101000001100101101000110, rhs: 71715492672585, expected: 45529523814287}, // lhs = -26185968858298
        TestCaseTwoArgs{lhs: 0b100100100000000011000011000000111101100010010101, rhs: 0b110000100001010011100010110110010000000010111011, expected: 92451953760592}, // lhs = -120943007246187 rhs = -68080015703877
        TestCaseTwoArgs{lhs: 46770896080535, rhs: 42645324678719, expected: 89416220759254},
        TestCaseTwoArgs{lhs: 0b111010101111101011001011011001101110010010100111, rhs: 0b101011001001000101010110101111101001011110101000, expected: 166628124097615}, // lhs = -23112101469017 rhs = -91734751144024
        TestCaseTwoArgs{lhs: 130799118798814, rhs: 0b111110000100011111101001000110111001110010010111, expected: 122311879355509}, // rhs = -8487239443305
        TestCaseTwoArgs{lhs: 0b100100100110010111111101110110100101110111010111, rhs: 58541261698248, expected: 219508009996959}, // lhs = -120508228411945
        TestCaseTwoArgs{lhs: 105693434463089, rhs: 6970292655493, expected: 112663727118582},
        TestCaseTwoArgs{lhs: 0b111100011100110100110100010100000011110001000111, rhs: 9495759995294, expected: 275359408258533}, // lhs = -15611328447417
        TestCaseTwoArgs{lhs: 0b101001010101000111101000000000101101100011111100, rhs: 8333451194323, expected: 190104654629071}, // lhs = -99703773275908
        TestCaseTwoArgs{lhs: 110409978725912, rhs: 84342768547485, expected: 194752747273397},
        TestCaseTwoArgs{lhs: 123148534317938, rhs: 93974842533169, expected: 217123376851107},
        TestCaseTwoArgs{lhs: 0b110101011101111100110000000100000010101001010000, rhs: 128857504938247, expected: 82537089016663}, // lhs = -46320415921584
        TestCaseTwoArgs{lhs: 93691572348008, rhs: 0b111100111101011100001100101010110110100110101110, expected: 80321551715862}, // rhs = -13370020632146
        TestCaseTwoArgs{lhs: 0b100100100010011000000010100110001000010010111110, rhs: 0b101000101011010010001001111010111010101001101001, expected: 58113264987943}, // lhs = -120783026748226 rhs = -102578684974487
        TestCaseTwoArgs{lhs: 113466459264113, rhs: 39142918091375, expected: 152609377355488},
        TestCaseTwoArgs{lhs: 29268711679113, rhs: 135775888571921, expected: 165044600251034},
        TestCaseTwoArgs{lhs: 16875397371817, rhs: 124392311540821, expected: 141267708912638},
        TestCaseTwoArgs{lhs: 81876443848312, rhs: 0b111101011110110001011111110000010111100001000010, expected: 70797034739386}, // rhs = -11079409108926
        TestCaseTwoArgs{lhs: 128425486550540, rhs: 0b110110100001000010000001000110100010101010111010, expected: 86714930147526}, // rhs = -41710556403014
        TestCaseTwoArgs{lhs: 0b100011010001101000001100001011011110001000010100, rhs: 102938176695891, expected: 258081189695591}, // lhs = -126331963710956
        TestCaseTwoArgs{lhs: 0b111001000001010010101000000101011000100001011101, rhs: 136560484547239, expected: 105862878298884}, // lhs = -30697606248355
        TestCaseTwoArgs{lhs: 0b100011100001011111001110100011010111000001110000, rhs: 14191500504735, expected: 170424401272591}, // lhs = -125242075942800
        TestCaseTwoArgs{lhs: 50934632513472, rhs: 0b110110001101011011100011010110100110011100010110, expected: 7877104756438}, // rhs = -43057527757034
        TestCaseTwoArgs{lhs: 94820686897113, rhs: 2567110534105, expected: 97387797431218},
        TestCaseTwoArgs{lhs: 44775841562633, rhs: 47860151942635, expected: 92635993505268},
        TestCaseTwoArgs{lhs: 122504644827626, rhs: 0b110100111010110010000100001100001110001110100110, expected: 73767573749136}, // rhs = -48737071078490
        TestCaseTwoArgs{lhs: 0b110001111010001010100001010000000001000000100110, rhs: 0b110011000100111100111101100001001101101001111000, expected: 162667033848478}, // lhs = -61973672751066 rhs = -56834270111112
        TestCaseTwoArgs{lhs: 58289416208780, rhs: 109579134840081, expected: 167868551048861},
        TestCaseTwoArgs{lhs: 0b110101000010001000100100011001000000010110100111, rhs: 104556101541138, expected: 56324229341881}, // lhs = -48231872199257
        TestCaseTwoArgs{lhs: 0b100101110010000111011111011010100110001110110101, rhs: 0b111001011110100110101000001100000101101010001000, expected: 137488473177661}, // lhs = -115303238704203 rhs = -28683264828792
        TestCaseTwoArgs{lhs: 0b111001100000100100010100001000100011011110101111, rhs: 0b111101110011111101011100101110000101110001000111, expected: 243303200756726}, // lhs = -28548309829713 rhs = -9623466124217
        TestCaseTwoArgs{lhs: 115557789251225, rhs: 0b101111001011100110110110101111000000000000010000, expected: 41588633286313}, // rhs = -73969155964912
        TestCaseTwoArgs{lhs: 31240356205029, rhs: 113036729126945, expected: 144277085331974},
        TestCaseTwoArgs{lhs: 134074307355623, rhs: 0b100110110011100000001011000100101110101100111100, expected: 23264336908067}, // rhs = -110809970447556
        TestCaseTwoArgs{lhs: 33014368765393, rhs: 0b101000100011011011101100110011001110000111011111, expected: 211371153549232}, // rhs = -103118191926817
        TestCaseTwoArgs{lhs: 0b111101111010101011011111010011001000010101011110, rhs: 67813316039226, expected: 58651602163608}, // lhs = -9161713875618
        TestCaseTwoArgs{lhs: 41765564494478, rhs: 0b101101011110010000101010101111010011101100110100, expected: 241757138709954}, // rhs = -81483402495180
        TestCaseTwoArgs{lhs: 0b111111000010001111010010111110010001111100101011, rhs: 112158597112296, expected: 107914413998355}, // lhs = -4244183113941
        TestCaseTwoArgs{lhs: 0b101010100010100000011010101100010011001010000010, rhs: 0b101001110001011000111010101001010110111110011101, expected: 89328161563167}, // lhs = -94385753476478 rhs = -97761061671011
        TestCaseTwoArgs{lhs: 26808961005146, rhs: 63976390436243, expected: 90785351441389},
        TestCaseTwoArgs{lhs: 0b110110000000110110000010100111011101001011010110, rhs: 85125047885489, expected: 41202608730503}, // lhs = -43922439154986
        TestCaseTwoArgs{lhs: 0b101111010011100100000101111011010100011110101111, rhs: 38389740115500, expected: 246442350337499}, // lhs = -73422366488657
        TestCaseTwoArgs{lhs: 94642859422517, rhs: 0b100101110010111100001010110001111011101110101010, expected: 260871159541471}, // rhs = -115246676591702
        TestCaseTwoArgs{lhs: 8263994585952, rhs: 0b110010000001110000111000110101110110011100100011, expected: 228287532866179}, // rhs = -61451438430429
        TestCaseTwoArgs{lhs: 0b100001110000100001010011000110111000010110001101, rhs: 0b110110111110101000100000001011110001000100100100, expected: 108793455875761}, // lhs = -133005152909939 rhs = -39676367924956
        TestCaseTwoArgs{lhs: 26712915178138, rhs: 0b110110100001110111101101011110010101110010101101, expected: 266534988238663}, // rhs = -41652903650131
        TestCaseTwoArgs{lhs: 0b111001011100111000011010111111000111100011101110, rhs: 0b100010100011001000000101010100100001100110111000, expected: 123145844331174}, // lhs = -28801597933330 rhs = -129527534446152
        TestCaseTwoArgs{lhs: 140059648833044, rhs: 73826197388935, expected: 213885846221979},
        TestCaseTwoArgs{lhs: 0b111111000100000011001100010001001101101000010101, rhs: 0b111001111000000000111101111111000110100001010100, expected: 250418240242281}, // lhs = -4119741539819 rhs = -26936994928556
        TestCaseTwoArgs{lhs: 0b100000000101100100110111000010111100011001111001, rhs: 135584163368667, expected: 276704827331924}, // lhs = -140354312747399
        TestCaseTwoArgs{lhs: 0b110001010100100000101110011111100010111000010010, rhs: 59422912839784, expected: 276336721178234}, // lhs = -64561168372206
        TestCaseTwoArgs{lhs: 0b110111101001011001110001000011010110010100011011, rhs: 110929685921562, expected: 74192432374837}, // lhs = -36737253546725
        TestCaseTwoArgs{lhs: 0b111100000011001100010000001010010110010101011110, rhs: 83195565897760, expected: 65822694333822}, // lhs = -17372871563938
        TestCaseTwoArgs{lhs: 0b111101100010100011100000001011100100010000101010, rhs: 0b101110100100111100000101111011110111010000000011, expected: 194029008304173}, // lhs = -10819556457430 rhs = -76626411949053
        TestCaseTwoArgs{lhs: 0b100011110111010110100101110011100010000101000100, rhs: 81172290599512, expected: 238907746294684}, // lhs = -123739521015484
        TestCaseTwoArgs{lhs: 114717545600200, rhs: 0b110100100101100011000110110001000010101000110011, expected: 64521302589179}, // rhs = -50196243011021
        TestCaseTwoArgs{lhs: 0b100010111010001010000001101000101010100000000000, rhs: 34120924153352, expected: 187651000036872}, // lhs = -127944900827136
        TestCaseTwoArgs{lhs: 0b111100111100010011101001100111111111101000000000, rhs: 0b101111001010110110101011110100101000011100111101, expected: 194006180069693}, // lhs = -13447917995520 rhs = -74020878645443
        TestCaseTwoArgs{lhs: 0b110101101001000100001000111001010010010101111001, rhs: 0b111111111111101110111001000111011111100000101010, expected: 235900038749603}, // lhs = -45556568873607 rhs = -18369087446
        TestCaseTwoArgs{lhs: 74058472594581, rhs: 67483080287184, expected: 141541552881765},
        TestCaseTwoArgs{lhs: 81858901580703, rhs: 58859236758647, expected: 140718138339350},
        TestCaseTwoArgs{lhs: 34334712760889, rhs: 0b100001000110011100110010110100111011011011101011, expected: 179913481994532}, // rhs = -135896207477013
        TestCaseTwoArgs{lhs: 0b101000001000001001011011010100000010100111100110, rhs: 37792749055414, expected: 214274487228316}, // lhs = -104993238537754
        TestCaseTwoArgs{lhs: 0b111001110011010111111101110000111000111001011011, rhs: 0b100000100101100001011011111011000010011011111101, expected: 116060110959960}, // lhs = -27255899976101 rhs = -138158965774595
        TestCaseTwoArgs{lhs: 86189284896008, rhs: 118067946123329, expected: 204257231019337},
        TestCaseTwoArgs{lhs: 121797687641229, rhs: 0b111001001100101110011000100101110010010100111000, expected: 91885800466885}, // rhs = -29911887174344
        TestCaseTwoArgs{lhs: 0b111100111111101100011101010110110101010000101001, rhs: 79163138453621, expected: 65948016608414}, // lhs = -13215121845207
        TestCaseTwoArgs{lhs: 0b110110111001100001100100000100111001101100010011, rhs: 47959649298870, expected: 7932233106633}, // lhs = -40027416192237
        TestCaseTwoArgs{lhs: 0b100000100010110100100110101001011100110011000100, rhs: 0b111000011100001011111010010000111000100010111010, expected: 109882995463550}, // lhs = -138344543171388 rhs = -33247438075718
        TestCaseTwoArgs{lhs: 108805294298619, rhs: 0b110001111111010001110100010011000100110000111010, expected: 47183054692917}, // rhs = -61622239605702
        TestCaseTwoArgs{lhs: 9640312588753, rhs: 0b100110100001000101101010101111110000111110000101, expected: 179039908616534}, // rhs = -112075380682875
        TestCaseTwoArgs{lhs: 45805041341900, rhs: 0b101001110110101110000111000000111110111101000010, expected: 229885309863182}, // rhs = -97394708189374
        TestCaseTwoArgs{lhs: 0b110000111110100010011100011101101100010101000000, rhs: 3008297963689, expected: 218412122822121}, // lhs = -66071151852224
        TestCaseTwoArgs{lhs: 0b111000010001101000110101001111100101111010000010, rhs: 0b111001101100011010111100001011100010000010000011, expected: 219768937021189}, // lhs = -33972298031486 rhs = -27733741657981
        TestCaseTwoArgs{lhs: 0b100111111001110001100001000100100000001001101110, rhs: 114675671687393, expected: 8694687261519}, // lhs = -105980984425874
        TestCaseTwoArgs{lhs: 0b100100010000001001010010101110000100011100111011, rhs: 52904144347129, expected: 212343308117812}, // lhs = -122035812939973
        TestCaseTwoArgs{lhs: 0b111010010011110100101110101010111110000010101110, rhs: 11214382490842, expected: 267663367783816}, // lhs = -25025991417682
        TestCaseTwoArgs{lhs: 0b111001100001001010110100101001010000010011110100, rhs: 0b100000010000100101100100111101110010100110011110, expected: 113370386411154}, // lhs = -28506962197260 rhs = -139597628102242
        TestCaseTwoArgs{lhs: 60997776195579, rhs: 105118094031266, expected: 166115870226845},
        TestCaseTwoArgs{lhs: 0b111101111101011011000010001011111110100010100000, rhs: 122714101736432, expected: 113740878007440}, // lhs = -8973223728992
        TestCaseTwoArgs{lhs: 11200946916082, rhs: 0b111100111000000001000001001001000101111100000000, expected: 278933121182194}, // rhs = -13742802444544
        TestCaseTwoArgs{lhs: 0b110111001111100110011110100111101111000001001111, rhs: 0b111001100110001000100100011001110111011010000111, expected: 214798881416918}, // lhs = -38510310526897 rhs = -28165784766841
        TestCaseTwoArgs{lhs: 55271239013780, rhs: 0b110000110001101000101011000010011101001111001000, expected: 269788397644124}, // rhs = -66957818080312
        TestCaseTwoArgs{lhs: 133798440465123, rhs: 0b110111100001000011000101101101111000001010000100, expected: 96487081735527}, // rhs = -37311358729596
        TestCaseTwoArgs{lhs: 26875277634975, rhs: 21419145327301, expected: 48294422962276},
        TestCaseTwoArgs{lhs: 137885347430561, rhs: 35618526589505, expected: 173503874020066},
        TestCaseTwoArgs{lhs: 35402192562921, rhs: 37844920032202, expected: 73247112595123},
        TestCaseTwoArgs{lhs: 64072102614008, rhs: 59467269852001, expected: 123539372466009},
        TestCaseTwoArgs{lhs: 0b110001011011110101111111000100011101110111001111, rhs: 0b100111010110100001111101101011000111000010111101, expected: 109014805270156}, // lhs = -64057305342513 rhs = -108402866097987
        TestCaseTwoArgs{lhs: 0b110001101110010110011110111111010111101000101110, rhs: 0b111011110101000101011010000000101010001001101001, expected: 200347222023319}, // lhs = -62785459488210 rhs = -18342295199127
        TestCaseTwoArgs{lhs: 0b111100000110100100011001101111111111110001001011, rhs: 0b101111000101001010010100101100001111001010001101, expected: 189922085498584}, // lhs = -17140782465973 rhs = -74412108746099
        TestCaseTwoArgs{lhs: 0b101110001000101001010000101011010010010111111011, rhs: 0b111111010110011111100101101111011010011010111100, expected: 200051899681975}, // lhs = -78570778188293 rhs = -2852298840388
        TestCaseTwoArgs{lhs: 0b100000101000001011100011010000111100000101101010, rhs: 0b111111110100100011000111111111011101100111011001, expected: 142711751547715}, // lhs = -137976306482838 rhs = -786918680103
        TestCaseTwoArgs{lhs: 0b100010111011110100001000011101111001110100001000, rhs: 99188061220249, expected: 252832068356769}, // lhs = -127830969574136
        TestCaseTwoArgs{lhs: 0b101010100100100000011110001111101010100001101001, rhs: 23153216199811, expected: 210379937989868}, // lhs = -94248254920599
        TestCaseTwoArgs{lhs: 88313539158782, rhs: 124434643506797, expected: 212748182665579},
        TestCaseTwoArgs{lhs: 136718787172235, rhs: 130310649710081, expected: 267029436882316},
        TestCaseTwoArgs{lhs: 0b111100111110001001101110000001011100100110100010, rhs: 108317616744050, expected: 94996474064916}, // lhs = -13321142679134
        TestCaseTwoArgs{lhs: 20462301899211, rhs: 0b110001011000110000001111000000100000000101001111, expected: 237667639782170}, // rhs = -64269638827697
        TestCaseTwoArgs{lhs: 64010640348417, rhs: 58662125744073, expected: 122672766092490},
        TestCaseTwoArgs{lhs: 0b110101000010100000110000100010000010110000001001, rhs: 0b101100000000111001111110111110101110000100010011, expected: 145370407701788}, // lhs = -48205898699767 rhs = -87898670309101
        TestCaseTwoArgs{lhs: 11268515524554, rhs: 0b110000101100011111110101001110001101011101000001, expected: 225432583948043}, // rhs = -67310908287167
        TestCaseTwoArgs{lhs: 0b111101101000110111001110010101111110000011100001, rhs: 90272175865870, expected: 79886111842543}, // lhs = -10386064023327
        TestCaseTwoArgs{lhs: 0b110000001111000011000101100100111001110101010111, rhs: 0b110010101011010001000110001001111100001011111100, expected: 153540982693971}, // lhs = -69334637241001 rhs = -58599356775684
        TestCaseTwoArgs{lhs: 0b100011010000101110010111110110110101011111101010, rhs: 0b101000010101111100000110111110110011001010000101, expected: 51035466271343}, // lhs = -126394044819478 rhs = -104045465619835
        TestCaseTwoArgs{lhs: 86802682906008, rhs: 5803221092117, expected: 92605903998125},
        TestCaseTwoArgs{lhs: 46857206781817, rhs: 13223446752337, expected: 60080653534154},
        TestCaseTwoArgs{lhs: 111965869084401, rhs: 0b110101101110110000000100110000000011010000101010, expected: 66800072704795}, // rhs = -45165796379606
        TestCaseTwoArgs{lhs: 0b111000100100110111011001110111001001100011011010, rhs: 110064973825935, expected: 77413992587369}, // lhs = -32650981238566
        TestCaseTwoArgs{lhs: 0b111011001000111011010111111001100111011000100001, rhs: 0b101100110011111000010111000100001111000010110110, expected: 175702531335895}, // lhs = -21376724994527 rhs = -84395720380234
        TestCaseTwoArgs{lhs: 131625708825956, rhs: 76366440316264, expected: 207992149142220},
        TestCaseTwoArgs{lhs: 25267915854995, rhs: 44624193517820, expected: 69892109372815},
        TestCaseTwoArgs{lhs: 96639355658168, rhs: 0b111110011011110111110100010010101110010100011011, expected: 89758621631699}, // rhs = -6880734026469
        TestCaseTwoArgs{lhs: 22042988884732, rhs: 35757702591503, expected: 57800691476235},
        TestCaseTwoArgs{lhs: 26739282763330, rhs: 0b111010000010110111101111011111010010101111000100, expected: 548295182854}, // rhs = -26190987580476
        TestCaseTwoArgs{lhs: 0b100111100000110011001010110111011001101000110011, rhs: 140221316575656, expected: 32524120181723}, // lhs = -107697196393933
        TestCaseTwoArgs{lhs: 0b111010111100100111110011000110000000111110000010, rhs: 0b110101100110010000011000110110111100011001010001, expected: 213503024813523}, // lhs = -22222377316478 rhs = -45749574580655
        TestCaseTwoArgs{lhs: 0b111010110011111000101011101001111100100000011011, rhs: 0b110111111011111111111010001111100110110100100000, expected: 223192906347835}, // lhs = -22822723794917 rhs = -35459346567904
        TestCaseTwoArgs{lhs: 0b110001011001000100111010001011101111011101111110, rhs: 45763779334680, expected: 262991316421014}, // lhs = -64247439624322
        TestCaseTwoArgs{lhs: 0b101000010110111101010101101110011010111110000111, rhs: 131588705275869, expected: 27613280239460}, // lhs = -103975425036409
        TestCaseTwoArgs{lhs: 42903020723348, rhs: 34531033914012, expected: 77434054637360},
        TestCaseTwoArgs{lhs: 67573682732138, rhs: 0b111100001011110110111100011110111101001010000111, expected: 50796407738097}, // rhs = -16777274994041
        TestCaseTwoArgs{lhs: 0b101011101000110111100111000110110010011110101101, rhs: 0b101110101110010000011101010010111111010001110111, expected: 115938421054500}, // lhs = -89550485772371 rhs = -75986069883785
        TestCaseTwoArgs{lhs: 114157099168164, rhs: 0b110001010111000110111100001111011101001011100100, expected: 49774402602120}, // rhs = -64382696566044
        TestCaseTwoArgs{lhs: 0b100111011011100111010010110010111101011101110000, rhs: 0b100000010000001001001011101011001001010111000001, expected: 33793313893681}, // lhs = -108053545625744 rhs = -139628117191231
        TestCaseTwoArgs{lhs: 0b110100100100101110001001010011010000101101111111, rhs: 0b101001001011000011110111111010001111101001001111, expected: 130826871637454}, // lhs = -50253108802689 rhs = -100394996270513
        TestCaseTwoArgs{lhs: 0b100000011011111001100011010011011010111111010101, rhs: 0b110111000010100010110000100100011010011111001110, expected: 103247052232611}, // lhs = -138820266905643 rhs = -39407657572402
        TestCaseTwoArgs{lhs: 33726475244977, rhs: 0b111010011011100100111111000000101111011001010001, expected: 9233333914626}, // rhs = -24493141330351
        TestCaseTwoArgs{lhs: 12410668611233, rhs: 0b100111000101010011011100001110011101011111101111, expected: 184298954575504}, // rhs = -109586690746385
        TestCaseTwoArgs{lhs: 0b100000101011000010011101010101111001010000110010, rhs: 0b100011001110111100101100100101101111010100100110, expected: 17178962069848}, // lhs = -137779911093198 rhs = -126516103547610
        TestCaseTwoArgs{lhs: 124835512025779, rhs: 0b100100100100111111101010100011101010000010111100, expected: 4232470602607}, // rhs = -120603041423172
        TestCaseTwoArgs{lhs: 94537334057225, rhs: 0b100101101001111101101001010011101111010001100100, expected: 260148744805741}, // rhs = -115863565962140
        TestCaseTwoArgs{lhs: 38462110517953, rhs: 0b111001110110101010110001110101010100010111010101, expected: 11432569901206}, // rhs = -27029540616747
        TestCaseTwoArgs{lhs: 0b111011011100001110010111111000111100101110001001, rhs: 15040349727312, expected: 276464672421337}, // lhs = -20050654016631
        TestCaseTwoArgs{lhs: 6462548378244, rhs: 0b100110100010000011110111101100111111111110011101, expected: 175928933777953}, // rhs = -112008591310947
        TestCaseTwoArgs{lhs: 0b110111100110100010110100000111100011000101000101, rhs: 93976558253123, expected: 57042861385096}, // lhs = -36933696868027
        TestCaseTwoArgs{lhs: 2983151752003, rhs: 0b101001001111001001010111100010111010111110010100, expected: 184343909565143}, // rhs = -100114218897516
        TestCaseTwoArgs{lhs: 135641737326344, rhs: 112353460215465, expected: 247995197541809},
        TestCaseTwoArgs{lhs: 0b111110010000100100101011010001011010010110010000, rhs: 81704457335356, expected: 74047256631244}, // lhs = -7657200704112
        TestCaseTwoArgs{lhs: 133818684148760, rhs: 24770890280810, expected: 158589574429570},
        TestCaseTwoArgs{lhs: 0b110101011011010110000100010010111101000101111001, rhs: 0b110110000111011110010000101111110110000000000001, expected: 191508649816442}, // lhs = -46499391352455 rhs = -43466935541759
        TestCaseTwoArgs{lhs: 0b111111001110000001110001110100110011100100000110, rhs: 6018397414150, expected: 2584333245452}, // lhs = -3434064168698
        TestCaseTwoArgs{lhs: 44896624560162, rhs: 95569248359917, expected: 140465872920079},
        TestCaseTwoArgs{lhs: 101371430797055, rhs: 33204826274682, expected: 134576257071737},

        // Edge cases
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0b100000000000000000000000000000000000000000000000, expected: 0}, // lhs = -140737488355328 rhs = -140737488355328
        TestCaseTwoArgs{lhs: 0, rhs: 140737488355327, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 0, rhs: 0b100000000000000000000000000000000000000000000000, expected: 140737488355328}, // rhs = -140737488355328
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0, expected: 140737488355327},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 140737488355327, expected: 281474976710654},
        TestCaseTwoArgs{lhs: 140737488355327, rhs: 0b100000000000000000000000000000000000000000000000, expected: 281474976710655}, // rhs = -140737488355328
        TestCaseTwoArgs{lhs: 0, rhs: 0, expected: 0},
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 0, expected: 140737488355328}, // lhs = -140737488355328
        TestCaseTwoArgs{lhs: 0b100000000000000000000000000000000000000000000000, rhs: 140737488355327, expected: 281474976710655}, // lhs = -140737488355328
    ];

    #[test]
    fn test_i48() {
        for case in test_cases.span() {
            let mut state = RTStateOps::new();
            assert_eq!(__llvm_add_k_k_k(ref state, *case.lhs, *case.rhs), *case.expected);
        }
    }
}
